# 第十三章：MongoDB 案例研究

概述

在本章中，您将学习 MongoDB 如何在商业用例中使用。它以一个场景开始，虚构的市政府和当地初创企业共同开发了一个基于移动应用的共享单车平台。然后，它将涵盖一个详细的项目提案和一些挑战，以及如何使用基于 MongoDB Atlas 的数据库即服务解决方案解决这些挑战。最后，您将探索 MongoDB 如何用于一些用例，逐个进行了解，并验证数据库设计是否涵盖了所有需求。

# 介绍

到目前为止，在本书中，我们已经成功掌握了 MongoDB 的各个方面，从基本介绍到灾难恢复。对于您选择学习的任何工具或技术，了解其如何使用是很重要的，这就是我们在前几章中所取得的成就。因此，最后一章将专注于使用这项技术来解决现实生活中的问题，并使生活更加轻松。

在本章中，我们将研究一个虚构的市政府及其即将推出的共享单车项目的用例。首先，我们将了解项目的细节并看看为什么需要它；然后，我们将涵盖需求并找出 MongoDB 如何解决他们的问题。

# Fair Bay 市政厅

Fair Bay 是位于北罗斯兰东海岸的城市，以其宜人的气候和历史意义而闻名。它也是该国的主要商业中心之一。在过去的二十年里，这座城市创造了巨大的就业机会，并吸引了来自全国和全球各地的人才。因此，过去十年间，这座城市的人口急剧增加，进而推动了城市的房地产市场。

城市正在快速扩张，当地市政府正在努力评估和重新开发城市的基础设施和设施，以维持其生活指数的便利性。他们经常对其公共基础设施进行调查和评估，以确定公众提出的一些最常见的问题。

在过去的评估和调查中，当地社区居民反复提出了以下关切：

+   当地交通总是拥挤。

+   交通拥堵频繁发生。

+   燃油和停车价格不断上涨。

+   城市中心的空气质量很差。

+   通勤时间正在增加。

为了解决这些投诉，市政府邀请公司、初创企业，甚至公众提出智能和创新的想法和相关项目提案。经过仔细审查和批准，最佳提案被送交州发展和规划委员会审批资金。市政府的倡议迄今为止取得了巨大成功，因为他们有几个受欢迎的想法。今年，提交的项目提案之一引起了大家的注意。当地一家初创企业提出了一个在线共享单车平台 Fair Bay City Bikes 的推出。除了是独特的创新解决方案外，它也是最环保的项目提案之一。他们的提案细节在以下部分中概述。

# Fair Bay City Bikes

人口稠密的大都市经常遭受交通拥堵和公共交通拥挤。共享单车计划是一种可持续的出行方式，有几个原因。它提供了比使用汽车、公共交通或私人自行车更健康和更便宜的交通方式。它涉及在城市各地采购和停放自行车。这些自行车可以由公众使用，按先到先得的原则，进入城市。通常，自行车的预订和跟踪是通过在线平台控制的。研究和调查得出结论，一个良好实施的共享单车计划可以：

+   减少交通拥堵

+   改善空气质量

+   减少汽车和公共交通的使用

+   帮助人们节省在其他交通工具上的花费

+   鼓励更健康的生活方式

+   增进社区感

因此，许多城市正在通过提供共享单车平台和城市内的专用自行车道来积极鼓励骑自行车。Fair Bay City Bikes 项目是一个具有独特特点的下一代共享单车平台，如自动锁定和用户友好的移动应用程序。接下来，我们将看一下他们提案的一些主要亮点。

## 提案亮点

Fair Bay City Bikes 项目的一些亮点如下。

### 无桩自行车

Fair Bay City Bike 项目是一个无桩共享单车项目。一般来说，自行车需要专用的停车站来锁定。用户需要访问这些停车站来开始和结束他们的骑行。这种系统的主要缺点是在城市各地均匀设置停车站基础设施。建立这样的网络涉及在每个地区找到一个安全和合适的地方，这通常是负担不起的。其次，人们往往很难找到和访问停车站。对用户来说，找不到靠近目的地的空停车站是一个常见的问题，这让他们不愿使用该系统。

另一方面，无桩自行车具有内置的自动锁定和解锁机制。它们可以在任何安全的地方或任何专用停车区取车、停车和留下。用户可以在其周围停放的任何自行车中选择，并将它们留在靠近目的地的任何安全停车位。

### 易于使用

用户可以在他们的手机上下载并访问 City Bikes 应用程序。在提供一些个人信息，如姓名、电话号码和政府发行的照片 ID（如驾驶执照）后，他们就可以随时使用自行车。

用户可以使用应用程序中的查找功能开始骑行，并根据他们的位置，在地图视图中显示最近可用自行车的列表。用户可以选择任何可用的自行车，并使用应用程序内的导航辅助功能到达自行车。接下来，用户需要扫描自行车上的唯一快速响应（QR）码，然后简单点击解锁。

![图 13.1：用户可以扫描以解锁自行车的 QR 码](img/B15507_13_01.jpg)

图 13.1：用户可以扫描以解锁自行车的 QR 码

一旦自行车解锁，它就暂时与用户的账户关联起来。完成旅程后，用户需要将自行车停放在一个安全的地方，打开应用程序，点击锁定自行车，这将释放自行车与用户账户的关联。

### 实时跟踪

所有自行车都有内置的 GPS 跟踪设备，可以实时跟踪它们的位置。有了这种跟踪能力，用户可以轻松搜索周围地区的可用自行车，并使用导航辅助功能访问自行车。

此外，一旦骑行开始，每辆自行车的位置将每 30 秒记录一次并记录到系统中。这些记录将用于报告、分析和在紧急情况或盗窃时跟踪自行车。用户可以在任何时间将自行车带到城市的任何地方，实时跟踪帮助他们感到安全。

### 维护和保养

所有自行车都需要定期维护和仔细检查，以确保它们能够有效运行。这种维护每 15 天进行一次，期间自行车会被清洁，移动部件会被润滑，轮胎气压会被检查和调节，刹车会被检查和调整。每天，系统会识别需要维护的自行车，将它们从系统的可用自行车列表中移除，并通知一个技术团队。

# 技术讨论和决策

议案受到理事会成员的高度赞赏，他们对其尖端功能和低成本实施印象深刻，因为无桩系统比使用停靠式自行车要便宜得多。理事会准备采购自行车，修建自行车道，并在整个城市实施信号系统。他们还将准备使用和安全指南以及处理广告。初创团队负责构建 IT 基础设施和移动应用程序。

理事会坚持要求团队将 IT 基础设施成本降至最低，减少总体推出时间，并构建一个可扩展和灵活的系统以满足未来的需求变化。初创公司的技术团队进行了一些研究，以解决这些条件，详细内容如下。

### 快速推出

团队时间紧迫，需要找到一种*快速构建和快速交付*的方法。实现这一目标的关键是减少研究时间，并选择知名和经过验证的技术。技术团队已经准备好了移动应用程序和后端应用程序。他们现在唯一需要做的就是决定一个合适的数据库平台。需要一个数据库来持久化客户详细信息、自行车详细信息、自行车的实时位置和骑行详细信息。这个数据库平台应该快速设置，而不用太担心基础设施、集成、安全性或备份。团队决定选择**数据库即服务**（**DBaaS**）解决方案，以提供可靠、可扩展的解决方案，并缩短上市时间。

### 成本效益

由于理事会同时资助了许多项目，预算有点紧张。因此，他们决定先从 200 辆自行车开始，观察效果，并征求公众反馈。根据这些反馈，他们愿意将车队规模增加到 1,000 辆，甚至如果需要的话增加到 2,000 辆。车队规模的增加将进一步导致需要管理的数据量增加。为此，**DBaaS**平台是一个很好的选择，因为它允许您从最小的设置开始，并根据需要进行扩展。

最初的 200 辆自行车意味着最多会有 200 次骑行。因此，不需要进行大型数据集处理，因此团队决定选择低 RAM 和低 CPU 集群。随着车队规模的增长，他们可以进行横向或纵向扩展，并且成本始终会根据使用需求进行优化。

### 灵活

在一次理事会会议上，一些成员提出了以下建议：

+   收费：只有居民可以免费使用，而游客和访客将为每次骑行付费。

+   使用护照作为有效的身份证明：将护照添加到有效身份证件列表中。没有政府提供的照片身份证的客户可以使用他们的护照来注册系统。

+   将滑板车加入车队：系统应支持共享自行车和共享滑板车。

这些建议肯定会通过使系统更加用户友好来改进系统。然而，在这些建议纳入系统之前，需要进行一些分析。收费和支持不同类型的身份验证需要与联邦和外部系统集成。这种集成需要遵守相关部门发布的不同规则、法规和安全和隐私政策。

考虑到这些挑战，理事会决定坚持当前的第一阶段计划。建议更改的要求将在项目的第二阶段中得到最终确定并纳入。

技术团队了解到系统需要足够灵活，以便纳入任何尚不明确或不确定的未来更改。根据当前的技术设计，用户具有驾驶执照号码作为 ID，但需要更灵活地存储其他类型的 ID。此外，为了收取费用，模式需要足够灵活，以纳入用户的银行账户或信用卡详细信息。同样，为了引入车队中的滑板车（可能具有不同的维护要求或不同的费用结构），系统需要能够区分自行车和滑板车。

在这种情况下，传统的数据库实体，其受严格的模式定义约束，不是一个好选择。为了纳入一些未来的更改，它们的模式定义需要首先进行更新。使用传统数据库，模式更改很难推出和回滚。经过仔细考虑和比较，团队决定选择 MongoDB Atlas 集群。MongoDB 提供了灵活的模式和水平以及垂直扩展能力。Atlas 集群帮助推出一个生产级系统，只需点击几下即可，并且在成本和时间上节省了大量开支。在下一节中，我们将详细介绍数据库设计。

# 数据库设计

根据前几节描述的要求，要持久化的三个基本实体是`user`、`vehicle`和`ride`。`user`和`vehicle`实体将分别存储用户和车辆的属性，而`ride`实体将在开始新的骑行时创建。

除了基本实体外，还需要一个额外的实体来跟踪自行车骑行日志。对于每次活动骑行，系统会捕获并记录自行车的位置。这些日志将用于报告和分析目的。

由于 MongoDB 提供的基于文档的数据集，所有实体都可以轻松设计为集合。这些集合及其一些示例记录将在下一节中探讨。

## 用户

`users`集合保存了所有在系统中注册的用户的数据。以下代码片段显示了代表其中一个注册用户的示例文档：

```js
{
    "_id" : "a6e36e30-41fa-45bf-93c5-83da4efeed37",
    "email_address" : "ethel.112@example.com", 
    "first_name" : "Ethel",
    "last_name" : "Carter",
    "date_of_birth" : ISODate("1993-06-01T00:00:00Z"),
    "address" : {
        "street" : "51 Thornridge Cir",
        "city" : "Fair Bay",
        "state" : "North Roseland",
        "post_code" : 9924,
        "country" : "Roseland"
    },
    "registration_date" : ISODate("2020-11-24T00:00:00Z"),
    "id_documents" : [
    {
        "drivers_license" : {
            "license_number" : 2771556252,
            "issue_date" : ISODate("2011-04-18T00:00:00Z")
        }
    }],
    "payments" : [
    {
        "credit_card" : {
            "name_on_card" : "Ethel Carter",
            "card_number" : 342610644867494,
            "valid_till" : "3/22"
        }
    }]
}
```

文档中的主键是随机生成的唯一 UUID 字符串。还有其他字段用于保存用户的基本信息，如他们的名字、姓氏、出生日期、地址、电子邮件地址和系统注册日期。`id_documents`字段是一个数组，目前存储驾驶执照详细信息。将来，当启用其他 ID 类型，如护照时，用户将能够提供多个 ID 详细信息。目前收集付款详细信息是作为预防措施。除非自行车在骑行过程中损坏或被盗，否则客户不会被收费。`payments`字段是一个数组，目前存储信用卡详细信息。一旦系统与其他支付网关集成，用户将有其他支付方式的选择。

## 车辆

`vehicles`集合代表车队中的自行车。城市自行车最初将有 200 辆自行车。下面的车辆文档结构及所有字段和示例值将在以下片段中显示：

```js
{
    "_id" : "227fe7e0-76c7-410b-afe8-6ae5785ac937",
    "vehicle_type" : "bike|scooter",
    "status" : "available",
    "rollout_date" : ISODate("2020-10-20T00:00:00Z"),
    "make" : {
        "Manufacturer" : "Compass Cycles",
        "model_name" : "Unisex - Flatbar Carbon Frame Road Bike",
        "model_code" : "CBUFLATR101",
        "year" : 2020,
        "frame_number" : "FWJ166K23683958E"
    },
    "gears" : 3,
    "has_basket" : true,
    "has_helmet" : true,
    "bike_type" : "unisex|men|women",
    "location" : {
        "type" : "Point",
        "coordinates" : [
            111.189631,
            -72.454577
        ]
    },
    "last_maintenance_date" : ISODate("2020-11-05T00:00:00Z")
}
```

此文档中的主键是唯一的 UUID 字符串。此 ID 用于唯一地引用车辆，例如在 QR 码或车辆骑行详情中。还有其他静态字段用于表示车辆的投放日期、制造商名称、型号、车架号、齿轮数等。考虑到市政府未来计划推出滑板车，引入了一个名为 `vehicle_type` 的字段。该字段区分自行车和滑板车。`status` 字段表示自行车当前是否可用、正在骑行或正在维护（在这种情况下，它是可用的）。该字段可以包含这三个值中的任何一个：`available`、`on_ride` 和 `under_maintenance`。最后的维护日期有助于确定车辆是否需要维护。`location` 字段表示车辆的当前地理位置，并且在 MongoDB 的 `Point` 类型的地理空间索引中表示。其他可选字段，如 `has_basket`、`has_helmet` 和 `bike_type`，对于满足特定要求的客户非常有用。请注意，自行车型号可以分为 `男士`、`女士` 或中性自行车，而滑板车始终是中性的。因此，只有当 `vehicle_type` 为 `bike` 时，才会出现 `bike_type` 字段。

## 骑行

`rides` 集合代表了行程，该集合中的文档总数表示通过系统进行的骑行次数：

```js
{
    "_id" : "ebe89a65-ee02-4fa8-aba7-88c33751d487",
    "user_id" : "a6e36e30-41fa-45bf-93c5-83da4efeed37",
    "vehicle_id" : "227fe7e0-76c7-410b-afe8-6ae5785ac937",
    "start_time" : ISODate("2020-11-25T02:10:00Z"),
    "start_location" : {
        "type" : "Point",
        "coordinates" : [
            111.189631,
            -72.454577
        ]
    },
    "end_time" : ISODate("2020-11-25T03:17:00Z"),
    "end_location" : {
        "type" : "Point",
        "coordinates" : [
            111.045789,
            -72.456144
        ]
    },
    "feedback" : {
        "stars" : 5,
        "comment" : "Navigation helped me locate the bike quickly, enjoyed my           ride. Thank you City Bikes"
    }
}
```

每次骑行都有一个随机生成的 UUID 字符串作为主键。`user_id` 和 `vehicle_id` 字段分别表示当前使用骑行的用户和车辆。当用户解锁自行车时，将创建 `ride` 文档，并在创建时插入 `start_time` 和 `start_location` 字段。当用户在行程结束时锁定自行车时，将创建 `end_time` 和 `end_location` 字段。还有一个可选字段用于表示反馈，其中记录了星级评分和用户评论。

## 骑行日志

`ride_logs` 集合记录了每次活动骑行的进展，每隔 30 秒记录一次。该集合主要用于分析和报告。通过使用该集合中的数据，可以实时追踪任何骑行的完整路径。在骑行过程中，如果自行车发生事故或自行车丢失，自行车的最后记录的条目可以帮助定位它。以下代码片段显示了同一辆自行车骑行的三个连续日志条目：

```js
{
    "_id" : "6b868a75-5c47-4b36-a706-e84b486d4c40",
    "ride_id" : " -ee02-4fa8-aba7-88c33751d487",
    "time" : ISODate("2020-11-25T02:10:00Z"),
    "location":{
        "type":"Point",
        "coordinates":[111.189631, -72.454577]
    }
}
{
    "_id" : "e33f9d94-8787-4b0d-aa52-08795fab2b38",
    "ride_id" : "ebe89a65-ee02-4fa8-aba7-88c33751d487",
    "time" : ISODate("2020-11-25T02:10:30Z"),
    "location":{
        "type":"Point",
        "coordinates":[111.189425 -72.454582]
    }
}
{
    "_id" : "8d39567b-efc5-43d4-9034-f636c97c97b3",
    "ride_id" : "ebe89a65-ee02-4fa8-aba7-88c33751d487",
    "time" : ISODate("2020-11-25T02:11:00Z"),
    "location":{
        "type":"Point",
        "coordinates":[111.189291, -72.454585]
    }
}
```

每个日志条目都有一个唯一的 UUID 字符串作为主键。文档包含 `ride_id`，有助于追踪骑行、用户和车辆的详细信息。`time` 和 `location` 字段有助于跟踪车辆在特定时间的地理坐标。出于分析目的，可以以多种方式使用该集合生成有用的统计信息，以识别和解决现有问题或进行未来改进。例如，该集合有助于找出所有骑行的平均自行车速度、特定区域的平均速度，或特定年龄组骑手的平均速度。通过比较这些统计数据，市政府可以确定骑手倾向于在哪些城市区域骑行速度较慢，并提供充足的自行车道。此外，他们可以通过骑手年龄来检查自行车使用和速度模式，并指定安全速度限制。该集合还有助于找出城市中最受欢迎和最不受欢迎的自行车骑行区域。根据这些信息，市政府可以采取适当措施，在受欢迎的区域提供更多的自行车，在不受欢迎的区域提供更少的自行车。

本节介绍了 MongoDB 数据库结构的细节和集合的解剖结构。在下一节中，我们将通过一些示例场景来运行各种用例。

# 用例

前面的部分提供了 City Bikes 系统的概述，要求和考虑因素以及数据库结构。现在，我们将列出使用案例和数据库查询的系统使用情况，使用一些示例场景。这将有助于验证设计的正确性，并确保没有遗漏任何要求。

### 用户查找可用自行车

考虑这样一种情况，用户在其手机上打开应用程序，然后点击查找半径 300 米内的自行车。用户当前的坐标是*经度 111.189528 和纬度-72.454567*。下一个代码片段显示了相应的数据库查询：

```js
db.vehicles.find({
    "vehicle_type" : "bike", 
    "status" : "available",
    "location" : {
        $near : {
            $geometry : {
                "type" : "Point",
                "coordinates" : [111.189528, -72.454567]
            },
            $maxDistance : 300
        }
    }
})
```

查询所有当前可用并位于请求的 300 米半径内的自行车。

### 用户解锁自行车

用户扫描自行车上的 QR 码（`227fe7e0-76c7-410b-afe8-6ae5785ac937`），然后点击解锁。解锁自行车会开始骑行，并使自行车对其他用户不可用。

使用我们的数据库，此场景可以分为两个步骤实现。首先，应更改自行车的状态，然后应创建新的骑行记录。以下代码片段显示了如何执行此操作：

```js
db.vehicles.findOneAndUpdate(
    {"_id" : "227fe7e0-76c7-410b-afe8-6ae5785ac937"},
    {
        $set : {"status" : "on_ride"}
    }
)
```

上述命令将自行车的状态设置为`on_ride`。由于自行车的状态不再设置为`available`，因此其他用户执行的自行车搜索中将不会出现该自行车。下一个代码片段显示了`rides`集合上的`insert`命令：

```js
db.rides.insert({
    "_id" : "ebe89a65-ee02-4fa8-aba7-88c33751d487",
    "user_id" : "a6e36e30-41fa-45bf-93c5-83da4efeed37",
    "vehicle_id" : "227fe7e0-76c7-410b-afe8-6ae5785ac937",
    "start_time" : new Date("2020-11-25T02:10:00Z"),
    "start_location" : {
        "type" : "Point",
        "coordinates" : [
            111.189631,
            -72.454577
        ]
    }
})
```

此`insert`命令创建了一个新的骑行记录，并将用户、自行车和骑行关联在一起。它还捕获了骑行的开始时间和开始位置。

### 用户锁定自行车

骑行结束时，用户将自行车停放在安全位置，打开应用程序，然后点击屏幕完成骑行。这也需要两个步骤。首先，需要更新骑行记录的细节。其次，需要更新车辆的状态和新位置：

```js
db.rides.findOneAndUpdate(
    {"_id" : "ebe89a65-ee02-4fa8-aba7-88c33751d487"},
    {
        $set : {
            "end_time" : new Date("2020-11-25T03:17:00Z"),
            "end_location" : {
                "type" : "Point",
                "coordinates" : [
                    111.045789,
                    -72.456144
                ]
            }
        }
    }
)
```

上述命令设置了骑行的结束时间和坐标。请注意，缺少结束位置和结束时间表示骑行仍在进行中：

```js
db.vehicles.findOneAndUpdate(
    {"_id" : "227fe7e0-76c7-410b-afe8-6ae5785ac937"},
    {
        $set : {
            "status" : "available",
            "location" : {
                "type" : "Point",
                "coordinates" : [
                    111.045789,
                    -72.456144
                ]
            }
        }
    }
)
```

上述命令将车辆标记为可用，并使用新坐标更新其位置。

### 系统记录骑行的地理坐标

每 30 秒，一个预定的作业查询所有活动骑行的自行车，通过 GPS 收集它们的最新地理坐标，并为每辆自行车创建骑行记录条目。下一个代码片段显示了`logs`集合的`insert`命令：

```js
db.ride_logs.insert({
    "_id" : "8d39567b-efc5-43d4-9034-f636c97c97b3",
    "ride_id" : "ebe89a65-ee02-4fa8-aba7-88c33751d487",
    "time" : new Date(),
    "location":{
        "type":"Point",
        "coordinates":[
            111.189291, 
            -72.454585
        ]
   }
})
```

上述命令演示了如何创建新的骑行记录。它使用`new Date()`在*GMT*中记录当前时间戳，并插入给定自行车骑行的最新位置坐标。

### 系统将自行车送去维护

所有自行车每两周需要定期维护。技术人员定期检查自行车并修复任何已识别的问题。每天午夜都会执行一个预定的作业，并检查所有自行车的最后维护日期。该作业有助于找到所有自行车，其维护在过去 15 天内未完成，并将其标记为需要维护。然后自行车变为不可用。以下命令查找所有最后维护日期早于当前日期 15 天的自行车：

```js
db.vehicles.updateMany(
    {
        "last_maintenance_date" : {
            $lte : new Date(new Date() - 1000 * 60 * 60 * 24 * 15)
        }
    },
    {
        $set : {"status" : "under_maintenance"}
    }
)
```

`1000 * 60 * 60 * 24 * 15`表达式表示 15 天的毫秒数。然后从当前日期中减去计算出的毫秒数，以找到 15 天前的日期。如果自行车的`last_maintenance_date`字段早于 15 天，其状态将标记为`under_maintenance`。

### 技术人员每两周进行一次维护

技术团队找到所有状态为`under_maintenance`的自行车，进行维护，并使自行车可用：

```js
db.vehicles.findOneAndUpdate(
    {"_id" : "227fe7e0-76c7-410b-afe8-6ae5785ac937"},
    {
        $set : {
            "status" : "available",
            "last_maintenance_date" : new Date()
        }
    }
)
```

此命令将自行车状态设置为可用，并将`last_maintenance_date`设置为当前时间戳。

### 生成统计数据

分析师的任务是利用应用程序生成的各种统计数据，识别改进和优化的领域，以及评估系统在资金支出方面的好处。他们可以以多种方式使用数据库；然而，我们将使用一个示例用例进行演示。

城市的中央公园（位于*108.146337，-78.617716*）是一个非常受欢迎和拥挤的地方。为了方便骑车者骑行，议会在公园周围建造了特殊的自行车道。议会想知道有多少 City Bike 骑手在这些车道上骑行。

分析师执行了一个快速查询，以找到在中央公园 200 米半径范围内骑行的自行车行程：

```js
db.ride_logs.distinct(
    "ride_id", 
    {
        "location" : {
            $near : {
                $geometry : {
                    "type" : "Point",
                    "coordinates" : [108.146337, -78.617716]
                },
                $maxDistance : 200
            }
        }
    }
)
```

这个特殊的查询在`ride_logs`上过滤所有日志条目，以找出有多少自行车骑行与给定位置地理上接近，并打印它们的骑行 ID。

在本节中，我们讨论了应用程序可以使用的各种场景，并使用 MongoDB 查询和命令满足了它们。

# 摘要

本章探讨了一个虚构城市议会实施的 City Bikes 项目。首先考虑了议会可能面临的问题，以及项目提案如何解决这些问题。这些考虑包括议会的时间和预算、不确定的需求，以及技术团队决定使用基于 MongoDB Atlas 的 Database-as-a-Service（DBaaS）解决方案来解决所有这些问题。您详细研究了数据库设计，并审查了 MongoDB 查询，以记录、实施和解决本示例系统中的几个示例场景。

在整个课程中，您通过实际示例和应用程序介绍了 MongoDB 的各种功能和优势。您从 MongoDB 的基础知识开始，了解了它的性质和功能，以及它与传统的 RDBMS 数据库的区别。然后，您揭示了其基于 JSON 的数据结构和灵活的模式所提供的优势。接下来，您学习了核心数据库操作和运算符，以从集合中查找、聚合、插入、更新和删除数据，以及更高级的概念，如性能改进、复制、备份和恢复，以及数据可视化。您还在云中使用 MongoDB Atlas 创建了自己的 MongoDB 数据库集群，然后将真实的示例数据集加载到了集群中，并在整本书中使用了这些数据。最后，本章通过演示 MongoDB 解决方案如何解决现实生活中的问题来结束了本课程。

通过本书学到的知识和技能，您将能够在工作场所或自己的个人项目中实施高度可扩展、强大的数据库设计，以满足业务需求。
