- en: Chapter 1. Getting Started with phpMyAdmin
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第1章。开始使用phpMyAdmin
- en: 'I wish you a warm welcome to this book! The goal of this first chapter is to:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 我在这本书中对你表示热烈的欢迎！本章的目标是：
- en: Know the position of this software product in the web spectrum
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 了解这个软件产品在Web领域中的位置
- en: Be aware of all its features
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 了解它的所有功能
- en: Become proficient at installing and configuring it
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 熟练安装和配置它
- en: 'PHP and MySQL: The leading open source duo'
  id: totrans-5
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: PHP和MySQL：领先的开源组合
- en: When we look at the web applications platforms currently offered by host providers,
    we will see that the most prevalent is the PHP/MySQL combination.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们看当前主机提供商提供的Web应用平台时，我们会发现最普遍的是PHP/MySQL组合。
- en: Well supported by their respective home sites—[http://www.php.net](http://www.php.net),
    and [http://www.mysql.com](http://www.mysql.com) —this duo has enabled developers
    to build a lot of ready-made open source web applications, and most importantly,
    enabled in-house developers to quickly put in place solid web solutions.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 得到各自主页的大力支持—[http://www.php.net](http://www.php.net)和[http://www.mysql.com](http://www.mysql.com)
    —这对组合使开发人员能够构建许多现成的开源Web应用程序，最重要的是，使内部开发人员能够快速建立稳固的Web解决方案。
- en: MySQL, which is mostly compliant with the SQL:2003 standard, is a database system
    well known for its speed, robustness, and a small connection overhead. This is
    important in a web context where pages must be served as quickly as possible.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL，大多符合SQL:2003标准，是一个以其速度、稳健性和小的连接开销而闻名的数据库系统。在Web环境中，页面必须尽快提供的情况下，这一点非常重要。
- en: 'PHP, usually installed as a module inside the web server, is a popular scripting
    language in which applications are written to communicate with MySQL (or other
    database systems) on the back end and browsers on the front end. Ironically, the
    acronym''s significance has evolved along with the web evolution, from **Personal
    Home Page** to **Professional Home Page** to its current recursive definition—
    **PHP: Hypertext Preprocessor**. A blog posting about the successive name changes
    is available at [http://blog.roshambo.org/how-the-php-acronym-was-reborn](http://blog.roshambo.org/how-the-php-acronym-was-reborn).
    PHP is available on millions of web domains and powers famous sites such as Facebook,
    Yahoo!, YouTube, and Wikipedia.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: PHP通常安装在Web服务器内部作为一个模块，是一种流行的脚本语言，用于编写与MySQL（或其他数据库系统）后端和浏览器前端通信的应用程序。具有讽刺意味的是，这个首字母缩略词的意义随着Web的发展而演变，从**个人主页**到**专业主页**再到其当前的递归定义——**PHP：超文本预处理器**。有关连续名称更改的博客文章可在[http://blog.roshambo.org/how-the-php-acronym-was-reborn](http://blog.roshambo.org/how-the-php-acronym-was-reborn)上找到。PHP可以在数百万个Web域上使用，并为Facebook、Yahoo!、YouTube和Wikipedia等知名网站提供动力。
- en: What is phpMyAdmin?
  id: totrans-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 什么是phpMyAdmin？
- en: phpMyAdmin (official home page at [http://www.phpmyadmin.net](http://www.phpmyadmin.net))
    is a web application written in PHP; it contains (like most web applications)
    XHTML, CSS, and JavaScript client code. This application provides a complete web
    interface for administering MySQL databases, and is widely recognized as the leading
    application in this field.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: phpMyAdmin（官方主页在[http://www.phpmyadmin.net](http://www.phpmyadmin.net)）是一个用PHP编写的Web应用程序；它包含（像大多数Web应用程序一样）XHTML、CSS和JavaScript客户端代码。该应用程序为管理MySQL数据库提供了完整的Web界面，并被广泛认为是该领域的领先应用程序。
- en: Being open source since its birth, it has enjoyed support from numerous developers
    and translators worldwide (being translated into 65 languages at the time of writing
    this book). The project is currently hosted at SourceForge.net and developed using
    their facilities by the phpMyAdmin team.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 自诞生以来就是开源的，得到了全球众多开发人员和翻译人员的支持（在撰写本书时已被翻译成65种语言）。该项目目前托管在SourceForge.net上，并由phpMyAdmin团队利用他们的设施进行开发。
- en: Host providers everywhere are showing their trust in phpMyAdmin by installing
    it on their servers. The popular cPanel (a website control application) contains
    phpMyAdmin. In addition, we can install our own copy of phpMyAdmin on our web
    server as long as our provider's server satisfies with the minimum requirements
    (refer to the *System requirements* section later in this chapter).
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 全球各地的主机提供商都通过在他们的服务器上安装phpMyAdmin来表现对其的信任。流行的cPanel（一个网站控制应用程序）包含phpMyAdmin。此外，只要我们的提供商服务器满足最低要求（请参阅本章后面的*系统要求*部分），我们就可以在我们自己的Web服务器上安装我们自己的phpMyAdmin副本。
- en: The goal of phpMyAdmin is to offer a complete web-based management of MySQL
    servers and data, and to keep up with MySQL and web standards evolution. While
    the product is always evolving, it supports all standard operations along with
    extra features.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: phpMyAdmin的目标是提供对MySQL服务器和数据的完整基于Web的管理，并跟上MySQL和Web标准的发展。虽然产品不断发展，但它支持所有标准操作以及额外的功能。
- en: The development team constantly fine-tunes the product based on the reported
    bugs and requested features, releasing new versions regularly.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 开发团队根据报告的错误和请求的功能不断调整产品，定期发布新版本。
- en: phpMyAdmin offers features that cover basic MySQL database and table operations.
    It also has an internal system that maintains metadata to support advanced features.
    Finally, system administrators can manage users and privileges from phpMyAdmin.
    It is important to note that phpMyAdmin's choice of available operations depends
    on the rights the user has on a specific MySQL server.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: phpMyAdmin提供了涵盖基本MySQL数据库和表操作的功能。它还有一个内部系统，用于维护元数据以支持高级功能。最后，系统管理员可以从phpMyAdmin管理用户和权限。重要的是要注意，phpMyAdmin选择的可用操作取决于用户在特定MySQL服务器上的权限。
- en: Project documentation
  id: totrans-17
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 项目文档
- en: Further information about phpMyAdmin is available on the home site's documentation
    page, located at [http://www.phpmyadmin.net/home_page/docs.php](http://www.phpmyadmin.net/home_page/docs.php).
    Moreover, the development team, helped by the community, maintains a wiki at [http://wiki.phpmyadmin.net](http://wiki.phpmyadmin.net).
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 有关phpMyAdmin的更多信息，请参阅主页文档页面，位于[http://www.phpmyadmin.net/home_page/docs.php](http://www.phpmyadmin.net/home_page/docs.php)。此外，开发团队在社区的帮助下维护着一个维基，位于[http://wiki.phpmyadmin.net](http://wiki.phpmyadmin.net)。
- en: Installing phpMyAdmin
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装phpMyAdmin
- en: It's time to install the product and to configure it minimally for first-time
    use.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 是时候安装产品并进行最少的首次使用配置了。
- en: 'Our reason for installing phpMyAdmin could be one of the following:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 我们安装phpMyAdmin的原因可能是以下之一：
- en: Our host provider did not install a central copy
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们的主机提供商没有安装中央副本
- en: Our provider installed it but the version installed is not current
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们的提供商安装了它，但安装的版本不是最新的
- en: We are working directly on our enterprise's web server
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们直接在企业的Web服务器上工作
- en: Note that we can dispense with the phpMyAdmin installation step, if we choose
    instead to install one of the AMP products that usually include phpMyAdmin as
    part of their offering. Further details are available at [http://en.wikipedia.org/wiki/List_of_AMP_packages](http://en.wikipedia.org/wiki/List_of_AMP_packages).
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，如果我们选择安装通常包括phpMyAdmin作为其产品的一部分的AMP产品之一，我们可以省去phpMyAdmin安装步骤。更多详细信息请参见[http://en.wikipedia.org/wiki/List_of_AMP_packages](http://en.wikipedia.org/wiki/List_of_AMP_packages)。
- en: Required information
  id: totrans-26
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 所需信息
- en: 'Some host providers offer an integrated web panel where we can manage accounts,
    including MySQL accounts, and also a file manager that can be used to upload web
    content. Depending on this, the mechanism we use to transfer phpMyAdmin source
    files to our web space may vary. We will need some of the following specific information
    before starting the installation:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 一些主机提供商提供了集成的Web面板，我们可以在其中管理帐户，包括MySQL帐户，还有一个文件管理器，可以用来上传Web内容。根据这一点，我们用于将phpMyAdmin源文件传输到我们的Web空间的机制可能会有所不同。在开始安装之前，我们需要一些以下特定信息：
- en: The web server's name or address. Here, we will assume it to be [www.mydomain.com](http://www.mydomain.com).
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Web服务器的名称或地址。在这里，我们假设它是[www.mydomain.com](http://www.mydomain.com)。
- en: Our web server's account information (username, password). This information
    will be used either for FTP or SFTP transfer, SSH login, or web control panel
    login.
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们的网页服务器帐户信息（用户名，密码）。此信息将用于FTP或SFTP传输，SSH登录或Web控制面板登录。
- en: The MySQL server's name or IP address. If this information is not available,
    a good alternate choice is `localhost`, which means that the MySQL server is located
    on the same machine as the web server. We will assume this to be `localhost`.
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MySQL服务器的名称或IP地址。如果没有这些信息，一个很好的备选选择是`localhost`，这意味着MySQL服务器位于与Web服务器相同的机器上。我们假设这是`localhost`。
- en: Our MySQL server's account information (username, password).
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们的MySQL服务器帐户信息（用户名，密码）。
- en: System requirements
  id: totrans-32
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 系统要求
- en: The up-to-date requirements for a specific phpMyAdmin version are always stated
    in the accompanying `Documentation.html`. For phpMyAdmin 3.4, the minimum PHP
    version required is PHP 5.2 with **session** support, the **Standard PHP Library
    (SPL)** and **JSON** support. Moreover, the web server must have access to a MySQL
    server (version 5.0 or later)—either locally or on a remote machine. It is strongly
    recommended that the **PHP mcrypt** extension be present for improved performance
    in cookie-authentication mode (more on this in [Chapter 2)](ch02.html "Chapter 2. Configuring
    Authentication and Security"). In fact, on a 64-bit server, this extension is
    required.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 特定phpMyAdmin版本的最新要求始终在附带的`Documentation.html`中说明。对于phpMyAdmin 3.4，所需的最低PHP版本是带有**session**支持的PHP
    5.2，**标准PHP库（SPL）**和**JSON**支持。此外，Web服务器必须能够访问MySQL服务器（5.0版本或更高版本）-可以是本地的，也可以是远程的。强烈建议在cookie身份验证模式下提高性能时，Web服务器必须具有**PHP
    mcrypt**扩展（有关此内容，请参见[第2章](ch02.html "第2章。配置身份验证和安全性")）。实际上，在64位服务器上，这个扩展是必需的。
- en: On the browser side, cookie support must be activated, irrespective of any authentication
    mode we use.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 在浏览器端，无论我们使用哪种身份验证模式，都必须激活cookie支持。
- en: Downloading the files
  id: totrans-35
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 下载文件
- en: There are various files available in the **Download** section of [http://www.phpmyadmin.net](http://www.phpmyadmin.net).
    There might be more than one version offered here and it is always a good idea
    to download the latest stable version. We only need to download one file, which
    works regardless of the platform (browser, web server, MySQL, or PHP version).
    For version 3.4, there are two groups of files—**english** and **all-languages**.
    If we need only the English interface, we can download a file whose name contains
    **english**, for example, **phpMyAdmin-3.4.5-english.zip**. On the other hand,
    if we have the need for at least one other language, choosing **all-languages**
    would be appropriate.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '[http://www.phpmyadmin.net](http://www.phpmyadmin.net)的**下载**部分提供了各种文件。这里可能提供了多个版本，最好下载最新的稳定版本。我们只需要下载一个文件，无论平台（浏览器，Web服务器，MySQL或PHP版本）如何，都可以使用。对于3.4版本，有两组文件-**english**和**all-languages**。如果我们只需要英文界面，可以下载文件名包含**english**的文件，例如**phpMyAdmin-3.4.5-english.zip**。另一方面，如果我们需要至少另一种语言，选择**all-languages**是合适的。'
- en: If we are using a server supporting only PHP 4—for which the PHP team has discontinued
    support since 31st December, 2007—the latest stable version of phpMyAdmin is not
    a good choice for download. We can use version 2.11.x, which is the latest branch
    that supports PHP 4, although the phpMyAdmin team has discontinued supporting
    this version too.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们使用的是仅支持PHP 4的服务器-自2007年12月31日PHP团队停止支持以来，最新的稳定版本的phpMyAdmin不是一个好选择。我们可以使用2.11.x版本，这是支持PHP
    4的最新分支，尽管phpMyAdmin团队也停止支持这个版本。
- en: 'The files offered have various extensions: `.zip, .tar.bz2, .tar.gz, .tar.xz,
    and .7z`. Download a file having an extension for which you have the corresponding
    extractor. In the Windows world, `.zip` is the most universal file format, although
    it is bigger than `.gz` or `.bz2` (common in the Linux/Unix world). The `.7z`
    extension denotes a 7-Zip file, which is a format that achieves a higher compression
    ratio than the other formats offered; an extractor is available at [http://www.7-zip.org](http://www.7-zip.org).
    In the following examples, we will assume that the chosen file was **phpMyAdmin-3.4.5-all-languages.zip**.'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 提供的文件具有各种扩展名：`.zip，.tar.bz2，.tar.gz，.tar.xz和.7z`。下载具有您具有相应提取器的扩展名的文件。在Windows世界中，`.zip`是最通用的文件格式，尽管它比`.gz`或`.bz2`（在Linux/Unix世界中常见）要大。`.7z`扩展名表示7-Zip文件，这是一种比其他提供的格式具有更高压缩比的格式；提取器可在[http://www.7-zip.org](http://www.7-zip.org)上找到。在以下示例中，我们将假定所选文件是**phpMyAdmin-3.4.5-all-languages.zip**。
- en: After clicking on the appropriate file, the nearest mirror site is chosen by
    SourceForge.net. The file will start to download, and we can save it on our computer.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 单击适当的文件后，SourceForge.net会选择最近的镜像站点。文件将开始下载，我们可以将其保存在我们的计算机上。
- en: Installing on different platforms
  id: totrans-40
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 在不同平台上安装
- en: The next step depends on the platform you are using. The following sections
    detail the procedures for some common platforms. You may proceed directly to the
    relevant section.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 下一步取决于您使用的平台。以下各节详细介绍了一些常见平台的程序。您可以直接转到相关部分。
- en: Installing on a remote server using a Windows client
  id: totrans-42
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 在Windows客户端上安装到远程服务器
- en: Using the Windows Explorer, we double-click on the `phpMyAdmin-3.4.5-all-languages.zip`
    file we just downloaded on the Windows client. A file extractor should start,
    showing us all the scripts and directories inside the main `phpMyAdmin-3.4.5-all-languages`
    directory.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 使用Windows资源管理器，在Windows客户端上双击刚刚下载的`phpMyAdmin-3.4.5-all-languages.zip`文件。文件提取器应该会启动，显示主目录`phpMyAdmin-3.4.5-all-languages`中的所有脚本和目录。
- en: Use whichever mechanism your file extractor offers to save all the files, including
    sub-directories, to some location on your workstation. Here, we have chosen `C:\`.
    Therefore, a `C:\phpMyAdmin-3.4.5-all-languages` directory has been created by
    the extractor.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 使用文件提取器提供的任何机制将所有文件（包括子目录）保存到工作站上的某个位置。在这里，我们选择了`C:\`。因此，提取器创建了一个`C:\phpMyAdmin-3.4.5-all-languages`目录。
- en: Now, it's time to transfer the entire directory structure `C:\phpMyAdmin-3.4.5-all-languages`
    to the web server in our web space. We use our favorite SFTP or FTP software or
    the web control panel for the transfer.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，是时候将整个目录结构`C:\phpMyAdmin-3.4.5-all-languages`传输到我们网页空间中的Web服务器了。我们可以使用我们喜欢的SFTP或FTP软件，或者使用Web控制面板进行传输。
- en: The exact directory under which we transfer phpMyAdmin may vary. It could be
    our `public_html` directory or another directory where we usually transfer web
    documents to. For further instructions about the exact directory to be used or
    the best way to transfer the directory structure, we can consult our host provider's
    help desk.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 我们传输phpMyAdmin的确切目录可能会有所不同。它可以是我们的`public_html`目录或我们通常传输Web文档的其他目录。有关要使用的确切目录或传输目录结构的最佳方法的进一步说明，我们可以咨询我们的主机提供商的帮助台。
- en: After the transfer is complete, these files can be removed from our Windows
    machine as they are no longer needed.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 传输完成后，这些文件可以从我们的Windows机器上删除，因为它们不再需要了。
- en: Installing on a local Linux server
  id: totrans-48
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 在本地Linux服务器上安装
- en: 'Let us say we chose `phpMyAdmin-3.4.5-all-languages.tar.gz` and downloaded
    it directly to some directory on the Linux server. We move it to our web server''s
    document root directory (for example, `/var/www/html)` or to one of its sub-directories
    (for example, `/var/www/html/utilities)`. We then extract it with the following
    shell command or by using any graphical file extractor that our window manager
    offers:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们选择了`phpMyAdmin-3.4.5-all-languages.tar.gz`并直接下载到Linux服务器上的某个目录。我们将其移动到我们的Web服务器文档根目录（例如`/var/www/html`）或其子目录之一（例如`/var/www/html/utilities`）。然后，我们使用以下shell命令或使用窗口管理器提供的任何图形文件提取器进行提取：
- en: '[PRE0]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: We must ensure that the permissions and ownership of the directory and files
    are appropriate for our web server. The web server user or group must be able
    to read them.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 我们必须确保目录和文件的权限和所有权适合我们的Web服务器。Web服务器用户或组必须能够读取它们。
- en: Installing on a local Windows server (Apache, IIS)
  id: totrans-52
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 在本地Windows服务器（Apache，IIS）上安装
- en: The procedure here is similar to that described in the *Installation on a remote
    server using a Windows client* section, except that the target directory will
    be under our `DocumentRoot` (for Apache) or our `wwwroot` (for IIS). Of course,
    we do not need to transfer anything after modifications are made to `config.inc.php`
    (described in the next section), as the directory is already on the web space.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 这里的步骤与“在Windows客户端上安装到远程服务器”部分中描述的类似，只是目标目录将位于我们的`DocumentRoot`（对于Apache）或我们的`wwwroot`（对于IIS）下。当然，在对`config.inc.php`进行修改后，我们不需要传输任何内容（在下一节中描述），因为目录已经在Web空间中。
- en: Apache is usually run as a service. Hence, we have to ensure that the user under
    which the service is running has normal read privileges to access our newly created
    directory. The same principle applies to IIS, which uses the `IUSR_machinename`
    user. This user must have read access to the directory. You can adjust permissions
    in the `Security/permissions` tab of the directory's properties.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: Apache通常作为服务运行。因此，我们必须确保运行服务的用户具有正常的读取权限，以访问我们新创建的目录。相同的原则适用于使用`IUSR_machinename`用户的IIS。该用户必须对目录具有读取权限。您可以在目录属性的`安全/权限`选项卡中调整权限。
- en: Configuring phpMyAdmin
  id: totrans-55
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 配置phpMyAdmin
- en: Here, we learn how to prepare and use the configuration file containing the
    parameters to connect to MySQL, and which can be customized as per our requirements.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们学习如何准备和使用包含连接到MySQL的参数的配置文件，并且可以根据我们的要求进行自定义。
- en: Before configuring, we can rename the directory `phpMyAdmin-3.4.5-all-languages`
    to something like `phpMyAdmin` or something easier to remember. This way, we and
    our users can visit an easily remembered URL to start phpMyAdmin. On most servers,
    the directory part of URLs is case-sensitive so we should communicate the exact
    URL to our users. We can also use a symbolic link if our server supports this
    feature.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 在配置之前，我们可以将目录`phpMyAdmin-3.4.5-all-languages`重命名为`phpMyAdmin`或其他更容易记住的名称。这样，我们和我们的用户可以访问一个容易记住的URL来启动phpMyAdmin。在大多数服务器上，URL的目录部分是区分大小写的，因此我们应该向用户传达确切的URL。如果我们的服务器支持此功能，我们还可以使用符号链接。
- en: In the following examples, we will assume that the directory has been renamed
    to `phpMyAdmin`.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下示例中，我们将假设该目录已重命名为`phpMyAdmin`。
- en: The config.inc.php file
  id: totrans-59
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: config.inc.php文件
- en: This file contains valid PHP code, defining the majority of the parameters (expressed
    by PHP variables) that we can change to tune phpMyAdmin to our own needs. There
    are also normal PHP comments in it, and we can comment our changes.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 这个文件包含有效的PHP代码，定义了大部分参数（由PHP变量表示），我们可以更改以调整phpMyAdmin以满足我们自己的需求。文件中还有普通的PHP注释，我们可以注释我们的更改。
- en: Tip
  id: totrans-61
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: Be careful not to add any blank line at the beginning or end of the file; this
    would hamper the execution of phpMyAdmin.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 注意不要在文件开头或结尾添加任何空行；这会妨碍phpMyAdmin的执行。
- en: Note that phpMyAdmin looks for this file in the first level directory—the same
    one where `index.php` is located.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，phpMyAdmin在第一级目录中寻找此文件——与`index.php`位于同一目录。
- en: A `config.sample.inc.php` file is included, which can be copied and renamed
    to `config.inc.php` to act as a starting point. However, it is recommended that
    you use the web-based setup script (explained in this chapter) instead, for a
    more comfortable configuration interface.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 包含一个`config.sample.inc.php`文件，可以复制并重命名为`config.inc.php`，作为起点。然而，建议您使用基于Web的安装脚本（在本章中解释）来代替，以获得更舒适的配置界面。
- en: There is another file—`layout.inc.php`—containing some configuration information.
    As phpMyAdmin offers theme management, this file contains the theme-specific colors
    and settings. There is one `layout.inc.php` per theme, located in `themes/<themename>`,
    for example, `themes/pmahomme`. We will cover modifying some of those parameters
    in [Chapter 4](ch04.html "Chapter 4. Creating and Browsing Tables").
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 还有另一个文件——`layout.inc.php`——包含一些配置信息。由于phpMyAdmin提供主题管理，这个文件包含特定主题的颜色和设置。每个主题都有一个`layout.inc.php`文件，位于`themes/<themename>`，例如`themes/pmahomme`。我们将在[第4章](ch04.html
    "第4章。创建和浏览表")中介绍修改其中一些参数。
- en: Avoiding false error messages about permissions on config.inc.php
  id: totrans-66
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 避免关于config.inc.php权限的虚假错误消息
- en: In its normal behavior, phpMyAdmin verifies that the permissions on this file
    do not allow everyone to modify it. This means that the file should not be writable
    by the world. Also, it displays a warning if the permissions are not correct.
    However, in some situations (for example a NTFS file system mounted on a non-Windows
    server), the permission detection fails. In these cases, you should set the following
    configuration parameter to `false:`
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 在正常情况下，phpMyAdmin会验证此文件的权限是否允许任何人修改。这意味着该文件不应该被世界写入。如果权限不正确，它还会显示警告。然而，在某些情况下（例如在非Windows服务器上挂载的NTFS文件系统），权限检测会失败。在这些情况下，您应该将以下配置参数设置为`false:`
- en: '[PRE1]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: The following sections explain various methods to add or change a parameter
    in `config.inc.php`.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 以下各节将解释在`config.inc.php`中添加或更改参数的各种方法。
- en: Configuration principles
  id: totrans-70
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 配置原则
- en: phpMyAdmin maintains no user accounts of its own; rather, it uses MySQL's privilege
    system.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: phpMyAdmin不维护自己的用户帐户；相反，它使用MySQL的权限系统。
- en: Note
  id: totrans-72
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: It might now be the time to browse [http://dev.mysql.com/doc/refman/5.1/en/privilege-system.html](http://dev.mysql.com/doc/refman/5.1/en/privilege-system.html),
    to learn the basics about MySQL's privilege system.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 现在可能是浏览[http://dev.mysql.com/doc/refman/5.1/en/privilege-system.html](http://dev.mysql.com/doc/refman/5.1/en/privilege-system.html)的时候了，了解MySQL权限系统的基础知识。
- en: 'With the lack of a configuration file, phpMyAdmin displays the cookie-based
    login panel by default (more details on this in [Chapter 2](ch02.html "Chapter 2. Configuring
    Authentication and Security"), which explains that with the default configuration,
    it''s not possible to log in with an empty password):'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 由于缺少配置文件，phpMyAdmin默认显示基于cookie的登录面板（有关此内容的更多详细信息，请参阅[第2章](ch02.html "第2章。配置身份验证和安全性")），其中解释了默认配置下，无法使用空密码登录：
- en: '![Configuration principles](img/7782_01_01.jpg)'
  id: totrans-75
  prefs: []
  type: TYPE_IMG
  zh: '![配置原则](img/7782_01_01.jpg)'
- en: We can verify this fact by opening our browser and visiting `http://www.mydomain.com/phpMyAdmin`,
    and substituting the proper values for the domain part and the directory part.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以通过打开浏览器并访问`http://www.mydomain.com/phpMyAdmin`来验证这一事实，并替换域部分和目录部分的正确值。
- en: If we are able to log in, it means that there is a MySQL server running on the
    same host as the web server `(localhost)`, and we have just made a connection
    to it. However, not having created a configuration file means that we would not
    be able to manage other hosts through our installation of phpMyAdmin. Moreover,
    many advanced phpMyAdmin features (for example, query bookmarks, full-relational
    support, column transformation, and so on) would not be activated.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们能够登录，这意味着在与Web服务器相同的主机上有一个运行中的MySQL服务器（`localhost`），我们刚刚连接到它。然而，没有创建配置文件意味着我们将无法通过我们的phpMyAdmin安装管理其他主机。此外，许多高级的phpMyAdmin功能（例如查询书签、完整的关系支持、列转换等）将无法激活。
- en: Note
  id: totrans-78
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: 'The cookie-based authentication method uses Blowfish encryption for storing
    credentials in browser cookies. When no configuration file exists, a Blowfish
    secret key is generated and stored in session data, which can open the door to
    security issues. This is why the following warning message is displayed:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 基于cookie的身份验证方法使用Blowfish加密来存储浏览器cookie中的凭据。当没有配置文件存在时，会生成并存储一个Blowfish秘钥在会话数据中，这可能会导致安全问题。这就是为什么会显示以下警告消息的原因：
- en: '**The configuration file now needs a secret passphrase (blowfish_secret)**'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: '**配置文件现在需要一个秘密的密码（blowfish_secret）**'
- en: 'At this point, we have the following choices:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 此时，我们有以下选择：
- en: Use phpMyAdmin without a configuration file
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在没有配置文件的情况下使用phpMyAdmin
- en: Use the web-based setup script to generate a `config.inc.php` file
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用基于Web的设置脚本生成`config.inc.php`文件
- en: Create a `config.inc.php` file manually
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 手动创建`config.inc.php`文件
- en: These two latter options are presented in the following sections. We should
    note that, even if we use the web-based setup script, we should familiarize ourselves
    with the `config.inc.php` file format as the setup script does not cover all the
    possible configuration options.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 这两个后续选项在以下部分中介绍。我们应该注意，即使使用基于Web的设置脚本，我们也应该熟悉`config.inc.php`文件的格式，因为设置脚本并没有涵盖所有可能的配置选项。
- en: Web-based setup script
  id: totrans-86
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 基于Web的设置脚本
- en: The web-based setup mechanism is strongly recommended in order to avoid syntax
    errors that could result from the manual creation of the configuration file. Also,
    as this file must respect PHP's syntax, it's common for new users to experience
    problems in this phase of the installation.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 强烈建议使用基于Web的设置机制，以避免手动创建配置文件可能导致的语法错误。此外，由于这个文件必须遵守PHP的语法，新用户在安装过程中可能会遇到问题。
- en: Note
  id: totrans-88
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: 'A warning is in order here: The current version has only a limited number of
    translation languages for the setup interface.'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 这里需要注意一点：当前版本的设置界面只有有限数量的翻译语言。
- en: 'To access the setup script, we must visit[http://www.mydomain.com/phpMyAdmin/setup](http://www.mydomain.com/phpMyAdmin/setup).
    On the initial execution, the following screenshot appears:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 要访问设置脚本，我们必须访问[http://www.mydomain.com/phpMyAdmin/setup](http://www.mydomain.com/phpMyAdmin/setup)。在初始执行时，会出现以下截图：
- en: '![Web-based setup script](img/7782_01_02.jpg)'
  id: totrans-91
  prefs: []
  type: TYPE_IMG
  zh: '![基于Web的设置脚本](img/7782_01_02.jpg)'
- en: In most cases, the icons beside each parameter point to the respective phpMyAdmin
    official wiki and to the documentation, providing you with more information about
    this parameter and its possible values.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 在大多数情况下，每个参数旁边的图标指向相应的phpMyAdmin官方维基和文档，为您提供有关此参数及其可能值的更多信息。
- en: If **Show hidden messages** appears and we click on this link, messages that
    might have been shown earlier are revealed.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 如果出现**显示隐藏消息**并点击此链接，之前可能显示的消息将被显示出来。
- en: There are three warnings here. As taking care of the first message will require
    more manipulations, we will handle it in a moment. The second warning encourages
    you to use the `ForceSSL` option, which would automatically switch to HTTPS when
    using phpMyAdmin (not related to the setup phase).
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 这里有三个警告。由于处理第一条消息需要更多操作，我们稍后再处理。第二个警告鼓励您使用`ForceSSL`选项，在使用phpMyAdmin时自动切换到HTTPS（与设置阶段无关）。
- en: Let us cover the third message— **Insecure connection**. This message appears
    if we are accessing the web server over HTTP—an insecure protocol. As we are possibly
    going to input confidential information, such as the user name and password in
    the setup phase, it's recommended that you communicate over HTTPS at least for
    this phase. HTTPS usesSSL (Secure **Socket Layer)** to encrypt the communication
    and make eavesdropping on the line impossible. If our web server supports HTTPS,
    we can simply follow the proposed link. It will restart the setup process, this
    time over HTTPS.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看看第三条消息——**不安全的连接**。如果我们通过不安全的协议HTTP访问Web服务器，就会出现这个消息。由于我们可能会在设置阶段输入机密信息，比如用户名和密码，建议至少在这个阶段使用HTTPS进行通信。HTTPS使用SSL（安全套接字层）来加密通信，使窃听线路变得不可能。如果我们的Web服务器支持HTTPS，我们可以简单地按照建议的链接进行操作。这将重新启动设置过程，这次是通过HTTPS进行的。
- en: 'The first warning tells us that phpMyAdmin did not find a writable directory
    with the name `config`. This is normal as it was not present in the downloaded
    kit. Also, as the directory is not yet there, we observe that the **Save, Load**,
    and **Delete** buttons in the interface are grey. In this `config` directory,
    we can:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个警告告诉我们，phpMyAdmin没有找到一个名为`config`的可写目录。这是正常的，因为在下载的套件中没有这个目录。此外，由于目录还不存在，我们注意到界面中的**保存、加载**和**删除**按钮是灰色的。在这个`config`目录中，我们可以：
- en: Save the working version of the configuration file during the setup process
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在设置过程中保存工作版本的配置文件
- en: Load a previously prepared `config.inc.php` file
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 加载之前准备好的`config.inc.php`文件
- en: It's not absolutely necessary that we create this configuration directory, as
    we can download the `config.inc.php` file produced by the setup procedure to our
    client machine. We can then upload it to phpMyAdmin in the first-level directory
    through the same mechanism (say, FTP) that we used to upload phpMyAdmin. For this
    exercise, we will create this directory.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 我们并不一定需要创建这个配置目录，因为我们可以将设置过程生成的`config.inc.php`文件下载到客户端机器上。然后，我们可以通过与上传phpMyAdmin相同的机制（比如FTP）将其上传到phpMyAdmin的一级目录中。在这个练习中，我们将创建这个目录。
- en: The principle here is that the web server must be able to write to this directory.
    There is more than one way to achieve this. Here is one that would work on a Linux
    server—adding read, write, and execute permissions for everyone on this directory.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 这里的原则是Web服务器必须能够写入这个目录。有多种方法可以实现这一点。以下是在Linux服务器上可以使用的一种方法——在这个目录上为每个人添加读、写和执行权限。
- en: '[PRE2]'
  id: totrans-101
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Having done that, we refresh the page in our browser and get a screen resembling
    the following screenshot:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 完成这些操作后，我们在浏览器中刷新页面，会看到一个类似以下截图的屏幕：
- en: '![Web-based setup script](img/7782_01_03.jpg)'
  id: totrans-103
  prefs: []
  type: TYPE_IMG
  zh: '![基于Web的设置脚本](img/7782_01_03.jpg)'
- en: In the configuration dialog, a drop-down menu permits the user to choose the
    proper end-of-line format. We should pick up the format that corresponds to the
    platform **(UNIX / Linux** or **Windows)** on which we will open `config.inc.php`
    file with a text editor later.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 在配置对话框中，下拉菜单允许用户选择适当的行尾格式。我们应该选择与我们将在后来使用文本编辑器打开`config.inc.php`文件的平台（UNIX/Linux或Windows）相对应的格式。
- en: A single copy of phpMyAdmin can be used to manage many MySQL servers but for
    now we will define parameters describing our first MySQL server. We click on **New
    server**, and the server configuration panel is shown.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 一个phpMyAdmin的副本可以用来管理许多MySQL服务器，但是现在我们将定义描述我们的第一个MySQL服务器的参数。我们单击**新服务器**，然后显示服务器配置面板。
- en: A complete explanation of these parameters can be found in the following sections
    of this chapter. For now, we notice that the setup process has detected that PHP
    supports the `mysqli` extension. Therefore, this is the one that is chosen by
    default. This extension is the programming library used by PHP to communicate
    with MySQL.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 这些参数的完整解释可以在本章的以下部分找到。现在，我们注意到设置过程已检测到PHP支持`mysqli`扩展。因此，默认选择此扩展。此扩展是PHP用于与MySQL通信的编程库。
- en: 'We assume that our MySQL server is located on `localhost`. Hence, we keep this
    value and all the proposed values intact, except for the following:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 我们假设我们的MySQL服务器位于`localhost`上。因此，我们保持此值和所有建议的值不变，除了以下内容：
- en: '**Basic settings | Verbose name of this server**—we enter **my server**'
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**基本设置 | 该服务器的详细名称** —我们输入 **我的服务器**'
- en: '**Authentication | User for config auth** —we remove **root** and leave it
    empty, as the default authentication type is `cookie`, which ignores a username
    entered here'
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**认证 | 用于配置认证的用户** —我们删除**root**并将其留空，因为默认的认证类型是`cookie`，它会忽略在此输入的用户名'
- en: 'You can see that any parameter changed from its default value appears in a
    different color. Moreover, a small arrow becomes available, the purpose of which
    is to restore a field to its default value. Hence, you can feel free to experiment
    with changing parameters, knowing that you can easily revert to the proposed value.
    At this point, the **Basic settings** panel should resemble the following screenshot:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以看到任何更改为其默认值的参数都以不同的颜色显示。此外，会出现一个小箭头，其目的是将字段恢复为其默认值。因此，您可以放心地尝试更改参数，知道您可以轻松恢复到建议的值。此时，**基本设置**面板应该类似于以下屏幕截图：
- en: '![Web-based setup script](img/7782_01_04.jpg)'
  id: totrans-111
  prefs: []
  type: TYPE_IMG
  zh: 基于Web的设置脚本
- en: 'We then click **Save** and are brought back to the **Overview** panel. This
    save operation did not yet save anything to disk; changes were saved in memory.
    We are warned that a Blowfish secret key was generated. However, we don''t have
    to remember it, as it''s not keyed in during login process but is used internally.
    For the curious, you can switch to the **Features** panel and click on the **Security**
    tab to see which secret key was generated. Let us get back to the **Overview**
    panel. Now, our setup process knows about one MySQL server, and there are links
    that enable us to **Edit** or **Delete** these server settings as shown in the
    following screenshot:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们单击**保存**，并返回到**概述**面板。此保存操作尚未将任何内容保存到磁盘；更改已保存在内存中。我们收到警告，生成了一个Blowfish秘钥。但是，我们不必记住它，因为在登录过程中不需要输入它，而是在内部使用。对于好奇的人，您可以切换到**功能**面板，然后单击**安全**选项卡，以查看生成的秘钥。让我们回到**概述**面板。现在，我们的设置过程已知道一个MySQL服务器，并且有一些链接，使我们能够像下面的屏幕截图中显示的那样**编辑**或**删除**这些服务器设置：
- en: '![Web-based setup script](img/7782_01_05.jpg)'
  id: totrans-113
  prefs: []
  type: TYPE_IMG
  zh: 基于Web的设置脚本
- en: We can have a look at the generated configuration lines by using the **Display**
    button; then we can analyze these parameters using the explanations given in the
    *Description of some configuration parameters* section later in this chapter.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用**显示**按钮查看生成的配置行；然后，我们可以使用本章后面的*一些配置参数的描述*部分中给出的解释来分析这些参数。
- en: At this point, this configuration is still just in memory, so we need to save
    it. This is done through the **Save** button on the **Overview** panel. It saves
    `config.inc.php` in the special `config` directory that we created previously.
    This is a directory strictly used for configuration purposes. If, for any reason,
    it was not possible to create this `config` directory, you just have to **download**
    the file by clicking on the **Download** button and upload it to the web server
    directory where phpMyAdmin is installed.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 此时，此配置仍仅存储在内存中，因此我们需要保存它。这是通过**概述**面板上的**保存**按钮完成的。它将`config.inc.php`保存在我们之前创建的特殊`config`目录中。这是一个严格用于配置目的的目录。如果由于任何原因无法创建此`config`目录，您只需通过单击**下载**按钮将文件下载并上传到安装了phpMyAdmin的Web服务器目录。
- en: 'The last step is to copy `config.inc.php` from the `config` directory to the
    top-level directory—the one that contains `index.php`. By copying this file, it
    becomes owned by the user instead of the web server, ensuring that further modifications
    are possible. This copy can be done through FTP or through commands such as:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 最后一步是将`config.inc.php`从`config`目录复制到顶级目录 —— 包含`index.php`的目录。通过复制此文件，它将由用户拥有，而不是由Web服务器拥有，从而确保可以进行进一步的修改。可以通过FTP或通过以下命令进行此复制：
- en: '[PRE3]'
  id: totrans-117
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'As a security measure and until the configuration steps are not completed,
    it''s recommended that you change the permission on the `config` directory, for
    example with the following command:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 作为安全措施，直到配置步骤完成之前，建议更改`config`目录的权限，例如使用以下命令：
- en: '[PRE4]'
  id: totrans-119
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: This is to block any unauthorized reading and writing in this directory.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 这是为了阻止在此目录中进行任何未经授权的读写操作。
- en: 'Other configuration parameters can be set with these web-based setup pages.
    To do so, we would have to:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 其他配置参数可以使用这些基于Web的设置页面进行设置。要这样做，我们需要：
- en: Enable read and write access to the `config` directory.
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启用对“config”目录的读写访问权限。
- en: Copy the `config.inc.php` there.
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`config.inc.php`复制到那里。
- en: Ensure that read and write access are provided to this file for the web server.
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保为Web服务器提供了对该文件的读写访问权限。
- en: Start the web-based setup tool.
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动基于Web的设置工具。
- en: 'After the configuration steps are done, it''s recommended to completely remove
    the `config` directory, as this directory is only used by the web-based setup
    script. phpMyAdmin displays the following warning on the home page (refer to [Chapter
    3)](ch03.html "Chapter 3. Over Viewing the Interface") if it detects that this
    directory still exists:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 配置步骤完成后，建议完全删除`config`目录，因为这个目录只被基于Web的安装脚本使用。如果phpMyAdmin检测到这个目录仍然存在，它会在主页上显示以下警告（参见[第3章)](ch03.html
    "第3章。概述界面")：
- en: '**Directory config, which is used by the setup script, still exists in your
    phpMyAdmin directory. You should remove it once phpMyAdmin has been configured**.'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: '**目录config，被安装脚本使用，仍然存在于您的phpMyAdmin目录中。一旦phpMyAdmin配置完成，您应该删除它**。'
- en: You are invited to peruse the remaining menus to get a sense of the available
    configuration possibilities, either now or later when we cover a related subject.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以浏览剩余的菜单，了解可用的配置可能性，无论是现在还是在我们涵盖相关主题时。
- en: In order to keep this book's text lighter, we will only refer to the parameters'
    textual values in the following chapters.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 为了使本书的文本更轻，我们将在接下来的章节中只提到参数的文本值。
- en: Manually creating config.inc.php
  id: totrans-130
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 手动创建config.inc.php
- en: We can create this text file from scratch using our favorite text editor, or
    by using `config.sample.inc.php` as a starting point. The exact procedure depends
    upon which client operating system we are using. We can refer to the next section
    for further information.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用我们喜欢的文本编辑器从头开始创建这个文本文件，或者使用`config.sample.inc.php`作为起点。确切的步骤取决于我们使用的客户端操作系统。我们可以参考下一节获取更多信息。
- en: The default values for all possible configuration parameters that can be located
    inside `config.inc.php` are defined in `libraries/config.default.php`. We can
    take a look at this file to see the syntax used as well as further comments about
    configuration. See the important note about this file in the *Upgrading phpMyAdmin*
    section of this chapter.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 所有可能的配置参数的默认值都在`libraries/config.default.php`中定义。我们可以查看此文件，了解使用的语法以及有关配置的进一步注释。请参见本章*升级phpMyAdmin*部分中关于此文件的重要说明。
- en: Tips for editing config.inc.php on a Windows client
  id: totrans-133
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 在Windows客户端上编辑config.inc.php的提示
- en: This file contains special characters (Unix-style end of lines). Hence, we must
    open it with a text editor that understands this format. If we use the wrong text
    editor, this file will be displayed with very long lines. The best choice is a
    standard PHP editor such as NetBeans or Zend Studio for Eclipse. Another choice
    would be WordPad, Metapad, or UltraEdit.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 这个文件包含特殊字符（Unix风格的行尾）。因此，我们必须使用理解这种格式的文本编辑器打开它。如果我们使用错误的文本编辑器，这个文件将显示非常长的行。最好的选择是标准的PHP编辑器，如NetBeans或Zend
    Studio for Eclipse。另一个选择是WordPad，Metapad或UltraEdit。
- en: Every time the `config.inc.php` file is modified, it will have to be transferred
    again to our web space. This transfer is done through an FTP or an SFTP client.
    You have the option to use a standalone FTP/SFTP client such as FileZilla, or
    save directly through FTP/SFTP if your PHP editor supports this feature.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 每次修改`config.inc.php`文件，都必须再次将其传输到我们的网络空间。这种传输是通过FTP或SFTP客户端完成的。您可以选择使用独立的FTP/SFTP客户端，如FileZilla，或者如果您的PHP编辑器支持此功能，也可以直接通过FTP/SFTP保存。
- en: Description of some configuration parameters
  id: totrans-136
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 一些配置参数的描述
- en: In this chapter and the next one, we will concentrate on the parameters that
    deal with connection and authentication. Other parameters will be discussed in
    the chapters where the corresponding features are explained.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章和下一章中，我们将集中讨论与连接和身份验证相关的参数。其他参数将在解释相应功能的章节中讨论。
- en: PmaAbsoluteUri
  id: totrans-138
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: PmaAbsoluteUri
- en: The first parameter we will look at is `$cfg['PmaAbsoluteUri'] = ''`;
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将首先查看的参数是`$cfg['PmaAbsoluteUri'] = ''`;
- en: Sometimes, phpMyAdmin needs to send an HTTP `Location` header and must know
    the absolute URI of its installation point. Using an absolute URI in this case
    is required by RFC 2616, section 14.30.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 有时，phpMyAdmin需要发送HTTP `Location`头，并且必须知道其安装点的绝对URI。在这种情况下，使用绝对URI是RFC 2616第14.30节要求的。
- en: In most cases, we can leave this one empty as phpMyAdmin tries to auto-detect
    the correct value. If we browse a table later, then edit a row, and click on **Save**,
    we will receive an error message from our browser saying, for example, **This
    document does not exist**. This means that the absolute URI that phpMyAdmin built
    in order to reach the intended page was wrong, indicating that we must manually
    put the correct value in this parameter.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 在大多数情况下，我们可以将此项留空，因为phpMyAdmin会尝试自动检测正确的值。如果我们稍后浏览表，然后编辑一行，并单击**保存**，我们将收到来自浏览器的错误消息，例如**此文档不存在**。这意味着phpMyAdmin为了到达预期页面而构建的绝对URI是错误的，表明我们必须手动在此参数中放入正确的值。
- en: 'For example, we would change it to:'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，我们会将其更改为：
- en: '[PRE5]'
  id: totrans-143
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Server-specific sections
  id: totrans-144
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 特定于服务器的部分
- en: 'The next section of the file contains server-specific configurations, each
    starting with the following code snippet:'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 文件的下一部分包含特定于服务器的配置，每个配置都以以下代码片段开头：
- en: '[PRE6]'
  id: totrans-146
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'If we examine only the normal server parameters (other parameters are covered
    in the *Installing phpMyAdmin configuration storage* section of this chapter),
    we see a section that resembles the following code block for each server:'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们只检查正常的服务器参数（其他参数在本章的*安装phpMyAdmin配置存储*部分中有介绍），我们会看到每个服务器的以下代码块：
- en: '[PRE7]'
  id: totrans-148
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: In this section, we have to enter in `$cfg['Servers'][$i]['host']`, the hostname
    or IP address of the MySQL server, for example, `mysql.mydomain.com` or `localhost`.
    If this server is running on a non-standard port or socket, we fill in the correct
    values in `$cfg['Servers'][$i]['port']` or `$cfg['Servers'][$i]['socket']`. See
    the *connect_type, sockets, and port* section for more details about sockets.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一部分，我们必须输入`$cfg['Servers'][$i]['host']`，MySQL服务器的主机名或IP地址，例如，`mysql.mydomain.com`或`localhost`。如果此服务器在非标准端口或套接字上运行，我们在`$cfg['Servers'][$i]['port']`或`$cfg['Servers'][$i]['socket']`中填入正确的值。有关套接字的更多详细信息，请参见*connect_type,
    sockets, and port*部分。
- en: 'The displayed server name inside phpMyAdmin''s interface will be the one entered
    in`''host''` unless we enter a non-blank value in the following parameter, for
    example:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 在phpMyAdmin界面中显示的服务器名称将是`'host'`中输入的名称，除非我们在以下参数中输入非空值，例如：
- en: '[PRE8]'
  id: totrans-151
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: This feature can thus be used to display a different server hostname as seen
    by the users on the login panel and on the main page, although the real server
    name can be seen as part of the user definition (for example, `root@localhost)`
    on the main page.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，这个功能可以用来在登录面板和主页面上显示用户所看到的不同服务器主机名，尽管真实的服务器名称可以作为用户定义的一部分（例如，在主页面上是`root@localhost`）。
- en: extension
  id: totrans-153
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 扩展
- en: The traditional-mechanism PHP uses to communicate with a MySQL server, as available
    in PHP before version 5, is the `mysql` extension. This extension is still available
    in PHP 5\. However, a new extension called `mysqli` has been developed and should
    be preferred for PHP 5, due to its improved performance and its support of the
    full functionality of MySQL family 4.1.x. This extension is designed to work with
    MySQL version 4.1.3 and higher. As phpMyAdmin supports both extensions, we can
    choose either one for a particular server. We indicate the extension we want to
    use in `$cfg['Servers'][$i]['extension']`. The default value used is `mysqli`.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: PHP与MySQL服务器通信的传统机制，在PHP 5之前可用的是`mysql`扩展。这个扩展在PHP 5中仍然可用。然而，一个名为`mysqli`的新扩展已经开发出来，并且应该在PHP
    5中优先使用，因为它具有改进的性能并支持MySQL 4.1.x系列的全部功能。这个扩展被设计用于与MySQL版本4.1.3及更高版本一起使用。由于phpMyAdmin支持这两个扩展，我们可以为特定服务器选择其中一个。我们在`$cfg['Servers'][$i]['extension']`中指定我们想要使用的扩展。默认使用的值是`mysqli`。
- en: connect_type, socket, and port
  id: totrans-155
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: connect_type、socket和port
- en: 'Both the `mysql` and `mysqli` extensions automatically use a socket to connect
    to MySQL if the server is on `localhost`. Consider the following configuration:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: '`mysql`和`mysqli`扩展在连接到`localhost`上的MySQL时会自动使用套接字。考虑以下配置：'
- en: '[PRE9]'
  id: totrans-157
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: The default value for `connect_type` is `tcp`. However, the extension will use
    a socket because it concludes that this is more efficient as the `host` is `localhost`.
    So in this case, we can use `tcp` or `socket` as the `connect_type`. To force
    a real TCP connection, we can specify `127.0.0.1` instead of `localhost` in the
    `host` parameter. Because the `socket` parameter is empty, the extension will
    try the default socket. If this default socket, as defined in `php.ini`, does
    not correspond to the real socket assigned to the MySQL server, we have to put
    the socket name (for example, `/tmp/mysql.sock)` in `$cfg['Servers'][$i]['socket']`.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: '`connect_type`的默认值是`tcp`。然而，扩展将使用套接字，因为它认为这样更有效率，因为`host`是`localhost`。所以在这种情况下，我们可以使用`tcp`或`socket`作为`connect_type`。要强制使用真正的TCP连接，可以在`host`参数中指定`127.0.0.1`而不是`localhost`。因为`socket`参数为空，扩展将尝试使用默认套接字。如果`php.ini`中定义的默认套接字与分配给MySQL服务器的真实套接字不对应，我们必须在`$cfg[''Servers''][$i][''socket'']`中放置套接字名称（例如`/tmp/mysql.sock`）。'
- en: 'If the hostname is not `localhost`, a TCP connection will occur; in this case,
    on the special port `3307`. However, leaving the port value empty would use the
    default `3306` port:'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 如果主机名不是`localhost`，将发生TCP连接；在这种情况下，使用特殊端口`3307`。然而，将端口值留空将使用默认的`3306`端口：
- en: '[PRE10]'
  id: totrans-160
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: compress
  id: totrans-161
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 压缩
- en: 'The protocol used to communicate between PHP and MySQL allows a compressed
    mode. Using this mode provides better efficiency. To take advantage of this mode,
    simply specify:'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: PHP与MySQL之间通信所使用的协议允许压缩模式。使用此模式可以提高效率。要利用此模式，只需指定：
- en: '[PRE11]'
  id: totrans-163
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: PersistentConnections
  id: totrans-164
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 持久连接
- en: Another important parameter (which is not server-specific but applies to all
    server definitions) is `$cfg['PersistentConnections']`. For every server we connect
    to using the `mysql` extension, this parameter, when set to `TRUE`, instructs
    PHP to keep the connection to the MySQL server open. This speeds up the interaction
    between PHP and MySQL. However, it is set to `FALSE` by default in `config.inc.php`
    as persistent connections are often a cause of resource depletion on servers (you
    would find MySQL refusing new connections). For this reason, the option is not
    even available for the `mysqli` extension. Hence, setting it to `TRUE` here would
    have no effect if you are connecting with this extension.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个重要的参数（不是特定于服务器的，但适用于所有服务器定义）是`$cfg['PersistentConnections']`。对于使用`mysql`扩展连接的每个服务器，当设置为`TRUE`时，此参数指示PHP保持与MySQL服务器的连接打开。这加快了PHP与MySQL之间的交互。然而，在`config.inc.php`中默认设置为`FALSE`，因为持久连接经常是服务器资源耗尽的原因（您会发现MySQL拒绝新连接）。因此，对于`mysqli`扩展，甚至不提供此选项。因此，如果您使用此扩展进行连接，则在这里将其设置为`TRUE`将不起作用。
- en: controluser
  id: totrans-166
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 控制用户
- en: 'Defining the control user has the following two purposes:'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 定义控制用户有以下两个目的：
- en: On a MySQL server running with `--skip-show-database`, the control user permits
    the use of multi-user authentication even though servers running with this option
    are not commonly seen. This aspect is described in [Chapter 2](ch02.html "Chapter 2. Configuring
    Authentication and Security").
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在运行`--skip-show-database`的MySQL服务器上，控制用户允许使用多用户身份验证，尽管使用此选项运行的服务器并不常见。这一方面在[第2章](ch02.html
    "第2章。配置身份验证和安全性")中有描述。
- en: On all versions of MySQL server, this user is necessary to be able to use the
    advanced features of phpMyAdmin.
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在所有版本的MySQL服务器上，这个用户是必需的，才能使用phpMyAdmin的高级功能。
- en: For authentication purposes, `controluser` is a special user (the usual name
    we choose for it is `pma)` who has the rights to read some fields in the special
    `mysql` database (which contains all the user definitions). phpMyAdmin sends queries
    with this special `controluser` only for the specific needs of authentication,
    and not for normal operation. The commands to create the control user are available
    in phpMyAdmin's `Documentation.html` and may vary from one version to the other.
    This documentation contains the most current commands.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 为了认证目的，`controluser`是一个特殊用户（我们选择的通常名称是`pma`），他有权读取`mysql`数据库中的一些字段（其中包含所有用户定义）。phpMyAdmin仅为认证的特定需求发送带有这个特殊`controluser`的查询，而不是正常操作。创建控制用户的命令可以在phpMyAdmin的`Documentation.html`中找到，并且可能会因版本而异。这份文档包含了最新的命令。
- en: 'When our `controluser` is created in the MySQL server, we fill in the parameters
    as in the following example, replacing `xxx` with a suitably complex password:'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们在MySQL服务器中创建`controluser`时，我们填写参数如下示例中的内容，将`xxx`替换为一个适当复杂的密码：
- en: '[PRE12]'
  id: totrans-172
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Standard password guidelines apply here. Please refer to [http://en.wikipedia.org/wiki/Password_strength](http://en.wikipedia.org/wiki/Password_strength)
    for suggestions.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 这里适用标准密码指南。请参考[http://en.wikipedia.org/wiki/Password_strength](http://en.wikipedia.org/wiki/Password_strength)获取建议。
- en: Installing phpMyAdmin configuration storage
  id: totrans-174
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装phpMyAdmin配置存储
- en: In addition to basic MySQL databases maintenance, phpMyAdmin offers advanced
    features that we will discover in the following chapters. These features require
    the installation of the phpMyAdmin configuration storage.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 除了基本的MySQL数据库维护外，phpMyAdmin还提供了高级功能，我们将在接下来的章节中发现。这些功能需要安装phpMyAdmin配置存储。
- en: Goal of the configuration storage
  id: totrans-176
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 配置存储的目标
- en: The configuration storage consists of a set of tables that are used behind the
    scene by phpMyAdmin. They hold metadata which contains information to support
    special features such as query bookmarks and data transformation. Moreover, for
    tables using a storage engine that does not support foreign keys, relations between
    tables are kept in this configuration storage. The metadata is generated and maintained
    by phpMyAdmin on the basis of our actions from the interface.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 配置存储由phpMyAdmin在幕后使用的一组表组成。它们保存元数据，其中包含支持特殊功能的信息，例如查询书签和数据转换。此外，对于使用不支持外键的存储引擎的表，表之间的关系保存在这个配置存储中。元数据是根据我们在界面上的操作由phpMyAdmin生成和维护的。
- en: Location of the configuration storage
  id: totrans-178
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 配置存储的位置
- en: 'There are two possible places to store these tables:'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 有两个可能的地方来存储这些表：
- en: A user's database—to facilitate every web developer owning a database to benefit
    from these features.
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户的数据库-以方便每个网页开发人员拥有一个数据库以从这些功能中受益。
- en: A dedicated database calledpmadb (phpMyAdmin **database)**. In a multi-user
    installation, this database may be accessible to a number of users while keeping
    the metadata private.
  id: totrans-181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个名为pmadb（phpMyAdmin数据库）的专用数据库。在多用户安装中，这个数据库可能对许多用户可见，同时保持元数据私有。
- en: 'As this storage does not exist by default and because the phpMyAdmin team wants
    to promote it, the interface displays the following notice message on the home
    page:'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 由于这个存储默认情况下不存在，并且phpMyAdmin团队希望推广它，界面在主页上显示以下通知消息：
- en: '![Location of the configuration storage](img/7782_01_06.jpg)'
  id: totrans-183
  prefs: []
  type: TYPE_IMG
  zh: '![配置存储的位置](img/7782_01_06.jpg)'
- en: This message can be disabled with the following parameter (which, by default,
    is set to `FALSE):`
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 这条消息可以通过以下参数禁用（默认情况下设置为`FALSE`）：
- en: '[PRE13]'
  id: totrans-185
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Performing the installation
  id: totrans-186
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 执行安装
- en: The previous error message is displayed even if only a part of the configuration
    storage is lacking. Of course, on a fresh installation, all parts are lacking—our
    database has not yet heard of phpMyAdmin and needs to be outfitted with this configuration
    storage. Following the **here** link in the previous screenshot brings up a panel
    explaining that the `pmadb`, and the tables that are supposed to be a part of
    it, are either missing or undefined.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 即使只有部分配置存储缺失，先前的错误消息也会显示。当然，在新安装中，所有部分都缺失-我们的数据库还没有听说过phpMyAdmin，并且需要配备这个配置存储。在前一个截图中点击“here”链接会弹出一个面板，解释`pmadb`以及应该是其中一部分的表要么缺失要么未定义。
- en: 'It''s important to realize that the configuration storage will be functional
    only if the following two conditions are met:'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 重要的是要意识到，只有满足以下两个条件，配置存储才能正常运行：
- en: Proper definitions are present in `config.inc.php`
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`config.inc.php`中存在适当的定义
- en: The corresponding tables (and maybe the database) are created
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 相应的表（也许是数据库）被创建
- en: To create the necessary structure that matches our current version of phpMyAdmin,
    a command file called `create_tables.sql` is available in the `scripts` sub-directory
    of the phpMyAdmin installation directory. However, we should not blindly execute
    it before understanding the possible choices—single-user installation or multi-user
    installation.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 为了创建与我们当前版本的phpMyAdmin匹配的必要结构，phpMyAdmin安装目录的`scripts`子目录中提供了一个名为`create_tables.sql`的命令文件。但是，在了解可能的选择-单用户安装或多用户安装之前，我们不应该盲目执行它。
- en: Note
  id: totrans-192
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: In subsequent chapters, we will assume that the multi-user installation has
    been chosen.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 在后续章节中，我们将假设选择了多用户安装。
- en: Installing for a single user
  id: totrans-194
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 为单个用户安装
- en: Even if we are entitled to only one database by the system administrator, we
    can still use all the advanced features of phpMyAdmin. In this setup, we will
    use our existing database to store the metadata tables.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 即使我们只有一个数据库的权限，我们仍然可以使用phpMyAdmin的所有高级功能。在这种设置中，我们将使用我们现有的数据库来存储元数据表。
- en: 'We need to modify a local copy of the `scripts/create_tables.sql` file to populate
    our database with all the needed tables. They will have the prefix `pma_` to make
    them easily recognizable. We need to remove the following lines:'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要修改`scripts/create_tables.sql`文件的本地副本，以便用所需的所有表填充我们的数据库。它们将具有前缀`pma_`以便于识别。我们需要删除以下行：
- en: '[PRE14]'
  id: totrans-197
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'This is done because we won''t be using a `phpmyadmin` database but our own.
    Next, we should open our own database in phpMyAdmin. We are now ready to execute
    the script. There are two ways of doing this:'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 这样做是因为我们不会使用`phpmyadmin`数据库，而是我们自己的。接下来，我们应该在phpMyAdmin中打开我们自己的数据库。现在我们准备执行脚本了。有两种方法可以做到这一点：
- en: As we already have the script in our editor, we can just copy the lines and
    paste them in the query box of the **SQL** page. More details on this in [Chapter
    11](ch11.html "Chapter 11. Entering SQL Statements").
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由于我们已经在编辑器中有脚本，我们可以只需复制这些行并粘贴到**SQL**页面的查询框中。更多细节请参阅[第11章](ch11.html "第11章。输入SQL语句")。
- en: Another way is to use the import technique shown in [Chapter 7](ch07.html "Chapter 7. Importing
    Structure and Data"). We select the `create_tables.sql` script that we just modified.
  id: totrans-200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 另一种方法是使用[第7章](ch07.html "第7章。导入结构和数据")中展示的导入技术。我们选择刚刚修改的`create_tables.sql`脚本。
- en: After the creation, the navigation panel shows us the special `pma_` tables
    along with our normal tables.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 创建后，导航面板会显示特殊的`pma_`表和我们的普通表。
- en: 'It is now time to adjust all the configuration storage related parameters in
    `config.inc.php`. This can be done easily with the setup script as seen in this
    chapter, or by pasting the appropriate lines from the `config.sample.inc.php`
    file. The database is our own and the table names are the ones that have just
    been created:'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 现在是时候调整`config.inc.php`中所有与配置存储相关的参数了。这可以通过本章中的设置脚本轻松完成，也可以通过从`config.sample.inc.php`文件中粘贴适当的行来完成。数据库是我们自己的，表名是刚刚创建的表名：
- en: '[PRE15]'
  id: totrans-203
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Note
  id: totrans-204
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: As table names are case sensitive, we must use the same names as the tables
    created by the installation script. We are free to change the table names (see
    the right-hand part of the configuration directives listed) provided we change
    them accordingly in the database.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 由于表名区分大小写，我们必须使用与安装脚本创建的表相同的名称。我们可以自由更改表名（参见列出的配置指令的右侧部分），只要我们相应地在数据库中进行更改。
- en: 'The `pmadb` and each table have a specific function as listed next:'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: '`pmadb`和每个表都有一个特定的功能，如下所列：'
- en: '| Function | Description | Explained in |'
  id: totrans-207
  prefs: []
  type: TYPE_TB
  zh: '| 功能 | 描述 | 解释 |'
- en: '| --- | --- | --- |'
  id: totrans-208
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| `pmadb` | Defines the database where all tables are located | This chapter
    |'
  id: totrans-209
  prefs: []
  type: TYPE_TB
  zh: '| `pmadb` | 定义所有表所在的数据库 | 本章 |'
- en: '| `bookmarktable` | Contains the query bookmarks | [Chapter 14](ch14.html "Chapter 14. Using
    Query Bookmarks") |'
  id: totrans-210
  prefs: []
  type: TYPE_TB
  zh: '| `bookmarktable` | 包含查询书签 | [第14章](ch14.html "第14章。使用查询书签") |'
- en: '| `relation` | Defines inter-table relations, as used in many of the phpMyAdmin''s
    features | [Chapter 10](ch10.html "Chapter 10. Benefiting from the Relational
    System") |'
  id: totrans-211
  prefs: []
  type: TYPE_TB
  zh: '| `relation` | 定义表间关系，用于phpMyAdmin的许多功能 | [第10章](ch10.html "第10章。从关系系统中受益")
    |'
- en: '| `table_info` | Contains the display field | [Chapter 10](ch10.html "Chapter 10. Benefiting
    from the Relational System") |'
  id: totrans-212
  prefs: []
  type: TYPE_TB
  zh: '| `table_info` | 包含显示字段 | [第10章](ch10.html "第10章。从关系系统中受益") |'
- en: '| `table_coords` and `pdf_pages` | Contains the metadata necessary for drawing
    a schema of the relations in a PDF format | [Chapter 15](ch15.html "Chapter 15. Documenting
    the System") |'
  id: totrans-213
  prefs: []
  type: TYPE_TB
  zh: '| `table_coords`和`pdf_pages` | 包含绘制PDF格式关系图所需的元数据 | [第15章](ch15.html "第15章。系统文档化")
    |'
- en: '| `column_info` | Used for column-commenting and MIME-based transformations
    | [Chapter 16](ch16.html "Chapter 16. Transforming Data using MIME") |'
  id: totrans-214
  prefs: []
  type: TYPE_TB
  zh: '| `column_info` | 用于列注释和基于MIME的转换 | [第16章](ch16.html "第16章。使用MIME转换数据") |'
- en: '| `history` | Contains SQL query history information | [Chapter 11](ch11.html
    "Chapter 11. Entering SQL Statements") |'
  id: totrans-215
  prefs: []
  type: TYPE_TB
  zh: '| `history` | 包含SQL查询历史信息 | [第11章](ch11.html "第11章。输入SQL语句") |'
- en: '| `tracking` | Contains the metadata and the actual SQL statements related
    to the tracked tables | [Chapter 18](ch18.html "Chapter 18. Tracking Changes")
    |'
  id: totrans-216
  prefs: []
  type: TYPE_TB
  zh: '| `tracking` | 包含与被跟踪表相关的元数据和实际的SQL语句 | [第18章](ch18.html "第18章。跟踪变化") |'
- en: '| `designer_coords` | Holds the coordinates used by the **Designer** feature
    | [Chapter 10](ch10.html "Chapter 10. Benefiting from the Relational System")
    |'
  id: totrans-217
  prefs: []
  type: TYPE_TB
  zh: '| `designer_coords` | 保存**Designer**功能使用的坐标 | [第10章](ch10.html "第10章。从关系系统中受益")
    |'
- en: '| `userconfig` | Holds the user''s preferences | [Chapter 3](ch03.html "Chapter 3. Over
    Viewing the Interface") |'
  id: totrans-218
  prefs: []
  type: TYPE_TB
  zh: '| `userconfig` | 保存用户的偏好设置 | [第3章](ch03.html "第3章。概述界面") |'
- en: Between each phpMyAdmin version, the infrastructure may be enhanced—the changes
    are explained in `Documentation.html`. This is why phpMyAdmin has various checks
    to ascertain the structure of the tables. If we know we are using the latest structure,
    `$cfg['Servers'][$i]['verbose_check']` can be set to `FALSE` to avoid checks,
    thereby slightly increasing phpMyAdmin's speed.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 在每个phpMyAdmin版本之间，基础设施可能会得到增强——这些变化在`Documentation.html`中有解释。这就是为什么phpMyAdmin有各种检查来确定表的结构。如果我们知道我们使用的是最新结构，可以将`$cfg['Servers'][$i]['verbose_check']`设置为`FALSE`以避免检查，从而稍微提高phpMyAdmin的速度。
- en: Installing for multiple users
  id: totrans-220
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 为多个用户安装
- en: In this setup, we will have a distinct database—`pmadb`—to store the metadata
    tables. Our control user will have specific rights to this database. Each user
    will work with his/her login name and password which will be used to access his/her
    databases. However, whenever phpMyAdmin itself accesses `pmadb` to obtain some
    metadata, it will use the control user's privileges.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个设置中，我们将有一个独立的数据库`pmadb`来存储元数据表。我们的控制用户将有特定的权限访问这个数据库。每个用户将使用自己的登录名和密码来访问自己的数据库。然而，当phpMyAdmin本身访问`pmadb`以获取一些元数据时，它将使用控制用户的权限。
- en: Note
  id: totrans-222
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Setting a multi-user installation is possible only for a MySQL system administrator
    who has the privileges of assigning rights to another user (here, the `pma` user).
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 设置多用户安装只有MySQL系统管理员才能做，他有权限给另一个用户（这里是`pma`用户）分配权限。
- en: 'We first ensure that the control user `pma` has been created and that its definition
    in `config.inc.php` is appropriate. We then copy `scripts/create_tables.sql` to
    our local workstation and edit it. We replace the following lines:'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 我们首先确保控制用户`pma`已经创建，并且在`config.inc.php`中的定义是合适的。然后我们将`scripts/create_tables.sql`复制到我们的本地工作站并进行编辑。我们替换以下行：
- en: '[PRE16]'
  id: totrans-225
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'with these, removing the comment characters (double-dash):'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 使用这些，删除注释字符（双破折号）：
- en: '[PRE17]'
  id: totrans-227
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: We then execute this script by importing it (refer to [Chapter 7)](ch07.html
    "Chapter 7. Importing Structure and Data"). The net effect is to create the `phpmyadmin`
    database, assign proper rights to user `pma`, and populate the database with all
    the necessary tables.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 然后通过导入执行此脚本（参见[第7章)](ch07.html "第7章。导入结构和数据"）。其净效果是创建`phpmyadmin`数据库，为用户`pma`分配适当的权限，并用所有必要的表填充数据库。
- en: 'The last step is to adjust all the parameters in `config.inc.php` that relate
    to relational features. Please refer to the *Installing for a single user* section,
    except for the database name in the `pmadb` parameter, which will be as shown
    in the following code snippet:'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 最后一步是调整`config.inc.php`中与关系特性相关的所有参数。请参阅*为单个用户安装*部分，除了`pmadb`参数中的数据库名称，该名称将如下代码片段所示：
- en: '[PRE18]'
  id: totrans-230
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: The installation is now complete. We will test the features in the coming sections
    and chapters. We can do a quick check by logging out of phpMyAdmin, then logging
    in and displaying the home page; the warning message should be gone.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 安装现在已经完成。我们将在接下来的章节中测试功能。我们可以通过退出phpMyAdmin，然后登录并显示主页来进行快速检查；警告消息应该消失。
- en: Upgrading phpMyAdmin
  id: totrans-232
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 升级phpMyAdmin
- en: Normally, upgrading is just a matter of installing the newer version into a
    separate directory and copying the previous version's `config.inc.php` to the
    new directory.
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，升级只是将新版本安装到一个单独的目录，并将先前版本的`config.inc.php`复制到新目录。
- en: Note
  id: totrans-234
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: An upgrade path or the first-installation path, which should **not** be taken,
    is to copy `libraries/config.default.php` to `config.inc.php`. This is because
    the default configuration file is version-specific, and is not guaranteed to work
    for the future versions.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 升级路径或首次安装路径，**不应**采用的方法是将`libraries/config.default.php`复制到`config.inc.php`。这是因为默认配置文件是特定版本的，并不能保证适用于将来的版本。
- en: New parameters appear from version to version. They are documented in `Documentation.html`
    and defined in `libraries/config.default.php`. If a configuration parameter is
    not present in `config.inc.php`, its value from `libraries/config.default.php`
    will be used. Therefore, we do not have to include it in `config.inc.php` if the
    default value suits us.
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 从版本到版本会出现新参数。它们在`Documentation.html`中有文档记录，并在`libraries/config.default.php`中定义。如果配置参数在`config.inc.php`中不存在，则将使用`libraries/config.default.php`中的值。因此，如果默认值适合我们，我们就不必在`config.inc.php`中包含它。
- en: Special care must be taken to propagate the changes we might have made to the
    `layout.inc.php` files depending on the themes used. We will have to copy our
    custom themes sub-directories if we added our own themes to the structure.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 必须特别注意传播我们可能对`layout.inc.php`文件所做的更改，这取决于所使用的主题。如果我们向结构中添加了自定义主题，我们将不得不复制我们的自定义主题子目录。
- en: Summary
  id: totrans-238
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: This chapter covered the popularity of PHP/MySQL for web applications. The chapter
    also gave an overview of why phpMyAdmin is recognized as a leading application
    to interface MySQL from the web. It then discussed common reasons for installing
    phpMyAdmin, steps for downloading it from the main site, basic configuration,
    uploading phpMyAdmin to our web server, and upgrading.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 本章介绍了PHP/MySQL在Web应用程序中的流行程度。该章还概述了为什么phpMyAdmin被认为是从Web界面访问MySQL的领先应用程序。然后讨论了安装phpMyAdmin的常见原因，从主要网站下载它的步骤，基本配置，将phpMyAdmin上传到我们的Web服务器以及升级。
- en: Now that the basic installation has been done, the next chapter will deal with
    the configuration subject in depth, by exploring the authentication and security
    aspects.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 基本安装已完成，下一章将深入探讨配置主题，探索认证和安全方面。
