- en: Installing and Upgrading MySQL 8
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装和升级MySQL 8
- en: In the previous chapter, we provided an overview of MySQL along with MySQL 8's
    new features, use cases, and limitations. MySQL is very flexible in terms of platforms,
    such as RedHat, Fedora, Ubuntu, Debian, Solaris, Microsoft Windows, and so on.
    It has the support of an API to connect with different languages, such as C, C++,
    C#, PHP, Java, Ruby, and many more. For any programming platform, the most important
    and monotonous task is to set up the environment with the necessary software tools.
    That won't be the case for MySQL 8, as this chapter is focused on setting up the
    environment with MySQL 8.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一章中，我们提供了MySQL的概述以及MySQL 8的新功能、用例和限制。MySQL在平台方面非常灵活，例如RedHat、Fedora、Ubuntu、Debian、Solaris、Microsoft
    Windows等。它支持与不同语言连接的API，例如C、C++、C#、PHP、Java、Ruby等。对于任何编程平台，设置环境与必要的软件工具是最重要和单调的任务。但对于MySQL
    8来说，情况并非如此，因为本章重点是如何设置MySQL 8的环境。
- en: This chapter explains MySQL 8's installation steps in detail with the necessary
    prerequisites. Separate installation steps are provided to set up MySQL 8 on various
    platforms. The chapter also covers methods to upgrade to or downgrade from MySQL
    8.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本章详细解释了MySQL 8的安装步骤以及必要的先决条件。提供了在各种平台上设置MySQL 8的单独安装步骤。本章还涵盖了升级到MySQL 8或从MySQL
    8降级的方法。
- en: 'We will cover the following topics in this chapter:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将涵盖以下主题：
- en: The MySQL 8 installation process
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MySQL 8安装过程
- en: Post-installation setup for MySQL 8
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MySQL 8的后安装设置
- en: MySQL 8 upgrading
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MySQL 8升级
- en: MySQL 8 downgrading
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MySQL 8降级
- en: The MySQL 8 installation process
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: MySQL 8安装过程
- en: This section will guide readers in MySQL 8 version selection, where to get MySQL
    8 from, and how to install MySQL 8\. It also explains the post-installation steps
    required for setup. This chapter provides information on how to upgrade or downgrade
    from MySQL 8.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 本节将指导读者选择MySQL 8版本，从哪里获取MySQL 8以及如何安装MySQL 8。它还解释了设置所需的后安装步骤。本章提供了有关如何升级或降级从MySQL
    8的信息。
- en: General installation guide
  id: totrans-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通用安装指南
- en: 'MySQL 8 is available on many operating systems with different versions. The
    MySQL 8 release is managed in two ways:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL 8在许多操作系统上都有不同版本。MySQL 8的发布以两种方式进行管理：
- en: '** Development release**: This has the newest feature but is not recommended
    for use in production'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**开发发布**：这具有最新功能，但不建议在生产中使用'
- en: '**General release**: This is a stable release and users can use it for release
    in production also'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**通用发布**：这是一个稳定的发布，用户可以在生产中使用它'
- en: 'Naming conventions are followed in each release of MySQL 8, which indicates
    its status. Each release name consists of three digits and an optional suffix.
    For example, **mysql.8.1.2-rc**. The numbers are interpreted as follow:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL 8的每个发布都遵循命名约定，表示其状态。每个发布名称由三个数字和一个可选后缀组成。例如，**mysql.8.1.2-rc**。数字的解释如下：
- en: The first number (**8**) indicates a major version of the release.
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第一个数字（8）表示发布的主要版本。
- en: The second number (**1**) indicates a minor version of the release. A combination
    of major and minor numbers describes the series of the release.
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第二个数字（1）表示发布的次要版本。主要和次要数字的组合描述了发布系列。
- en: The third number (**2**) indicates the version within the release series. It
    is incremented on each bug fix release.
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第三个数字（2）表示发布系列中的版本。每个错误修复发布都会增加它。
- en: 'The most recent version of the release is the most preferable for use. The
    suffix given in the example indicates the stability of the MySQL 8 release.  The
    MySQL 8 release follows three suffixes:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 最新版本的发布是最适合使用的。示例中给出的后缀表示MySQL 8发布的稳定性。MySQL 8发布遵循三个后缀：
- en: '**Development Milestone Release** (**dmr**): MySQL 8 follows the milestone
    model, where each milestone indicates thoroughly tested features.'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**开发里程碑发布**（**dmr**）：MySQL 8遵循里程碑模型，其中每个里程碑表示经过彻底测试的功能。'
- en: '**Release Candidate** (**rc**): A new feature might get released in this version
    but the aim is to fix bugs  within the previously released features.'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**发布候选人**（**rc**）：新功能可能会在此版本中发布，但目的是修复先前发布的功能中的错误。'
- en: '**Absence of a suffix**: This indicates **General Availability** (**GA**) or
    production release. This release is stable and passed through earlier stages.
    It is reliable and suitable for use in production.'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**没有后缀**：这表示**通用可用性**（**GA**）或生产发布。此版本稳定，并通过了早期阶段。它可靠且适用于生产。'
- en: As described, preceding each release is the DMR, followed by the RC, and finally
    the GA release status. Now, after deciding the MySQL 8 version for the installation,
    it's time to select the distribution format.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，每个发布之前都是DMR，然后是RC，最后是GA发布状态。现在，在决定安装MySQL 8版本之后，是时候选择分发格式了。
- en: The binary distribution is recommended for general-purpose use. It is available
    in native formats for many platforms. For example, the RPM package for Linux and
    DMG package for OS X.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 二进制分发被推荐用于通用用途。它以原生格式提供给许多平台。例如，Linux的RPM软件包和OS X的DMG软件包。
- en: Downloading MySQL 8
  id: totrans-24
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载MySQL 8
- en: 'To get MySQL 8 from the official site, refer to the following URL: [http://dev.mysql.com/downloads/](http://dev.mysql.com/downloads/).
    MySQL also provides a mirror site: [http://dev.mysql.com/downloads/mirrors.html](http://dev.mysql.com/downloads/mirrors.html).
    When you reach the download page, you can see the version selection tab at the
    bottom side of the page, where two tabs are displayed:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 要从官方网站获取MySQL 8，请参考以下网址：[http://dev.mysql.com/downloads/](http://dev.mysql.com/downloads/)。MySQL还提供了一个镜像网站：[http://dev.mysql.com/downloads/mirrors.html](http://dev.mysql.com/downloads/mirrors.html)。当您到达下载页面时，您可以在页面底部看到版本选择选项卡，其中显示了两个选项卡：
- en: '**Generally Available** (**GA**) release'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**通用可用性**（**GA**）发布'
- en: Development release
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 开发发布
- en: Based on the previous section, select the suitable version from the list and
    click on the Download button.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 根据前一节，从列表中选择合适的版本，然后单击下载按钮。
- en: Verifying the package integrity
  id: totrans-29
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 验证软件包的完整性
- en: 'This is a stage where the downloaded package is available and ready for the
    installation. It''s an optional step, but we recommend it to avoid errors during
    the installation process. There are three different ways available to check integrity:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 这是下载软件包可用并准备安装的阶段。这是一个可选步骤，但我们建议这样做，以避免在安装过程中出现错误。有三种不同的方法可用于检查完整性：
- en: Using MD5 checksums
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用MD5校验和
- en: Using cryptographic signatures
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用加密签名
- en: Using the RPM integrity verification mechanism
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用RPM完整性验证机制
- en: Using MD5 checksums
  id: totrans-34
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用MD5校验和
- en: This is the simplest way to check integrity and requires little effort. The
    MySQL download page itself provides an MD5 checksum, which is unique for each
    MySQL product. After downloading MySQL 8, we just have to make sure that the checksum
    of the downloaded file matches with the checksum provided on the download page. There
    are many tools available for different operating systems to compare checksums.
    Here, we are providing an example of MD5 checksums using the command line and
    using one graphical tool, named winMD5Sum, for the Windows operating system.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 这是检查完整性的最简单方法，需要很少的工作。MySQL下载页面本身提供了一个MD5校验和，对于每个MySQL产品都是唯一的。下载MySQL 8后，我们只需确保下载文件的校验和与下载页面上提供的校验和匹配即可。有许多工具可用于不同操作系统来比较校验和。在这里，我们提供了一个使用命令行和一个名为winMD5Sum的图形工具的MD5校验和示例，用于Windows操作系统。
- en: 'Perform the following steps for the command line execution:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤以执行命令行：
- en: Download the utility from [http://www.fourmilab.ch/md5/](http://www.fourmilab.ch/md5/)
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从[http://www.fourmilab.ch/md5/](http://www.fourmilab.ch/md5/)下载实用程序
- en: Unzip the file under `E:\Softwares` location
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`E:\Softwares`位置下解压文件
- en: 'Go to the command line and execute the following command:'
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到命令行并执行以下命令：
- en: '[PRE0]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Perform the following steps for the graphical tool execution:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤以执行图形工具：
- en: Open the link: [http://www.nullriver.com/index/products/winmd5sum](http://www.nullriver.com/index/products/winmd5sum).
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开链接：[http://www.nullriver.com/index/products/winmd5sum](http://www.nullriver.com/index/products/winmd5sum)。
- en: Click on the Download WinMD5Sum option on the page. It will download `winMD5Sum.exe` on
    to your computer.
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击页面上的下载WinMD5Sum选项。它将下载`winMD5Sum.exe`到您的计算机上。
- en: Run the downloaded `Install-winMD5Sum.exe` and install it on your local machine.
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行下载的`Install-winMD5Sum.exe`并将其安装在本地计算机上。
- en: After successful installation, open the winMD5Sum tool. This opens one dialog
    box where you have to select the downloaded `MySQL.msi` file.
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装成功后，打开winMD5Sum工具。这将打开一个对话框，在对话框中您必须选择下载的`MySQL.msi`文件。
- en: Click on the calculate button. This will calculate the MD5 checksum of the downloaded
    file.
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击计算按钮。这将计算已下载文件的MD5校验和。
- en: Enter the MD5 checksum available on the MySQL download page in the compare text
    box and press the compare button.
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在比较文本框中输入MySQL下载页面上提供的MD5校验和，然后点击比较按钮。
- en: Using cryptographic signatures
  id: totrans-48
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用加密签名
- en: 'This technique of integrity verification requires a public GPG build key. This
    key is available from the [http://pgp.mit.edu/](http://pgp.mit.edu/) URL. Once
    the build key is downloaded, you have to perform the following steps:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 这种完整性验证技术需要一个公共的GPG构建密钥。该密钥可以从[http://pgp.mit.edu/](http://pgp.mit.edu/) URL获取。下载构建密钥后，您必须执行以下步骤：
- en: Import the build key
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导入构建密钥
- en: Download the desired MySQL 8 package and its related signatures from the MySQL
    site
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从MySQL网站下载所需的MySQL 8软件包及其相关签名
- en: Make sure the MySQL package name and its downloaded signature file name are
    the same. Both the files must be placed under one common storage location.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 确保MySQL软件包名称及其下载的签名文件名称相同。这两个文件必须放在一个共同的存储位置下。
- en: 'Now, its time to execute the following command for verification:'
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，是时候执行以下命令进行验证了：
- en: '[PRE1]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'For Microsoft Windows, some GUI tools also available for integrity checks.
    One of the most popular is `Gpg4win`. To perform the same check on Linux, we have
    commands available because the RPM package itself contains a GPG signature and
    MD5 checksum. Execute the following command to verify the package:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 对于Microsoft Windows，还有一些GUI工具可用于完整性检查。其中最流行的之一是`Gpg4win`。要在Linux上执行相同的检查，我们有可用的命令，因为RPM软件包本身包含GPG签名和MD5校验和。执行以下命令以验证软件包：
- en: '[PRE2]'
  id: totrans-56
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: This technique of verification is more reliable than the MD5 checksum but it
    is very complex and requires more effort for integrity checks.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 这种验证技术比MD5校验更可靠，但非常复杂，需要更多的完整性检查工作。
- en: Installing MySQL 8 on Microsoft Windows
  id: totrans-58
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在Microsoft Windows上安装MySQL 8
- en: MySQL is available for both 32-bit and 64-bit versions. There are different
    ways available to install MySQL 8 on Microsoft Windows. The most common approach
    is to use an installer, which installs and configures MySQL 8 on your local system.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL提供32位和64位版本。有多种安装MySQL 8在Microsoft Windows上的方法。最常见的方法是使用安装程序，在本地系统上安装和配置MySQL
    8。
- en: Before installing MySQL Community 8.0 Server, make sure that the Microsoft Visual
    C++ 2015 redistributable package has been installed on the system.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 在安装MySQL Community 8.0服务器之前，请确保系统上已安装了Microsoft Visual C++ 2015可再发行包。
- en: 'MySQL 8 either runs as a standard application or runs as a Windows service.
    Use it, as the service enables users to control and measure operations using the
    Windows service management tool. Three major distribution formats are available
    for each platform:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL 8可以作为标准应用程序运行，也可以作为Windows服务运行。使用服务，用户可以使用Windows服务管理工具控制和测量操作。每个平台都有三种主要的分发格式：
- en: '**Installer distribution**: This includes the MySQL 8 server along with other
    products such as MySQL Workbench, MySQL for Excel, and MySQL Notifier. An installer
    is also useful for upgrading products into other versions.'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**安装程序分发**：这包括MySQL 8服务器以及其他产品，如MySQL Workbench、MySQL for Excel和MySQL Notifier。安装程序还可用于将产品升级到其他版本。'
- en: '**Source distribution**: As the name implies, this contains all the source
    code along with all the supported files. The Visual Studio compiler is required
    to make it executable.'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**源分发**：顾名思义，这包含所有源代码以及所有支持的文件。需要Visual Studio编译器才能使其可执行。'
- en: '**Binary distribution**: This distribution is available in ZIP file format.
    It contains all the required files except the installer. The user has to unpack
    the file into a selected directory.'
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**二进制分发**：此分发以ZIP文件格式提供。它包含除安装程序之外的所有必需文件。用户必须将文件解压缩到所选目录中。'
- en: Windows-specific considerations
  id: totrans-65
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Windows特定注意事项
- en: 'Before installing MySQL 8 on Microsoft Windows consider following points:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 在Microsoft Windows上安装MySQL 8之前，请考虑以下几点：
- en: '**Antivirus software**: As we know, antivirus software uses the fingerprinting
    technique, which will consider rapidly changed files as a potential security risk.
    In MySQL 8, there are some directories that contain MySQL 8 related data and temporary
    tables information and are updated frequently. So, there is a possibility that
    antivirus software will consider those files as spam. This will also impact performance.'
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**防病毒软件**：众所周知，防病毒软件使用指纹技术，将快速更改的文件视为潜在的安全风险。在MySQL 8中，有一些目录包含MySQL 8相关数据和临时表信息，并且经常更新。因此，防病毒软件有可能将这些文件视为垃圾邮件。这也会影响性能。'
- en: Antivirus software provides configurations to exclude some of the directories,
    so it is recommended to exclude the MySQL 8 data directory and temp directory.
    MySQL 8, by default, stores temporary data into a Microsoft Windows temporary
    directory. To change this default configuration in MySQL 8, refer to `my.ini`
    file's `tempdir` parameter.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 防病毒软件提供配置以排除一些目录，因此建议排除MySQL 8数据目录和临时目录。默认情况下，MySQL 8将临时数据存储到Microsoft Windows临时目录中。要更改MySQL
    8中的此默认配置，请参考`my.ini`文件的`tempdir`参数。
- en: '**Large table support**: Use MySQL 8 on NTFS or any new filesystem to support
    large tables whose size is more than 4 GB. For these larger tables, the user has
    to define the `MAX_ROWS` and `AVG_ROW_LENGTH` properties at the time of table
    creation.'
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**大表支持**：在NTFS或任何新文件系统上使用MySQL 8以支持大小超过4 GB的大表。对于这些更大的表，用户必须在创建表时定义`MAX_ROWS`和`AVG_ROW_LENGTH`属性。'
- en: MySQL 8 installation layout
  id: totrans-70
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: MySQL 8安装布局
- en: 'Microsoft Windows, by default, considers the `C:\Program Files` directory for
    the MySQL 8 installation. However, we have a choice for the directory selection
    at the time of installation. Whatever the location of the installation, the subdirectory
    structure after installation remains same. For the Microsoft Window layout, refer
    to the following table:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 微软Windows默认情况下，将`C:\Program Files`目录视为MySQL 8安装目录。然而，在安装时我们可以选择目录。无论安装位置如何，安装后的子目录结构保持不变。对于Microsoft
    Window布局，请参考以下表格：
- en: '| **Directory** | **Contents of Directory** | **Notes** |'
  id: totrans-72
  prefs: []
  type: TYPE_TB
  zh: '| **目录** | **目录内容** | **备注** |'
- en: '| `bin` | [**mysqld**](https://dev.mysql.com/doc/refman/8.0/en/mysqld.html) server,
    client and utility programs |   |'
  id: totrans-73
  prefs: []
  type: TYPE_TB
  zh: '| `bin` | [**mysqld**](https://dev.mysql.com/doc/refman/8.0/en/mysqld.html)服务器，客户端和实用程序
    |   |'
- en: '| `%PROGRAMDATA%\MySQL\MySQL Server 8.0\` | Log files, databases | The Windows
    system variable `%PROGRAMDATA%` defaults to `C:\ProgramData` |'
  id: totrans-74
  prefs: []
  type: TYPE_TB
  zh: '| `%PROGRAMDATA%\MySQL\MySQL Server 8.0\` | 日志文件，数据库 | Windows系统变量`%PROGRAMDATA%`默认为`C:\ProgramData`
    |'
- en: '| `examples` | Example programs and scripts |   |'
  id: totrans-75
  prefs: []
  type: TYPE_TB
  zh: '| `examples` | 示例程序和脚本 |   |'
- en: '| `include` | Include (`header`) files |   |'
  id: totrans-76
  prefs: []
  type: TYPE_TB
  zh: '| `include` | 包括（`header`）文件 |   |'
- en: '| `lib` | Libraries |   |'
  id: totrans-77
  prefs: []
  type: TYPE_TB
  zh: '| `lib` | 库 |   |'
- en: '| `share` | Miscellaneous support files, including error messages, character
    set files, sample configuration files, SQL for database installation |  |'
  id: totrans-78
  prefs: []
  type: TYPE_TB
  zh: '| `share` | 包括错误消息，字符集文件，示例配置文件，用于数据库安装的SQL等各种支持文件 |  |'
- en: You can learn more about this topic at [https://dev.mysql.com/doc/refman/8.0/en/windows-installation-layout.html](https://dev.mysql.com/doc/refman/8.0/en/windows-installation-layout.html).
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在[https://dev.mysql.com/doc/refman/8.0/en/windows-installation-layout.html](https://dev.mysql.com/doc/refman/8.0/en/windows-installation-layout.html)了解更多关于此主题的信息。
- en: Choosing the right installation package
  id: totrans-80
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 选择正确的安装包
- en: 'There are multiple options available for package formats while installing MySQL
    8 on Windows. MySQL provides a facility to debug the installation process using
    **program database** (**pdb**) files. These files are available in a ZIP distribution:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 在Windows上安装MySQL 8时，有多种软件包格式可供选择。MySQL提供了使用**程序数据库**（**pdb**）文件调试安装过程的功能。这些文件以ZIP分发方式提供：
- en: '**The installer package**: This is a wizard-based process and is easy to use.
    The installer package is available for 32-bits only but can install MySQL 8 on
    the 64-bit configuration also. It does not contain the debugging component of
    MYSQL; we have to download it separately in the form of a ZIP file. The installer
    package is available in two different formats:'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**安装程序包**：这是一个基于向导的过程，易于使用。安装程序包仅适用于32位，但也可以在64位配置上安装MySQL 8。它不包含MYSQL的调试组件；我们必须单独下载ZIP文件。安装程序包有两种不同的格式：'
- en: '**Web Community**: As the name implies, this is available for web installation.
    It means the Internet is required for the installation using the web community.
    Its size is approx 19 MB. Its name is defined as MySQL-installer-community by
    the appending version.'
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Web Community**：顾名思义，这是用于Web安装的。这意味着需要互联网才能使用Web社区进行安装。其大小约为19 MB。其名称定义为通过附加版本的MySQL-installer-community。'
- en: '**Community**: This package format is used for offline installation. Its size
    is approx 301 MB. Its name is defined as MySQL-installer-web-community by the
    appending version.'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**社区**：此软件包格式用于离线安装。其大小约为301 MB。其名称定义为通过附加版本的MySQL-installer-web-community。'
- en: An installer is the most common way for MySQL product installation and upgrade.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 安装程序是MySQL产品安装和升级的最常见方式。
- en: '**The Noinstall Archives**: This is a manual installation process that contains
    files for the incomplete installation package. As it is a manual process, no GUI
    is available. The user has to manually install and configure MySQL 8 and other
    products if required. Unlike the installer, it provides two different files for
    32-bit and 64-bit configuration in a ZIP format.'
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Noinstall Archives**：这是一个包含不完整安装包文件的手动安装过程。由于这是一个手动过程，因此没有GUI可用。用户必须手动安装和配置MySQL
    8和其他产品（如果需要）。与安装程序不同，它以ZIP格式为32位和64位配置提供两个不同的文件。'
- en: The MySQL 8 installer
  id: totrans-87
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: MySQL 8安装程序
- en: 'The MySQL 8 installer is mainly used to reduce the complexity of the installation
    process along with the management of MySQL products running on the Windows platform.
    In the product list, we can consider:'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL 8安装程序主要用于简化安装过程以及在Windows平台上运行的MySQL产品的管理。在产品列表中，我们可以考虑：
- en: MySQL servers
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MySQL服务器
- en: MySQL applications
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MySQL应用程序
- en: MySQL connectors
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MySQL连接器
- en: Documentation and samples
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文档和示例
- en: 'The MySQL 8 installer has two editions :'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL 8安装程序有两个版本：
- en: '**Community Edition**: This can be downloaded at [http://dev.mysql.com/downloads/installer/](http://dev.mysql.com/downloads/installer/).
    As described in previous section, both Web Community and Community package formats
    are available for the installer.'
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**社区版**：可在[http://dev.mysql.com/downloads/installer/](http://dev.mysql.com/downloads/installer/)下载。如前所述，安装程序提供Web社区和社区包格式。'
- en: '**Commercial Edition**: Refer to [https://edelivery.oracle.com/](https://edelivery.oracle.com/) to
    download the Commercial Edition. The Commercial Edition contains all the products
    that are available in the Community Edition along with the following products:'
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**商业版**：请参阅[https://edelivery.oracle.com/](https://edelivery.oracle.com/)下载商业版。商业版包含社区版中可用的所有产品以及以下产品：'
- en: Workbench SE/EE
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Workbench SE/EE
- en: MySQL Enterprise backup
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MySQL企业备份
- en: MySQL Enterprise firewall
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MySQL企业防火墙
- en: Initial setup information
  id: totrans-99
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 初始设置信息
- en: 'As mentioned previously, the installer will guide a user through the wizard.
    Once we start the installer in our host machine it will detect already installed
    MySQL products and consider them in a list of products to be managed. The following
    are the steps that are required in the initial setup of the installer:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，安装程序将引导用户通过向导。一旦我们在主机机器上启动安装程序，它将检测已安装的MySQL产品，并将其列入要管理的产品列表。以下是安装程序初始设置中所需的步骤：
- en: '**MySQL installer licensing and support authentication**: This is the step
    where the user must accept the license agreement before starting the MySQL 8 installation.
    After accepting the terms, the user is allowed to add, update, or remove MySQL
    products. In the Commercial Edition, credentials are required to unbundle products
    and must match with the user''s Oracle account in the support site.'
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**MySQL安装程序许可和支持身份验证**：这是用户必须在开始MySQL 8安装之前接受许可协议的步骤。接受条款后，用户可以添加、更新或删除MySQL产品。在商业版中，需要凭据来解除捆绑产品，并且必须与用户在支持站点的Oracle帐户匹配。'
- en: '**Choosing a setup type**: This is the step where the user must select MySQL
    products for installation. The installer also provides the option of a predefined
    setup, which contains a set of MySQL products. So, you have the flexibility of
    selecting one setup type as per your requirements. The following are some setups
    available in the installer.'
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**选择设置类型**：这是用户必须选择要安装的MySQL产品的步骤。安装程序还提供了预定义设置的选项，其中包含一组MySQL产品。因此，您可以根据自己的需求选择一个设置类型。以下是安装程序中可用的一些设置。'
- en: '**Developer default**: This installs the version of MySQL 8 server that was
    selected at the time of download:'
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**开发者默认**：这将安装在下载时选择的MySQL 8服务器版本：'
- en: MySQL server
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MySQL服务器
- en: MySQL shell
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MySQL shell
- en: MySQL router
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MySQL路由器
- en: MySQL Workbench
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MySQL Workbench
- en: MySQL for Visual Studio
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MySQL for Visual Studio
- en: MySQL for Excel
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MySQL for Excel
- en: MySQL notifier
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MySQL通知程序
- en: MySQL connectors
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MySQL连接器
- en: MySQL utilities
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MySQL实用程序
- en: MySQL documentation
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MySQL文档
- en: MySQL samples and examples
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MySQL示例和示例
- en: '**Server only:** This installs only the MySQL server.'
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**仅服务器**：这只安装MySQL服务器。'
- en: '**Client only**: This is the same as the developer default setup type, except
    it does not contain the MySQL 8 server or any client-specific package added to
    it.'
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**仅客户端**：这与开发者默认设置类型相同，只是不包含MySQL 8服务器或任何特定于客户端的包。'
- en: '**Full**: This installs all the available products of MySQL, such as `mysql-server`,
    `mysql-client`, `mysqladmin`, and a few more.'
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**完整**：这将安装MySQL的所有可用产品，如`mysql-server`，`mysql-client`，`mysqladmin`等。'
- en: '**Custom**: This option installs only those products that are selected by the
    user from the catalog. Here, the user has the freedom to choose only the required
    products, rather than installing the complete bundle of products.'
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**自定义**：此选项仅安装用户从目录中选择的产品。在这里，用户可以自由选择所需的产品，而不是安装完整的产品包。'
- en: '**Path conflicts**: When the hosting system already contains a MySQL product
    and the user is trying to install a different version of that MySQL product on
    the same path, then the installer will show a path conflict error in the wizard.
    The installer enables the user to take action on the path conflict in the following
    ways:'
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**路径冲突**：当托管系统已经包含一个MySQL产品，并且用户试图在相同路径上安装该MySQL产品的不同版本时，安装程序将在向导中显示路径冲突错误。安装程序使用户能够以以下方式处理路径冲突：'
- en: Choose a different location using the Browse button from the wizard
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用向导中的浏览按钮选择不同的位置
- en: Choose a different setup type or version by custom selection
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过自定义选择选择不同的设置类型或版本
- en: Overwrite the existing folder by moving on to the next step
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过继续到下一步覆盖现有文件夹
- en: Cancel the wizard steps, delete existing products, and start the installer again
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 取消向导步骤，删除现有产品，然后重新启动安装程序
- en: '**Check requirements**: Each MySQL product has a `package-rules.xml` file attached
    to it, which contains all the prerequisite software lists. During the initial
    setup, the installer will check the availability of the required software and
    prompt the user to update the host in case of missing requirements.'
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**检查要求**：每个MySQL产品都附有一个`package-rules.xml`文件，其中包含所有先决条件软件列表。在初始设置期间，安装程序将检查所需软件的可用性，并在缺少要求时提示用户更新主机。'
- en: '**MySQL installer configuration files**: The installer configuration files
    are located at `C:\Program Files`. The following are the configuration file details:'
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**MySQL安装程序配置文件**：安装程序配置文件位于`C:\Program Files`。以下是配置文件的详细信息：'
- en: '| **File or Folder** | **Description** | **Folder Hierarchy** |'
  id: totrans-126
  prefs: []
  type: TYPE_TB
  zh: '| **文件或文件夹** | **描述** | **文件夹层次结构** |'
- en: '| MySQL installer for Windows | This folder contains all of the files needed
    to run MySQL installer and [MySQLinstallerConsole.exe](https://dev.mysql.com/doc/refman/8.0/en/MySQLInstallerConsole.html),
    a command-line program with similar functionality. | `C:\Program Files (x86)`
    |'
  id: totrans-127
  prefs: []
  type: TYPE_TB
  zh: '| Windows的MySQL安装程序 | 此文件夹包含运行MySQL安装程序和[MySQLinstallerConsole.exe](https://dev.mysql.com/doc/refman/8.0/en/MySQLInstallerConsole.html)所需的所有文件，这是一个具有类似功能的命令行程序。
    | `C:\Program Files (x86)` |'
- en: '| `Templates` | The `Templates` folder has one file for each version of MySQL
    server. `Templates` files contain keys and formulas to calculate some values dynamically.
    | `C:\ProgramData\MySQL\MySQL installer for Windows\Manifest` |'
  id: totrans-128
  prefs: []
  type: TYPE_TB
  zh: '| `Templates` | `Templates`文件夹中有每个MySQL服务器版本的一个文件。`Templates`文件包含用于动态计算一些值的键和公式。
    | `C:\ProgramData\MySQL\MySQL installer for Windows\Manifest` |'
- en: '| `package-rules.xml` | This file contains the prerequisites for every product
    to be installed. | `C:\ProgramData\MySQL\MySQL installer for Windows\Manifest`
    |'
  id: totrans-129
  prefs: []
  type: TYPE_TB
  zh: '| `package-rules.xml` | 此文件包含要安装的每个产品的先决条件。 | `C:\ProgramData\MySQL\MySQL installer
    for Windows\Manifest` |'
- en: '| `produts.xml` | The `products` file (or product catalog) contains a list
    of all products available for download. | `C:\ProgramData\MySQL\MySQL installer
    for Windows\Manifest` |'
  id: totrans-130
  prefs: []
  type: TYPE_TB
  zh: '| `produts.xml` | `products`文件（或产品目录）包含可供下载的所有产品的列表。 | `C:\ProgramData\MySQL\MySQL
    installer for Windows\Manifest` |'
- en: '| `Product Cache` | The `Product Cache` folder contains all standalone `MSI`
    files bundled with the full package or downloaded afterward. | `C:\ProgramData\MySQL\MySQL
    installer for Windows` |'
  id: totrans-131
  prefs: []
  type: TYPE_TB
  zh: '| `Product Cache` | `Product Cache`文件夹包含与完整包或随后下载的所有独立`MSI`文件捆绑在一起。 | `C:\ProgramData\MySQL\MySQL
    installer for Windows` |'
- en: Reference: [https://dev.mysql.com/doc/refman/8.0/en/mysql-installer-setup.html](https://dev.mysql.com/doc/refman/8.0/en/mysql-installer-setup.html)
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 参考：[https://dev.mysql.com/doc/refman/8.0/en/mysql-installer-setup.html](https://dev.mysql.com/doc/refman/8.0/en/mysql-installer-setup.html)
- en: Installation workflow
  id: totrans-133
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装工作流程
- en: 'The MySQL installer follows a workflow for each product:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL安装程序遵循每个产品的工作流程：
- en: '**Product download**: The installer will download all the required product
    MSI files into the `Product Cache` folder.'
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**产品下载**：安装程序将所有必需的产品MSI文件下载到`Product Cache`文件夹中。'
- en: '**Product installation**: The installer manages the status of each product
    by Ready | Install | Installing | Complete.'
  id: totrans-136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**产品安装**：安装程序通过Ready | Install | Installing | Complete来管理每个产品的状态。'
- en: '**Product configuration**: This phase uses a step-by-step configuration process
    for products. The installer will change the status from Ready | Configure.'
  id: totrans-137
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**产品配置**：此阶段使用逐步配置过程来配置产品。安装程序将状态从Ready | Configure更改。'
- en: '**Installation complete**: This finalizes the installation and the user can
    start using the application after the installation.'
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**安装完成**：完成安装后，用户可以开始使用该应用程序。'
- en: InnoDB cluster sandbox test setup
  id: totrans-139
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: InnoDB集群沙盒测试设置
- en: 'There are two options available for high-availability implementation in MySQL
    8, using the installer:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 在MySQL 8中，使用安装程序有两种高可用性实现选项：
- en: '**Standalone MySQL server / Classic MySQL replication** (**default**): This
    option configures multiple servers manually or uses the latest version of MySQL
    Shell to configure the `InnoDB` cluster.'
  id: totrans-141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**独立的MySQL服务器/经典的MySQL复制**（**默认**）：此选项手动配置多个服务器，或使用最新版本的MySQL Shell配置`InnoDB`集群。'
- en: '**InnoDB cluster sandbox test setup** (**for testing only**): This is also
    known as the sandbox cluster. This option allows you to create an `InnoDB` cluster
    on the local system for testing only. The MySQL installer toolbar provides configurations
    for a number of instances in `InnoDB` clustering.'
  id: totrans-142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**InnoDB集群沙盒测试设置**（**仅用于测试**）：这也被称为沙盒集群。此选项允许您仅在本地系统上为测试目的创建`InnoDB`集群。MySQL安装程序工具栏提供了一些`InnoDB`集群中实例的配置。'
- en: Cluster nodes run on different ports. After configuration, click on the Summary
    tab to get the port details of each cluster.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 集群节点在不同的端口上运行。配置完成后，单击摘要选项卡以获取每个集群的端口详细信息。
- en: Server configuration
  id: totrans-144
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 服务器配置
- en: 'The MySQL installer performs some basic configurations for the MySQL 8 server,
    including:'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL安装程序执行一些基本配置，包括：
- en: The installer will create a `my.ini` configuration file for the MySQL 8 server.
    File contents will be decided as per the selected options of the installation
    process.
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装程序将为MySQL 8服务器创建一个`my.ini`配置文件。文件内容将根据安装过程中选择的选项确定。
- en: By default, the installer will add the Windows service for the MySQL 8 server.
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 默认情况下，安装程序将为MySQL 8服务器添加Windows服务。
- en: The required default installation and data paths of the MySQL 8 server will
    be provided by the installer.
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装程序将提供MySQL 8服务器的默认安装和数据路径。
- en: The installer will create some user accounts with roles and permissions for
    MySQL 8 server. It can create a Windows user with limited privileges to the MySQL
    8 server.
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装程序将为MySQL 8服务器创建一些带有角色和权限的用户帐户。它可以创建一个具有有限特权的Windows用户到MySQL 8服务器。
- en: Using Show Advanced Options,MySQL installer allows for defining custom paths
    for logging options. For example, you can configure the separate path for an error
    log, show a query log, and much more.
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用显示高级选项，MySQL安装程序允许定义日志选项的自定义路径。例如，您可以配置单独的错误日志路径，显示查询日志等。
- en: 'The following server configuration is required for MySQL 8:'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL 8需要以下服务器配置：
- en: '**Server configuration type**: Based on the server configuration type, system
    resources will be assigned to the MySQL 8 server.'
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**服务器配置类型**：根据服务器配置类型，系统资源将分配给MySQL 8服务器。'
- en: '**Development**: By considering the host as a personal workstation, it configures
    MySQL 8 to use the minimum amount of memory.'
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**开发**：通过将主机视为个人工作站，它配置MySQL 8以使用最少量的内存。'
- en: '**Server**: As servers, some other applications are also running on the machine,
    so it will configure a medium amount of memory.'
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**服务器**：作为服务器，机器上还运行着一些其他应用程序，因此它将配置中等数量的内存。'
- en: '**Dedicated**: In case of a dedicated machine for the MySQL 8 server, this
    option configures the maximum use of available memory for the MySQL 8 server.'
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**专用**：对于专用于MySQL 8服务器的专用机器，此选项配置了可用内存的最大使用。'
- en: '**Connectivity**: This option indicates the connection for the MySQL 8 server.
    The following options are available:'
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**连接性**：此选项指示与MySQL 8服务器的连接。以下选项可用：'
- en: '**TCP/IP**: This option enables TCP/IP connection with MySQL 8\. Users are
    allowed to define the port number along with the firewall setting for the port
    on the network access.'
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**TCP/IP**：此选项启用与MySQL 8的TCP/IP连接。用户可以定义端口号以及网络访问端口的防火墙设置。'
- en: '**Named pipe**: This option allows you to define the pipeline name for the
    connection.'
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**命名管道**：此选项允许您为连接定义管道名称。'
- en: '**Shared memory**: This allows you to define the memory name for the MySQL
    8 server.'
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**共享内存**：这允许您为MySQL 8服务器定义内存名称。'
- en: '**Advanced configuration**: This configuration enables additional logging features
    which will manage logs in individual files. Users are allowed to configure paths
    for individual files. For example, configuring a custom path for a binary log.'
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**高级配置**：此配置启用了额外的日志记录功能，将管理日志记录在单独的文件中。用户可以配置单独文件的路径。例如，配置二进制日志的自定义路径。'
- en: '**MySQL Enterprise Firewall**: This option is used for the Commercial Edition
    only. Check the **Enable Enterprise Firewall** option to enable the firewall.'
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**MySQL企业防火墙**：此选项仅适用于商业版。勾选**启用企业防火墙**选项以启用防火墙。'
- en: '**Accounts and roles:** Accounts and roles are used to manage access rights
    for the users. During the installation process, the MySQL installer allows you
    to set root account passwords and user accounts.'
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**帐户和角色**：帐户和角色用于管理用户的访问权限。在安装过程中，MySQL安装程序允许您设置根帐户密码和用户帐户。'
- en: '**Root account password**: It is required to enter root password during the
    installation process. The installer will check the password strength and give
    a warning if there is a violation of a predefined policy.'
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**根帐户密码**：在安装过程中需要输入根密码。安装程序将检查密码强度，并在违反预定义策略时发出警告。'
- en: '**MySQL user accounts**: This is an optional step where a new MySQL user account
    defines with existing user roles. Predefined roles have their own privileges.'
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**MySQL用户帐户**：这是一个可选步骤，其中定义了一个新的MySQL用户帐户，并具有现有用户角色。预定义角色有其自己的权限。'
- en: '**Windows service:**  The MySQL 8 service can be configured in the following
    two ways:'
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Windows服务**：MySQL 8服务可以以下两种方式进行配置：'
- en: '**Configure as a Window service**: This is the default option selected during
    the installation process. It further provides two options:'
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**配置为Windows服务**：这是安装过程中默认选择的选项。它进一步提供了两个选项：'
- en: '**Start service on system startup**: This option is selected by default and
    will start the MySQL 8 service automatically at system startup.'
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**系统启动时启动服务**：此选项默认选中，将在系统启动时自动启动MySQL 8服务。'
- en: '**Run Window service as**: This option allows attaching the user account with
    the MySQL 8 service. By default, the system account is selected where the service
    is considered as  network service. With a custom user, it first sets privileges
    for the user by using the “local security policy” in Microsoft Windows.'
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**作为Window服务运行**：此选项允许将用户帐户与MySQL 8服务关联。默认情况下选择系统帐户，其中服务被视为网络服务。使用自定义用户，首先使用Microsoft
    Windows中的“本地安全策略”为用户设置权限。'
- en: '**Configure as an executable program**: This deselects the Windows Service
    option during the installation process.'
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**配置为可执行程序**：在安装过程中取消选择Windows服务选项。'
- en: '**Plugins and extensions**: This step is available for a new installation.
    If the user wants to upgrade from an older MySQL version, then the user needs
    to choose the Reconfigure option in the MySQL installer.'
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**插件和扩展**：此步骤适用于新安装。如果用户希望从较旧的MySQL版本升级，则用户需要在MySQL安装程序中选择重新配置选项。'
- en: '**Advance options**: To enable this option, select the **Show advance configuration**
    check box in the **Type and Networking** step. This option enables the user to
    define a specific path for log files, such as an error log, a general log, a slow
    query log, and bin log.'
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**高级选项**：要启用此选项，请在**类型和网络**步骤中选中**显示高级配置**复选框。此选项允许用户定义特定路径的日志文件，例如错误日志、常规日志、慢查询日志和二进制日志。'
- en: '**Apply server configuration**: Once all the configuration has been done by
    the user in the MySQL installer, click on the Execute button to make it available.
    When the installation has been completed by pressing the Finish button, the MySQL
    installer and all the MySQL installed products are available in the Windows Start
    menu.'
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**应用服务器配置**：用户在MySQL安装程序中完成所有配置后，单击“执行”按钮使其可用。安装完成后，单击“完成”按钮，MySQL安装程序和所有已安装的MySQL产品将在Windows“开始”菜单中可用。'
- en: MySQL installer product catalog and dashboard
  id: totrans-173
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: MySQL安装程序产品目录和仪表板
- en: This section contains details on how the **MySQL installer** handles product
    catalogs and manages dashboards.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 本节包含有关**MySQL安装程序**如何处理产品目录和管理仪表板的详细信息。
- en: 'The **product catalog** is a component where a list of all the released MySQL
    products is available, which support Microsoft Windows. The MySQL installer updates
    the catalog on a daily basis and the option is also available for the manual update
    of the catalog. The product catalog performs the following actions to manage the
    list:'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: '**产品目录**是一个组件，其中包含所有发布的支持Microsoft Windows的MySQL产品列表。MySQL安装程序每天更新目录，并提供手动更新目录的选项。产品目录执行以下操作来管理列表：'
- en: Populate the available products list on a regular basis
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 定期更新可用产品列表
- en: Check for the product's update as installed in the host
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 检查在主机中安装的产品的更新
- en: The product catalog lists all the products that are available in the development,
    general, or any minor release.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 产品目录列出了所有开发、一般或任何次要版本中可用的产品。
- en: 'The **MySQL installer dashboard** provides the facility to manage MySQL products
    installation in the host workstation. The following are the ways to manage products
    using the dashboard:'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: '**MySQL安装程序仪表板**提供了在主机工作站中管理MySQL产品安装的功能。以下是使用仪表板管理产品的方法：'
- en: The MySQL installer provides a configuration to update the catalog at specific
    time intervals. The user can enable or disable automatic updates by the configuration.
    The dashboard shows a special icon at the product level when its new version is
    available.
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MySQL安装程序提供了一个配置，可以在特定时间间隔更新目录。用户可以通过配置启用或禁用自动更新。仪表板在产品级别显示一个特殊图标，表示其新版本已经可用。
- en: 'The user can manage products with the following actions:'
  id: totrans-181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户可以使用以下操作来管理产品：
- en: '**Add**: Use to download and install one or more products.'
  id: totrans-182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**添加**：用于下载和安装一个或多个产品。'
- en: '**Modify**: Use to add or remove features in installed products.'
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**修改**：用于在已安装产品中添加或删除功能。'
- en: '**Upgrade**: Use to upgrade products. Make sure the checkbox is selected at
    the product level for upgrading in the **upgradeable products** pane.'
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**升级**：用于升级产品。确保在**可升级产品**窗格中产品级别的复选框被选中。'
- en: '**Remove**: Use to uninstall products from the populated list.'
  id: totrans-185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**删除**：用于从已填充列表中卸载产品。'
- en: The dashboard provides the reconfiguration feature, where the user can change
    already configured options and values. After applying changes, the MySQL installer
    will stop the MySQL 8 server and restart it again to make them available.
  id: totrans-186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 仪表板提供了重新配置功能，用户可以更改已配置的选项和值。应用更改后，MySQL安装程序将停止MySQL 8服务器，然后重新启动以使更改生效。
- en: The dashboard provides the facility to download the products catalog without
    upgrading it. The **Do not update at this time** checkbox is available to check
    current changes related to products without downloading. To perform this functionality,
    select the checkbox and click on the **catalog** link.
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 仪表板提供了下载产品目录而不进行升级的功能。**此时不更新**复选框可用于在不下载的情况下检查与产品相关的当前更改。要执行此功能，请选择复选框，然后单击**目录**链接。
- en: MySQL installer console
  id: totrans-188
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: MySQL安装程序控制台
- en: The MySQL installer includes the `**M**ySQLinstallerConsole.exe` file, which
    provides the functionality to execute commands using Command Prompt. This functionality
    is installed by default during the initial installation of the MySQL installer.
    There are some commands available to manage MySQL products. To see the details
    of these commands, execute the `help` command.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL安装程序包括`**M**ySQLinstallerConsole.exe`文件，它提供了使用命令提示符执行命令的功能。这个功能在安装MySQL安装程序时默认安装。有一些命令可用于管理MySQL产品。要查看这些命令的详细信息，请执行`help`命令。
- en: MySQL 8 installation using a ZIP file
  id: totrans-190
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用ZIP文件安装MySQL 8
- en: 'To install MySQL 8 using a ZIP archive, perform the following steps:'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用ZIP存档安装MySQL 8，请执行以下步骤：
- en: '**Extract install archive**: In this step, select a specific directory for
    the extraction of the installed MySQL 8 archive. Microsoft Windows by default
    installs it into the `c:\mysql` location. At the time of the installation process,
    make sure the logged in user has administrative rights.'
  id: totrans-192
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**提取安装存档**：在此步骤中，选择一个特定目录来提取已安装的MySQL 8存档。Microsoft Windows默认将其安装到`c:\mysql`位置。在安装过程中，请确保登录用户具有管理员权限。'
- en: Make sure no MySQL service is running during the installation of MySQL as a
    Window service.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 确保在安装MySQL作为Windows服务时没有运行任何MySQL服务。
- en: During the command execution type -- install first and then specify --default
    –file option; otherwise, the `mysqld.exe` file will start the MySQL 8 server.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 在执行命令时，首先输入-- install，然后指定--default –file选项；否则，`mysqld.exe`文件将启动MySQL 8服务器。
- en: '**Create option file**:  The option file is the place where the user can configure
    commands related to MySQL 8\. This file is referred to by MySQL 8 on every server
    startup. In Microsoft Windows, when the MySQL 8 server starts, it searches for
    an option file in the Windows directory and in the MySQL 8 base directory. Mainly
    `my.ini` and `my.cnf` files are used as option files and they are in plain text
    form.'
  id: totrans-195
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**创建选项文件**：选项文件是用户可以配置与MySQL 8相关命令的地方。MySQL 8在每次服务器启动时都会引用这个文件。在Microsoft Windows中，当MySQL
    8服务器启动时，它会在Windows目录和MySQL 8基本目录中搜索选项文件。主要使用`my.ini`和`my.cnf`文件作为选项文件，它们是以纯文本形式存在的。'
- en: 'With the Windows operating system:'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 使用Windows操作系统：
- en: To get `Windows` directory, refer to the `WINDIR` environment variable.
  id: totrans-197
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要获取`Windows`目录，请参考`WINDIR`环境变量。
- en: '`my.ini` is available at the default location of MySQL server installation.'
  id: totrans-198
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`my.ini`位于MySQL服务器安装的默认位置。'
- en: Path names in options file are specified using forward slashes rather than backslashes.
    If you want to use backslashes then double them.
  id: totrans-199
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选项文件中的路径名使用正斜杠而不是反斜杠指定。如果要使用反斜杠，则需要双反斜杠。
- en: 'As mentioned, the option file is the same as a normal text file; the user can
    modify it using any text editor. Consider an example where the MySQL 8 installation
    directory and data directory are at different locations. In this case, the  user
    must mention the location of both the directories in the options file under the `mysqld`
    section:'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，选项文件与普通文本文件相同；用户可以使用任何文本编辑器修改它。考虑一个例子，MySQL 8安装目录和数据目录位于不同位置。在这种情况下，用户必须在`mysqld`部分的选项文件中提及两个目录的位置：
- en: '[PRE3]'
  id: totrans-201
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Remember, a ZIP archive does not initialize data directory. To initialize data
    directory and populate tables in the MySQL 8 system database, the user has to
    execute the `initialize` command. This process will be covered in the later section
    on post-installation.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，ZIP存档不会初始化数据目录。要初始化数据目录并在MySQL 8系统数据库中填充表，用户必须执行`initialize`命令。这个过程将在后面的后安装部分中介绍。
- en: '**Select server type**: The following two servers are available for Microsoft
    Windows in MySQL 8:'
  id: totrans-203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**选择服务器类型**：在MySQL 8中，为Microsoft Windows提供了以下两种服务器：'
- en: '| **Binary** | **Description** |'
  id: totrans-204
  prefs: []
  type: TYPE_TB
  zh: '| **二进制** | **描述** |'
- en: '| [**mysqld**](https://dev.mysql.com/doc/refman/8.0/en/mysqld.html) | Optimized
    binary with named-pipe support |'
  id: totrans-205
  prefs: []
  type: TYPE_TB
  zh: '| [**mysqld**](https://dev.mysql.com/doc/refman/8.0/en/mysqld.html) | 带有命名管道支持的优化二进制文件
    |'
- en: '| [**mysqld-debug**](https://dev.mysql.com/doc/refman/8.0/en/mysqld.html) |
    Like [mysqld](https://dev.mysql.com/doc/refman/8.0/en/mysqld.html), but compiled
    with full debugging and automatic memory allocation checking |'
  id: totrans-206
  prefs: []
  type: TYPE_TB
  zh: '| [**mysqld-debug**](https://dev.mysql.com/doc/refman/8.0/en/mysqld.html) |
    类似于[mysqld](https://dev.mysql.com/doc/refman/8.0/en/mysqld.html)，但是编译时带有完整的调试和自动内存分配检查
    |'
- en: 'MySQL 8 supports TCP/IP on all Microsoft Windows platforms with pipes. But
    the default option is in normal mode because the pipes option has a performance
    impact. It slows down the overall performance. You can learn more about this at:
    [https://dev.mysql.com/doc/refman/8.0/en/windows-select-server.html](https://dev.mysql.com/doc/refman/8.0/en/windows-select-server.html).'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL 8在所有Microsoft Windows平台上都支持TCP/IP和管道。但默认选项是正常模式，因为管道选项会影响性能。它会减慢整体性能。您可以在此处了解更多信息：[https://dev.mysql.com/doc/refman/8.0/en/windows-select-server.html](https://dev.mysql.com/doc/refman/8.0/en/windows-select-server.html)。
- en: '**Start MySQL 8 server**: This step describes how to start the MySQL 8 server
    for the first time. It can be started using the command line or as a Windows service.
    To start it using the command line, execute the following command. Assume that
    MySQL 8 is installed under the `E:\MySQL\MySQL Server 8` folder:'
  id: totrans-208
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**启动MySQL 8服务器**：此步骤描述了如何首次启动MySQL 8服务器。可以使用命令行或作为Windows服务启动。要使用命令行启动它，请执行以下命令。假设MySQL
    8安装在`E:\MySQL\MySQL Server 8`文件夹下：'
- en: '[PRE4]'
  id: totrans-209
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'After the execution of the preceding command, the user can see a list of messages
    that help the user to identify an error if one exists. The last two lines in Command
    Prompt are displayed as follows. They indicate that the MySQL 8 service has started
    and is ready for the server-client request:'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 在执行上述命令后，用户可以看到一系列消息，帮助用户识别错误（如果存在）。命令提示符中的最后两行显示如下。它们表明MySQL 8服务已启动，并准备好接受服务器-客户端请求：
- en: '[PRE5]'
  id: totrans-211
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'The user can omit the console for error logs because MySQL 8 is maintaining
    logs in separate log files under a data directory with the `.err` extension. When
    starting the MySQL 8 server, the user has to execute same command each time, using
    Command Prompt. To stop the MySQL 8 server, execute the following command:'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 用户可以省略控制台以获取错误日志，因为MySQL 8会在数据目录下的单独日志文件中维护日志，扩展名为`.err`。启动MySQL 8服务器时，用户必须每次使用命令提示符执行相同的命令。要停止MySQL
    8服务器，请执行以下命令：
- en: '[PRE6]'
  id: totrans-213
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Initially, when MySQL 8 is installed, the root account password is not set.
    After first starting the MySQL 8 server, the user has to set it manually. Steps
    to set the password are described in detail under the post-installation section.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 最初安装MySQL 8时，根帐户密码未设置。首次启动MySQL 8服务器后，用户必须手动设置密码。设置密码的步骤在后续安装后的部分中有详细描述。
- en: The path of `mysqld` and `mysqladmin` may vary depending on the installation
    location of MySQL 8\. If the password was set on the root user of the MySQL 8
    server then execute the command with the -p option and provide a password for
    successful execution.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: '`mysqld`和`mysqladmin`的路径可能会根据MySQL 8的安装位置而有所不同。如果在MySQL 8服务器的根用户上设置了密码，则使用-p选项执行命令并提供密码以成功执行。'
- en: 'Set the environment variable for MySQL 8\. As mentioned in the preceding section,
    we have written the command with the complete path of the MySQL 8 server installation.
    To simplify this command, we have to define the environment variable for MySQL
    8 in Microsoft Windows by performing the following steps (in Windows 10):'
  id: totrans-216
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 设置MySQL 8的环境变量。如前所述，我们已经用MySQL 8服务器安装的完整路径编写了命令。为了简化这个命令，在Windows 10中，我们必须通过以下步骤定义MySQL
    8的环境变量：
- en: 'Right click on **My Compute** and select **Properties**:'
  id: totrans-217
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击**我的电脑**，选择**属性**。
- en: Click on Advance system settings.
  id: totrans-218
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“高级系统设置”。
- en: Click on the Environment Variables button available at the right bottom side.
  id: totrans-219
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击右下方的“环境变量”按钮。
- en: Go to System Variables section and find the PATH variable.
  id: totrans-220
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到“系统变量”部分，找到“PATH”变量。
- en: Select the PATH variable and click on the Edit button.
  id: totrans-221
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择“PATH”变量，点击“编辑”按钮。
- en: A new dialog box opens; click on the New button and enter the path of the MySQL
    8 server installation up to the `bin` file location. For example, `E:\MySQL\MySQL
    Server 8\bin`
  id: totrans-222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一个新的对话框打开；点击“新建”按钮，输入MySQL 8服务器安装的路径，直到`bin`文件位置。例如，`E:\MySQL\MySQL Server 8\bin`
- en: Press the OK button in all the related dialog boxes to apply this change in
    Windows.
  id: totrans-223
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Windows中按下所有相关对话框中的“确定”按钮以应用此更改。
- en: After applying the environment variable, the user is able to execute any MySQL
    command in Command Prompt without giving the complete path of MySQL 8.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 应用环境变量后，用户可以在命令提示符中执行任何MySQL命令，而无需提供MySQL 8的完整路径。
- en: '**Start MySQL 8 as a Windows service**: It is recommended to use MySQL 8 as
    a Windows service because it will start when Windows starts and stop when Windows
    stops. There is no need to start the MySQL 8 service explicitly in this case.
    Use the Microsoft Windows services utility to manage the MySQL 8 service. To install
    the MySQL server as a service, use the following command:'
  id: totrans-225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**将MySQL 8作为Windows服务启动**：建议将MySQL 8作为Windows服务使用，因为它将在Windows启动时启动，并在Windows停止时停止。在这种情况下，无需显式启动MySQL
    8服务。使用Microsoft Windows服务实用程序来管理MySQL 8服务。要将MySQL服务器安装为服务，请使用以下命令：'
- en: '[PRE7]'
  id: totrans-226
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'This command has the following options for additional arguments:'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 此命令有以下选项用于附加参数：
- en: If we are not defining a service name, then the command will consider the default
    service as **MySQL**.
  id: totrans-228
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果我们没有定义服务名称，那么该命令将考虑默认服务为**MySQL**。
- en: Use the `-- default -file`argument to specify the option file name, which contains
    the service name
  id: totrans-229
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`-- default -file`参数来指定包含服务名称的选项文件名
- en: The user can also use the `--local-service` option followed by the service name
  id: totrans-230
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户还可以使用`--local-service`选项，后面跟着服务名称
- en: 'Use the following command to set the MySQL service as a Window service and
    refer to the file `my-opts.conf` as the option file to refer to the MySQL 8 configuration:'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 使用以下命令将MySQL服务设置为Windows服务，并引用文件`my-opts.conf`作为MySQL 8配置的选项文件：
- en: '[PRE8]'
  id: totrans-232
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'So far, we have discussed the MySQL 8 service as a Windows service but there
    is a command available with the `--install-manual` option to start MySQL 8 without
    the Windows service. To remove the MySQL 8 service, use the `--remove` command,
    as follows:'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经讨论了MySQL 8服务作为Windows服务，但是还有一个带有`--install-manual`选项的命令可用于启动MySQL
    8而不使用Windows服务。要删除MySQL 8服务，请使用`--remove`命令，如下所示：
- en: '[PRE9]'
  id: totrans-234
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Installing MySQL 8 on Linux
  id: totrans-235
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在Linux上安装MySQL 8
- en: 'For MySQL 8 installation on Linux, various solutions are available. The user
    can choose any of the distributions for his requirement. Th following are the
    different distributions and among them, three of which are described in detail:'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 对于Linux上的MySQL 8安装，有各种解决方案可用。用户可以根据自己的需求选择任何发行版。以下是不同的发行版，其中有三种进行了详细描述：
- en: Installation using the `Yum` repository
  id: totrans-237
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`Yum`仓库进行安装
- en: Installation using the `APT` repository
  id: totrans-238
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`APT`仓库进行安装
- en: Installation using the `SLES` repository
  id: totrans-239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`SLES`仓库进行安装
- en: Installation using the `RPM` package
  id: totrans-240
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`RPM`软件包进行安装
- en: Installation using the `Debian` package
  id: totrans-241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`Debian`软件包进行安装
- en: Installation using Docker
  id: totrans-242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用Docker进行安装
- en: Installation using the Native Software repository
  id: totrans-243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用本地软件仓库进行安装
- en: Installation using Juju
  id: totrans-244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用Juju进行安装
- en: Installation using the Yum repository
  id: totrans-245
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Yum仓库进行安装
- en: 'Perform the following steps to install MySQL 8 using the `Yum` repository:'
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: '执行以下步骤以使用`Yum`仓库安装MySQL 8:'
- en: Download the `Yum` repository from the [http://dev.mysql.com/downloads/repo/yum/](http://dev.mysql.com/downloads/repo/yum/)
    link.
  id: totrans-247
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从[http://dev.mysql.com/downloads/repo/yum/](http://dev.mysql.com/downloads/repo/yum/)链接下载`Yum`仓库。
- en: Select the MySQL package for your installation.
  id: totrans-248
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择适合您安装的MySQL软件包。
- en: 'Execute the installation command to add the MySQL `Yum` repository into your
    `local` repository:'
  id: totrans-249
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 执行安装命令将MySQL `Yum`仓库添加到您的`local`仓库中：
- en: '[PRE10]'
  id: totrans-250
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Replace `package_name` with the actual name of the RPM package. After installation,
    execute the second command to check whether the `Yum` repository has properly
    installed.
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 用实际的RPM软件包名称替换`package_name`。安装后，执行第二个命令以检查`Yum`仓库是否已正确安装。
- en: '**Select Release Series**: The MySQL Yum repository contains various series
    of releases for the installation. Execute the following command to check the list
    of the available series:'
  id: totrans-252
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**选择发布系列**：MySQL Yum仓库包含各种发布系列供安装。执行以下命令以检查可用系列的列表：'
- en: '[PRE11]'
  id: totrans-253
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'In the MySQL Yum repository, the latest GA series was enabled by default for
    installation but apart from that other development series are also available in
    the disabled state. For the development series installation, execute the following
    two commands to disable the GA release and to enable the require development series:'
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 在MySQL Yum仓库中，默认情况下启用了最新的GA系列进行安装，但除此之外，其他开发系列也以禁用状态可用。对于开发系列的安装，请执行以下两个命令以禁用GA发布并启用所需的开发系列：
- en: '[PRE12]'
  id: totrans-255
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Another way of defining the release series is using the manual entry in the
    repository file. For example, add following entry into the`/etc/yum.repos.d/mysql-community.repo`
    file:'
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 定义发布系列的另一种方式是在仓库文件中使用手动条目。例如，将以下条目添加到`/etc/yum.repos.d/mysql-community.repo`文件中：
- en: '[PRE13]'
  id: totrans-257
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'Here, `enabled=1` means enable this series and `enabled=0` means disable this
    series. Yum allows only one enabled sub-repository for one release at a time;
    if multiple release series are enabled then only the latest series will be selected
    by the Yum repository. After saving the changes in the configuration file, execute
    the following command to check that the correct sub-repositories have been selected
    or not:'
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，`enabled=1`表示启用此系列，`enabled=0`表示禁用此系列。Yum一次只允许一个启用的子仓库用于一个发布；如果启用了多个发布系列，则Yum仓库将只选择最新的系列。在保存配置文件中的更改后，执行以下命令以检查是否已选择正确的子仓库：
- en: '[PRE14]'
  id: totrans-259
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: '**Installation of MySQL 8**: Execute the following command:'
  id: totrans-260
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**安装MySQL 8**：执行以下命令：'
- en: '[PRE15]'
  id: totrans-261
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: It will install the MySQL 8 server with all its dependencies, such as the client,
    the character sets for client, and the required libraries.
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 它将安装带有所有依赖项的MySQL 8服务器，例如客户端、客户端的字符集和所需的库。
- en: '**Start MySQL 8 server**: The first command will start the MySQL service and
    the second command shows the current status of the MySQL service:'
  id: totrans-263
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**启动MySQL 8服务器**：第一个命令将启动MySQL服务，第二个命令显示MySQL服务的当前状态：'
- en: '[PRE16]'
  id: totrans-264
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'During the initial startup, the following tasks are performed:'
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 在初始启动期间，执行以下任务：
- en: The server is initialized
  id: totrans-266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 服务器已初始化
- en: The SSL certificate and key files are generated in the data directory
  id: totrans-267
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SSL证书和密钥文件在数据目录中生成
- en: The plugins name`validate_password_plugin` is installed and enabled
  id: totrans-268
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 插件名称`validate_password_plugin`已安装并已启用
- en: A super account is created
  id: totrans-269
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建了一个超级账户
- en: Installation using the RPM package
  id: totrans-270
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用RPM软件包进行安装
- en: 'RPM packages are available from the Yum repository and SLES repository for
    MySQL 8\. It is the recommended way of installation for MySQL 8\. RPM packages
    follow the `packagename-version-distribution-arch.rpm` syntax, where distribution
    and arch indicate the Linux distribution and processor respectively. The `RPM`
    package is a bundle of all the required packages and they are dependent on one
    another. The RPM package follows the same steps as discussed in the Yum repository
    installation. In the RPM-based system, the MySQL service is not automatically
    started. To start it manually, execute the following command:'
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: RPM软件包可从Yum仓库和SLES仓库获取，用于MySQL 8。这是MySQL 8安装的推荐方式。RPM软件包遵循`packagename-version-distribution-arch.rpm`的语法，其中distribution和arch分别表示Linux发行版和处理器。`RPM`软件包是所有必需软件包的捆绑包，它们彼此依赖。RPM软件包遵循与Yum仓库安装中讨论的相同步骤。在基于RPM的系统中，MySQL服务不会自动启动。要手动启动它，请执行以下命令：
- en: '[PRE17]'
  id: totrans-272
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'As with other installations, the RPM package installation also creates files
    and directories in the system on following path :'
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 与其他安装一样，RPM软件包安装还会在系统上创建文件和目录，路径如下：
- en: '| **Files or Resources** | **Location** |'
  id: totrans-274
  prefs: []
  type: TYPE_TB
  zh: '|**文件或资源**|**位置**|'
- en: '| Client programs and scripts | `/usr/bin` |'
  id: totrans-275
  prefs: []
  type: TYPE_TB
  zh: '|客户端程序和脚本|`/usr/bin`|'
- en: '| [**mysqld**](https://dev.mysql.com/doc/refman/8.0/en/mysqld.html) server
    | `/usr/sbin` |'
  id: totrans-276
  prefs: []
  type: TYPE_TB
  zh: '- [**mysqld**](https://dev.mysql.com/doc/refman/8.0/en/mysqld.html) 服务器 | `/usr/sbin`'
- en: '| Configuration file | `/etc/my.cnf` |'
  id: totrans-277
  prefs: []
  type: TYPE_TB
  zh: '- 配置文件 | `/etc/my.cnf`'
- en: '| Data directory | `/var/lib/mysql` |'
  id: totrans-278
  prefs: []
  type: TYPE_TB
  zh: '- 数据目录 | `/var/lib/mysql`'
- en: '| Error log file | For RHEL, Oracle Linux, CentOS, or Fedora platforms:`/var/log/mysqld.log` For
    SLES: `/var/log/mysql/mysqld.log` |'
  id: totrans-279
  prefs: []
  type: TYPE_TB
  zh: '- 错误日志文件 | 对于 RHEL、Oracle Linux、CentOS 或 Fedora 平台：`/var/log/mysqld.log` 对于
    SLES：`/var/log/mysql/mysqld.log`'
- en: '| Value of [secure_file_priv](https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_secure_file_priv)
    | `/var/lib/mysql-files` |'
  id: totrans-280
  prefs: []
  type: TYPE_TB
  zh: '- [secure_file_priv](https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_secure_file_priv)
    的值 | `/var/lib/mysql-files`'
- en: '| System V `init` script | For RHEL, Oracle Linux, CentOS, or Fedora platforms:`/etc/init.d/mysqld`
    For SLES: `/etc/init.d/mysql` |'
  id: totrans-281
  prefs: []
  type: TYPE_TB
  zh: '- System V `init` 脚本 | 对于 RHEL、Oracle Linux、CentOS 或 Fedora 平台：`/etc/init.d/mysqld`
    对于 SLES：`/etc/init.d/mysql`'
- en: '| Systemd service | For RHEL, Oracle Linux, CentOS, or Fedora platforms: `mysqld`
    For SLES: `mysql` |'
  id: totrans-282
  prefs: []
  type: TYPE_TB
  zh: '- Systemd 服务 | 对于 RHEL、Oracle Linux、CentOS 或 Fedora 平台：`mysqld` 对于 SLES：`mysql`'
- en: '| Pid file | `/var/run/mysql/mysqld.pid` |'
  id: totrans-283
  prefs: []
  type: TYPE_TB
  zh: '- Pid 文件 | `/var/run/mysql/mysqld.pid`'
- en: '| `Socket` | `/var/lib/mysql/mysql.sock` |'
  id: totrans-284
  prefs: []
  type: TYPE_TB
  zh: '- `Socket` | `/var/lib/mysql/mysql.sock`'
- en: '| Keyring directory | `/var/lib/mysql-keyring` |'
  id: totrans-285
  prefs: []
  type: TYPE_TB
  zh: '- 密钥环目录 | `/var/lib/mysql-keyring`'
- en: '| Unix manual pages | `/usr/share/man` |'
  id: totrans-286
  prefs: []
  type: TYPE_TB
  zh: '- Unix 手册页 | `/usr/share/man`'
- en: '| Include (`header`) files | `/usr/include/mysql` |'
  id: totrans-287
  prefs: []
  type: TYPE_TB
  zh: '- 包括（`header`）文件 | `/usr/include/mysql`'
- en: '| Libraries | `/usr/lib/mysql` |'
  id: totrans-288
  prefs: []
  type: TYPE_TB
  zh: '- 库 | `/usr/lib/mysql`'
- en: '| Miscellaneous support files (for example, error messages, and character set
    files) | `/usr/share/mysql` |'
  id: totrans-289
  prefs: []
  type: TYPE_TB
  zh: '- 其他支持文件（例如错误消息和字符集文件） | `/usr/share/mysql`'
- en: Installation using the Debian package
  id: totrans-290
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 Debian 包进行安装
- en: '`Debian` packages are available for the MySQL APT repository or from the MySQL
    Developer Zone''s download area. Each MySQL component has its own `Debian` package
    for the installation but a tarball bundle is prepared to combine different `Debian`
    packages into a single bundle. The tarball naming convention is `mysql-server_MVER-DVER_CPU.deb-bundle.tar,` where
    `MVER` represents the MySQL version, `DVER` indicates the Linux distribution version,
    and CPU indicates the processor. To install MySQL 8 using the `Debian` package,
    perform the following steps:'
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL APT 仓库或 MySQL Developer Zone 的下载区域提供了 `Debian` 包。每个 MySQL 组件都有自己的 `Debian`
    包进行安装，但也准备了一个 tarball 捆绑包，将不同的 `Debian` 包组合成一个单独的捆绑包。tarball 命名约定为 `mysql-server_MVER-DVER_CPU.deb-bundle.tar`，其中
    `MVER` 表示 MySQL 版本，`DVER` 表示 Linux 发行版版本，CPU 表示处理器。要使用 `Debian` 包安装 MySQL 8，请执行以下步骤：
- en: Download the required tar package from the MySQL site.
  id: totrans-292
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从 MySQL 站点下载所需的 tar 包。
- en: 'Unpack the package with the following command:'
  id: totrans-293
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令解压包：
- en: '[PRE18]'
  id: totrans-294
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'The `Libaio1` library may be required, so execute the command for the library
    installation:'
  id: totrans-295
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 可能需要 `Libaio1` 库，因此执行库安装命令：
- en: '[PRE19]'
  id: totrans-296
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'Execute the command for the pre-configuration of the MySQL server:'
  id: totrans-297
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 执行以下命令对 MySQL 服务器进行预配置：
- en: '[PRE20]'
  id: totrans-298
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: This is the process implemented before installation, which applies on the set
    of `Debian` packages and other packages that use `debconf` with their config script
    to examine the system. During this process, the system will ask for the root user
    password of the MySQL 8 installation.
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: 这是在安装前实施的进程，适用于一组 `Debian` 包和其他使用 `debconf` 的配置脚本来检查系统的包。在此过程中，系统将要求输入 MySQL
    8 安装的 root 用户密码。
- en: 'Install the dependencies required for the MySQL 8 installation:'
  id: totrans-300
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装 MySQL 8 所需的依赖项：
- en: '[PRE21]'
  id: totrans-301
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'The MySQL 8 configuration files are available under the following path in the `Debian` package:'
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL 8 配置文件在 `Debian` 包中的以下路径下可用：
- en: Configuration files are stored under `/etc/mysql`
  id: totrans-303
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 配置文件存储在 `/etc/mysql` 下
- en: The data directory is stored under `/var/lib/mysql`
  id: totrans-304
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据目录存储在 `/var/lib/mysql` 下
- en: Binaries, libraries, and headers are stored under `/user/bin` and under `user/sbin`
  id: totrans-305
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 二进制文件、库和头文件存储在 `/user/bin` 和 `user/sbin` 下
- en: Post-installation setup for MySQL 8
  id: totrans-306
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: MySQL 8 的后安装设置
- en: Post-installation is a process that describes the basic steps or configuration
    that the user has to perform after MySQL 8 installation.
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: 后安装是描述用户在 MySQL 8 安装后必须执行的基本步骤或配置的过程。
- en: Data directory initialization
  id: totrans-308
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 数据目录初始化
- en: 'In previous sections, we have seen different methods of MySQL 8 installation.
    Some of the methods will automatically create a data directory for MySQL 8\. For
    generic binary distribution and source distribution, data directory creation is
    a must. Data directory initialization is performed by either of the following
    two commands:'
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的部分中，我们已经看到了 MySQL 8 安装的不同方法。其中一些方法将自动为 MySQL 8 创建数据目录。对于通用二进制分发和源分发，必须创建数据目录。数据目录初始化可以通过以下两个命令之一执行：
- en: '[PRE22]'
  id: totrans-310
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: Either of these commands can be chosen based on the user's requirements to generate
    a random initial password or not. These two commands can be used by the user,
    regardless of the platform for the data directory initialization. Initializing
    is a way in which random initial root passwords will be generated. In the case
    of `initialize-insecure`, no password will be generated.
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: 可以根据用户的需求选择这两个命令中的任何一个来生成一个随机的初始密码。无论数据目录初始化的平台如何，用户都可以使用这两个命令。初始化是一种生成随机初始
    root 密码的方法。在 `initialize-insecure` 的情况下，不会生成密码。
- en: 'Another option is to specify the installation directory and data directory
    by using command line arguments, as shown in the following command:'
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个选项是使用命令行参数指定安装目录和数据目录，如下命令所示：
- en: '[PRE23]'
  id: totrans-313
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'The user can also specify these directories in a separate file, known as the
    `Option` file, under the `mysqld` parameter. This configuration is described in
    detail under the `Option` file section in this chapter. When the user executes
    either of the commands, `mysqld` performs the following steps in the execution:'
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 用户还可以在名为 `Option` 文件的单独文件中指定这些目录，该文件位于 `mysqld` 参数下。此配置在本章的 `Option` 文件部分中有详细描述。当用户执行这两个命令中的任何一个时，`mysqld`
    将执行以下步骤：
- en: It checks the existence of the data directory
  id: totrans-315
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 它检查数据目录的存在
- en: The MySQL 8 server creates a system database and its table, grant tables, help
    tables, and time zone tables
  id: totrans-316
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: MySQL 8服务器将创建系统数据库及其表、授予表、帮助表和时区表
- en: It initializes a system tablespace with data structure for `InnoDB` tables
  id: totrans-317
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 它使用`InnoDB`表的数据结构初始化系统表空间
- en: The `root@localhost`superuser account and other reserved accounts will be created
  id: totrans-318
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将创建`root@localhost`超级用户账户和其他保留账户
- en: Securing the initial MySQL account
  id: totrans-319
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 保护初始的MySQL账户
- en: 'This section explains how to assign a password to the root account during the
    first execution of the MySQL 8 server on the workstation. When the user installs
    MySQL 8 using the installer in Windows or using the `Debian` package in Linux,
    the installation process provides the option to enter a password and assign that
    password to the root account by itself. But with the `RPM` package, the random
    password is generated for the root account which is written into the server log
    file during the installation process. The initial root account may or may not
    have a password. To assign a password at the initial stage, use either of the
    following procedures:'
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: 本节解释了在工作站上首次执行MySQL 8服务器时如何为root账户分配密码。当用户在Windows中使用安装程序或在Linux中使用`Debian`软件包安装MySQL
    8时，安装过程提供了输入密码并将该密码分配给root账户的选项。但是使用`RPM`软件包时，将为root账户生成随机密码，该密码在安装过程中写入服务器日志文件。初始root账户可能有也可能没有密码。要在初始阶段分配密码，请使用以下任一程序：
- en: 'If the root account has a random password:'
  id: totrans-321
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果root账户有随机密码：
- en: Look in the server log files to get an auto-generated password.
  id: totrans-322
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查看服务器日志文件以获取自动生成的密码。
- en: 'Connect to the MySQL 8 server with the auto-generated password by executing
    the following command:'
  id: totrans-323
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过执行以下命令连接到MySQL 8服务器，使用自动生成的密码：
- en: '[PRE24]'
  id: totrans-324
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'Set the new password for the `root` account:'
  id: totrans-325
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为`root`账户设置新密码：
- en: '[PRE25]'
  id: totrans-326
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'If the root account has no password:'
  id: totrans-327
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果root账户没有密码：
- en: 'Connect with the MySQL 8 server without a password:'
  id: totrans-328
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 无需密码连接到MySQL 8服务器：
- en: '[PRE26]'
  id: totrans-329
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: '2. Set the new password for the `root` account:'
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: 2. 为`root`账户设置新密码：
- en: '[PRE27]'
  id: totrans-331
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: After assigning the new password, you have to use the new password whenever
    you want to connect with MySQL 8.
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: 分配新密码后，每当您想要连接到MySQL 8时，都必须使用新密码。
- en: Starting and troubleshooting MySQL 8 services
  id: totrans-333
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: MySQL 8服务的启动和故障排除
- en: 'This section explains how to start the MySQL 8 server and how to troubleshoot
    problems during the start process. After successful installation of the MySQL
    8 server on the Linux system, execute the following command to start the MySQL
    8 service:'
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 本节解释了如何启动MySQL 8服务器以及如何在启动过程中解决问题。在Linux系统上成功安装MySQL 8服务器后，执行以下命令启动MySQL 8服务：
- en: '[PRE28]'
  id: totrans-335
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'To check in detail whether the service has started or not refer to the log
    file. You can use the status command to check the status of the MySQL 8 service:'
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: 要详细检查服务是否已启动，请参考日志文件。您可以使用status命令来检查MySQL 8服务的状态：
- en: '[PRE29]'
  id: totrans-337
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'After getting a message of the service starting/running, you can connect with
    MySQL 8 by using the following command:'
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: 在收到服务启动/运行消息后，您可以使用以下命令连接到MySQL 8：
- en: '[PRE30]'
  id: totrans-339
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'The preceding command prompts for the password, so enter the password and press
    the *Enter* key. The MySQL prompt will be displayed where you can enter `mysql`
    commands for execution. During the execution of the preceding commands, some common
    problems may arrive, so here we will present the following troubleshooting suggestions:'
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: 上述命令会提示输入密码，因此输入密码并按下*Enter*键。MySQL提示将显示在那里，您可以输入`mysql`命令进行执行。在执行上述命令时，可能会出现一些常见问题，因此在这里我们将提出以下故障排除建议：
- en: Check into the `log` files to find the exact error that occurred during the
    service startup. As mentioned in the previous section, the `error` file and `log`
    files are located under the data directory. Its naming conventions are `host_name.err`
    and `host_name.log`. By reading the last few lines of the file, you can identify
    the problem that occurred during the last command executed.
  id: totrans-341
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查看`log`文件以找到服务启动期间发生的确切错误。如前一节所述，`error`文件和`log`文件位于数据目录下。它们的命名约定为`host_name.err`和`host_name.log`。通过阅读文件的最后几行，您可以确定在上次执行的命令期间发生的问题。
- en: 'Check that the required port/socket is available.The following errors will
    indicate that the required ports and sockets are not available for use, meaning
    that they are in use with other programs. To identify this, track all the problems
    by disabling the service. Another reason is your firewall settings are blocking
    the access of the required port, so modify the firewall setting and give permission
    to the required ports:'
  id: totrans-342
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 检查所需的端口/套接字是否可用。以下错误将表明所需的端口和套接字不可用，意味着它们正在被其他程序使用。要识别这一点，通过禁用服务来跟踪所有问题。另一个原因是防火墙设置阻止了对所需端口的访问，因此修改防火墙设置并允许对所需端口的访问：
- en: '**Can''t start server**: Bind on the TCP/IP port: the address is already in
    use'
  id: totrans-343
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**无法启动服务器**：在TCP/IP端口上绑定：地址已在使用中'
- en: '**Can''t start server**: Bind on the Unix socket'
  id: totrans-344
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**无法启动服务器**：在Unix套接字上绑定'
- en: Defining the specific parameters into the `Option` file is recommended. If the
    parameters are not define into the file then MySQL 8 will consider the default
    parameters, so refer to all the available parameters provided by MySQL 8 before
    using it.
  id: totrans-345
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 建议将特定参数定义到`Option`文件中。如果参数未定义到文件中，则MySQL 8将考虑默认参数，因此在使用之前，请参考MySQL 8提供的所有可用参数。
- en: Verify that the `data` directory path and permission are properly defined or
    not. This directory is used as the current directory for MySQL 8\. To find the
    currently set path of the data directory, execute the `mysqld` command with the `--verbose
    and --help` command. If the `data` directory is located at a different place other
    than the MySQL installation directory, then use the `--datadir` option with the `mysqld`
    command. For permission, you will get an Error code 13, which indicates the permission
    denied error. To overcome this issue, change the permission of the required files
    and folder. Another way is to log in with the root user, but this is not possible
    in all the scenarios, so the first approach is recommended to overcome the permission
    issue.
  id: totrans-346
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 验证`data`目录路径和权限是否正确定义。该目录用作MySQL 8的当前目录。要查找数据目录的当前设置路径，请使用`mysqld`命令执行`--verbose`和`--help`命令。如果`data`目录位于MySQL安装目录以外的其他位置，则使用`mysqld`命令的`--datadir`选项。对于权限，您将收到错误代码13，表示权限被拒绝的错误。要解决此问题，请更改所需文件和文件夹的权限。另一种方法是使用root用户登录，但这在所有情况下都不可能，因此建议首先采用第一种方法来解决权限问题。
- en: Executing commands to test the server
  id: totrans-347
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 执行命令以测试服务器
- en: 'After performing the preceding steps, now your MySQL 8 service has started
    and has connected with a specified user. Now, it''s time to check your MySQL 8
    server works satisfactorily or not by executing the following basic commands:'
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
  zh: 执行上述步骤后，现在您的MySQL 8服务已启动，并已连接到指定用户。现在，通过执行以下基本命令来检查您的MySQL 8服务器是否正常工作：
- en: '[PRE31]'
  id: totrans-349
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'This command lists all the information related to the installed MySQL server,
    which contains its version details, protocol version, and much more. Execute the
    following commands after connecting with MySQL 8 to check that information has
    been properly retrieved from the server:'
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
  zh: 该命令列出了与安装的MySQL服务器相关的所有信息，包括其版本详细信息、协议版本等。连接到MySQL 8后，执行以下命令以检查是否已正确从服务器检索到信息：
- en: '[PRE32]'
  id: totrans-351
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: The first command shows the list of databases available in the server. Lists
    may vary as per the system, but `mysql` and `information_schema` must be available
    in the list. The second command lists all the tables created under the `mysql` database.
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个命令显示服务器中可用的数据库列表。列表可能因系统而异，但`mysql`和`information_schema`必须在列表中可用。第二个命令列出了在`mysql`数据库下创建的所有表。
- en: Upgrading MySQL 8
  id: totrans-353
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 升级MySQL 8
- en: In previous versions of MySQL, the data dictionary is stored in the file-based
    system while in MySQL 8 it is stored in the data dictionary structure. So, the
    up-gradation process will move the file-based structure into the data dictionary
    structure. Up-gradation into MySQL 8 is possible from the MYSQL 5.7 GA version,
    which means from 5.7.9 or higher. For non-GA versions of 5.7, up-gradation is
    not possible. Before starting the up-gradation process, the following points need
    to be understood.
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
  zh: 在以前的MySQL版本中，数据字典存储在基于文件的系统中，而在MySQL 8中，它存储在数据字典结构中。因此，升级过程将文件式结构移动到数据字典结构中。从MYSQL
    5.7 GA版本（即从5.7.9或更高版本）可以升级到MySQL 8。对于5.7的非GA版本，无法进行升级。在开始升级过程之前，需要了解以下几点。
- en: Upgrading methods
  id: totrans-355
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 升级方法
- en: Two methods are in use for up-gradation that are differentiated by their implementation
    method. Let us discuss these methods in detail.
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
  zh: 有两种升级方法，它们通过其实施方法进行区分。让我们详细讨论这些方法。
- en: In-place upgrade of MySQL
  id: totrans-357
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: MySQL的就地升级
- en: As the name implies, this is a process where we replace the existing old version
    package of MySQL with a newer version. Before starting, make sure the old server
    has stop and after replacing the package, restart the MySQL 8 server on the existing
    data directory with the mySQL upgrade.
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: 顾名思义，这是一个过程，我们将MySQL的现有旧版本包替换为更新版本。在开始之前，请确保旧服务器已停止，并在替换包后，使用MySQL升级重新启动现有数据目录上的MySQL
    8服务器。
- en: 'Perform the following steps for in-place upgradation:'
  id: totrans-359
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤进行就地升级：
- en: 'With an encrypted `InnoDB` tablespace, rotate the master key with the following
    command:'
  id: totrans-360
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令对加密的`InnoDB`表空间进行主密钥旋转：
- en: '[PRE33]'
  id: totrans-361
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'Configure the shutdown parameters with the `innodb_fast_shutdown` command:'
  id: totrans-362
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`innodb_fast_shutdown`命令配置关闭参数：
- en: '[PRE34]'
  id: totrans-363
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: 'Shut down the old MySQL version, using the following command:'
  id: totrans-364
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令关闭旧的MySQL版本：
- en: '[PRE35]'
  id: totrans-365
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: It is the up-gradation process where the user will replace the old package with
    the new MySQL 8 package.
  id: totrans-366
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这是用户将旧包替换为新MySQL 8包的升级过程。
- en: Start the MySQL 8 server, using the existing `data` directory.
  id: totrans-367
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用现有的`data`目录启动MySQL 8服务器。
- en: On the server startup, it will check for `data` dictionary tables. If they are
    not present then the server creates tables in the `data` directory, and populates
    metadata and processes with its normal startup sequence. If these steps are successfully
    executed then the server performs cleanup by creating the `backup_metadata_57` directory.
    In addition, the server renames events and proc tables into `event_backup_57`
    and `proc_backup_57`. If this step fails then server will revert all the changes.
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
  zh: 在服务器启动时，它将检查`data`字典表。如果不存在，则服务器将在`data`目录中创建表，并使用其正常启动顺序填充元数据和进程。如果这些步骤成功执行，服务器将通过创建`backup_metadata_57`目录来执行清理。此外，服务器将事件和proc表重命名为`event_backup_57`和`proc_backup_57`。如果此步骤失败，则服务器将恢复所有更改。
- en: 'After successful completion when MySQL 8 has started, execute `mysql_upgrade`:'
  id: totrans-369
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 成功完成MySQL 8启动后，执行`mysql_upgrade`：
- en: '[PRE36]'
  id: totrans-370
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: After up-gradation, shut down and restart the server to check whether all the
    changes have been applied or not.
  id: totrans-371
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 升级后，关闭并重新启动服务器，以检查是否已应用所有更改。
- en: Logical upgrade for MySQL 8
  id: totrans-372
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: MySQL 8的逻辑升级
- en: 'Export or take a dump of the old MySQL version. Install the new MySQL 8 version
    and load the dump file into the new MySQL 8 version with the MySQL upgrade. Perform
    the following steps to apply the logical up-gradation:'
  id: totrans-373
  prefs: []
  type: TYPE_NORMAL
  zh: 导出或获取旧的MySQL版本的转储。安装新的MySQL 8版本，并使用MySQL升级将转储文件加载到新的MySQL 8版本。执行以下步骤来应用逻辑升级：
- en: 'Use the `mysqldump` command to export the data:'
  id: totrans-374
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`mysqldump`命令导出数据：
- en: '[PRE37]'
  id: totrans-375
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: '`The--routines`[ ](https://dev.mysql.com/doc/refman/8.0/en/mysqldump.html#option_mysqldump_routines)and `--events` options
    are used to include stored routines and events in the dump file and define these
    options explicitly to get an effect.'
  id: totrans-376
  prefs: []
  type: TYPE_NORMAL
  zh: '`--routines`[ ](https://dev.mysql.com/doc/refman/8.0/en/mysqldump.html#option_mysqldump_routines)和`--events`选项用于在转储文件中包含存储例程和事件，并明确定义这些选项以产生效果。'
- en: Shut down the old MySQL server.
  id: totrans-377
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭旧的MySQL服务器。
- en: Install the new version of MySQL 8.
  id: totrans-378
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装新版本的MySQL 8。
- en: 'Initialize the `data` directory:'
  id: totrans-379
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 初始化`data`目录：
- en: '[PRE38]'
  id: totrans-380
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: 'Start the MySQL 8 server with the new `data` directory:'
  id: totrans-381
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用新的`data`目录启动MySQL 8服务器：
- en: '[PRE39]'
  id: totrans-382
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: 'Load the SQL dump file into the new `MySQL` database:'
  id: totrans-383
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将SQL转储文件加载到新的`MySQL`数据库中：
- en: '[PRE40]'
  id: totrans-384
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: 'Upgrade MySQL with the following command:'
  id: totrans-385
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令升级MySQL：
- en: '[PRE41]'
  id: totrans-386
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: Upgrading prerequisites for MySQL 5.7
  id: totrans-387
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: MySQL 5.7的升级先决条件
- en: 'Before starting up-gradation, perform the following checks to avoid failure
    during later stages:'
  id: totrans-388
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始升级之前，执行以下检查以避免后期失败：
- en: 'Execute the following command to check there is no absolute datatypes or function:'
  id: totrans-389
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 执行以下命令以检查是否存在绝对数据类型或函数：
- en: '[PRE42]'
  id: totrans-390
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: 'Check for native partitioning support, using the following command:'
  id: totrans-391
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令检查本机分区支持：
- en: '[PRE43]'
  id: totrans-392
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: 'This command will list tables that use the storage engine which doesn''t support
    native partitioning. After executing the preceding query, if any table is found
    then remove the partitioning on the table and change the storage engine, as shown
    in the following command:'
  id: totrans-393
  prefs: []
  type: TYPE_NORMAL
  zh: 此命令将列出使用不支持本机分区的存储引擎的表。在执行前述查询后，如果发现任何表，则删除表上的分区并更改存储引擎，如以下命令所示：
- en: '[PRE44]'
  id: totrans-394
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: Make sure MySQL 5.7 does not contains any table which is used as a data dictionary
    in MySQL 8.
  id: totrans-395
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保MySQL 5.7中不包含在MySQL 8中用作数据字典的任何表。
- en: 'Check that the foreign key constraint name doesn''t contains more than 64 characters,
    using the following code:'
  id: totrans-396
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下代码检查外键约束名称是否不超过64个字符：
- en: '[PRE45]'
  id: totrans-397
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: 'Make sure MySQL 5.7 doesn''t contain features that are not available in MySQL
    8, for example:'
  id: totrans-398
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保MySQL 5.7不包含MySQL 8中不可用的功能，例如：
- en: If a table used a storage engine that is not supported by MySQL 8, so was altered
    with the supported storage engine
  id: totrans-399
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果表使用了MySQL 8不支持的存储引擎，则已更改为支持的存储引擎
- en: A configuration change where you use an option or variable that is not available
    in MySQL 8
  id: totrans-400
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用MySQL 8中不可用的选项或变量进行配置更改
- en: MySQL 8 downgrading
  id: totrans-401
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: MySQL 8降级
- en: Downgrading is the reverse process of up-gradation, where we will move from
    a higher version of MySQL to a lower version of MySQL. In this section, we cover
    how to downgrade from MySQL 8 to MySQL 5.7.  A downgrade that does not support
    a version skip means that downgrading from MySQL 8 to MySQL 5.6 is not supported.
    Within the same series where a version skip is supported means you can downgrade
    from MySQL 8.z to MySQL 8.x by skipping the MySQL 8.y version. First, we will
    explain some basic points that need to be understood before starting downgrading.
  id: totrans-402
  prefs: []
  type: TYPE_NORMAL
  zh: 降级是从升级的反向过程，我们将从MySQL的较高版本降级到MySQL的较低版本。在本节中，我们将介绍如何从MySQL 8降级到MySQL 5.7。不支持版本跳过的降级意味着不支持从MySQL
    8降级到MySQL 5.6。在支持版本跳过的同一系列中，意味着您可以跳过MySQL 8.y版本，从MySQL 8.z降级到MySQL 8.x。首先，我们将解释在开始降级之前需要理解的一些基本要点。
- en: Downgrading methods
  id: totrans-403
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 降级方法
- en: 'An in-place downgrade means shutting down the new version of MySQL 8, replacing
    its binaries or packages with the old version of MySQL. Restarting the old version
    means MySQL 5.7 on the existing data directory. This downgrade method is supported
    between GA versions within the same series. Perform the following steps for an
    in-place downgrade:'
  id: totrans-404
  prefs: []
  type: TYPE_NORMAL
  zh: 原地降级意味着关闭MySQL 8的新版本，用旧版本的MySQL替换其二进制文件或软件包。重新启动旧版本意味着在现有数据目录中的MySQL 5.7。此降级方法在同一系列的GA版本之间得到支持。执行以下步骤进行原地降级：
- en: Shut down the newer version of MySQL 8.
  id: totrans-405
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭较新版本的MySQL 8。
- en: 'After the shutdown, remove the `InnoDB` redo log files from the `data` directory
    to avoid downgrade issues:'
  id: totrans-406
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭后，从`data`目录中删除`InnoDB`重做日志文件，以避免降级问题：
- en: '[PRE46]'
  id: totrans-407
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: Position the older version of MySQL in place of the newer version binaries or
    package.
  id: totrans-408
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将旧版本的MySQL定位到新版本的二进制文件或软件包的位置。
- en: 'Start the downgraded version of MySQL by specifying the `data` directory, using
    the following command:'
  id: totrans-409
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过指定`data`目录启动降级版本的MySQL，使用以下命令：
- en: '[PRE47]'
  id: totrans-410
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: 'Execute the `mysql_upgrade` command:'
  id: totrans-411
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 执行`mysql_upgrade`命令：
- en: '[PRE48]'
  id: totrans-412
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: Shut down and restart the MySQL server again to check if all the changes have
    been applied or not.
  id: totrans-413
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭并重新启动MySQL服务器，以检查所有更改是否已应用。
- en: For MySQL installation based on APT, SLES, and the Yum repository installations,
    in-place downgrades are not supported
  id: totrans-414
  prefs: []
  type: TYPE_NORMAL
  zh: 对于基于APT、SLES和Yum存储库安装的MySQL安装，不支持原地降级
- en: Logical downgrade
  id: totrans-415
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 逻辑降级
- en: Take a dump of all the tables using `mysqldump` in the new version. Install
    the new version of MySQL 8 with the new database and load the old version dump
    into the new database. This downgrade is also supported within the same GA release
    series and for the release level. MySQL 8.0 to 5.7 downgrade is supported using
    the *logical downgrade* method.
  id: totrans-416
  prefs: []
  type: TYPE_NORMAL
  zh: 使用新版本中的`mysqldump`对所有表进行转储。安装新版本的MySQL 8，并将旧版本的转储加载到新数据库中。此降级也支持在同一GA发布系列和发布级别中。使用*逻辑降级*方法支持MySQL
    8.0到5.7的降级。
- en: 'To perform the logical downgrade, follow these steps:'
  id: totrans-417
  prefs: []
  type: TYPE_NORMAL
  zh: 要执行逻辑降级，请按照以下步骤操作：
- en: 'Take a dump of the database, using the following code:'
  id: totrans-418
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下代码对数据库进行转储：
- en: '[PRE49]'
  id: totrans-419
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: 'Shut down the MySQL server, as shown here:'
  id: totrans-420
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭MySQL服务器，如下所示：
- en: '[PRE50]'
  id: totrans-421
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: 'Initialize the new `data` directory to the older MySQL version, using the following
    code:'
  id: totrans-422
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将新的`data`目录初始化为旧的MySQL版本，使用以下代码：
- en: '[PRE51]'
  id: totrans-423
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: 'Start older MySQL with the new `data` directory, using the following code:'
  id: totrans-424
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用新的`data`目录启动旧版MySQL，使用以下代码：
- en: '[PRE52]'
  id: totrans-425
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: 'Load the dump into the older MySQL sever, as shown here:'
  id: totrans-426
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将转储加载到旧的MySQL服务器中，如下所示：
- en: '[PRE53]'
  id: totrans-427
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: 'Execute the `mysql_upgrade`:'
  id: totrans-428
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 执行`mysql_upgrade`：
- en: '[PRE54]'
  id: totrans-429
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: 'Restart the server to apply all the changes, using the following code:'
  id: totrans-430
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重新启动服务器以应用所有更改，使用以下代码：
- en: '[PRE55]'
  id: totrans-431
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: Manual changes required before downgrading
  id: totrans-432
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 降级前需要手动更改
- en: 'This section describes some of the changes that need to be executed manually
    by the user before downgrading:'
  id: totrans-433
  prefs: []
  type: TYPE_NORMAL
  zh: 本节描述了在降级之前用户需要手动执行的一些更改：
- en: '**System table changes**: MySQL 5.7 manages individual tablespace for system
    tables while in MySQL 8, system tables were migrated into a single tablespace
    file known as `mysql.ibd`. So, before downgrading to MySQL 5.7, move the system
    table back to the individual tablespace files with the following commands:'
  id: totrans-434
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**系统表更改**：MySQL 5.7为系统表管理单独的表空间，而在MySQL 8中，系统表迁移到一个名为`mysql.ibd`的单个表空间文件中。因此，在降级到MySQL
    5.7之前，使用以下命令将系统表移回单独的表空间文件：'
- en: '[PRE56]'
  id: totrans-435
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: 'In MySQL 8.0.2, the storage engine of six system tables changes from MyISAM
    to InnoDB. Their names are `columns_priv`, `db`, `procs_priv`, `tables_priv`,
    and `user`. So, before downgrading, change the storage engine of these tables
    by executing the following command. Apply the same command for the remaining tables:'
  id: totrans-436
  prefs: []
  type: TYPE_NORMAL
  zh: 在MySQL 8.0.2中，六个系统表的存储引擎从MyISAM更改为InnoDB。它们的名称分别是`columns_priv`、`db`、`procs_priv`、`tables_priv`和`user`。因此，在降级之前，通过执行以下命令更改这些表的存储引擎。对于其余的表也应用相同的命令：
- en: '[PRE57]'
  id: totrans-437
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: 'In MySQL 8.0.2, `mysql.usertable` was changed by adding two tables, so, before
    downgrading to MySQL 5.7, drop those columns from the table:'
  id: totrans-438
  prefs: []
  type: TYPE_NORMAL
  zh: 在MySQL 8.0.2中，通过添加两个表来更改了`mysql.usertable`，因此，在降级到MySQL 5.7之前，从表中删除这些列：
- en: '[PRE58]'
  id: totrans-439
  prefs: []
  type: TYPE_PRE
  zh: '[PRE58]'
- en: '**InnoDB changes**: Before starting in-place downgrading, shut down MySQL using
    the `innodb_fast_shutdown` option. Shut down the server with `innodb_fast_shutdown=0`.
    Removing the redo logs is recommended for in-place downgrading.'
  id: totrans-440
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**InnoDB更改**：在进行原地降级之前，使用`innodb_fast_shutdown`选项关闭MySQL。使用`innodb_fast_shutdown=0`关闭服务器。建议在进行原地降级时删除重做日志。'
- en: Summary
  id: totrans-441
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: To choose the proper software with its version for development is an important
    phase, right? In this chapter, we understood how to select the proper version
    of MySQL 8 by understanding its version pattern. We also learned the execution
    steps of MySQL 8 installation using the installer and command line in Microsoft
    Windows. For the Linux platform, we installed MySQL 8 using the Yum repository,
    RPM package, and Debian package. Post-installation describes the basic configuration
    to start with MySQL 8\. Finally, we explained how to upgrade and downgrade from
    MySQL 8 with execution steps.
  id: totrans-442
  prefs: []
  type: TYPE_NORMAL
  zh: 选择适当的软件及其版本进行开发是一个重要的阶段，对吧？在本章中，我们了解了如何通过了解其版本模式来选择MySQL 8的适当版本。我们还学习了在Microsoft
    Windows中使用安装程序和命令行安装MySQL 8的执行步骤。对于Linux平台，我们使用Yum存储库、RPM包和Debian包安装了MySQL 8。安装后描述了开始使用MySQL
    8的基本配置。最后，我们解释了如何通过执行步骤从MySQL 8升级和降级。
- en: In the next chapter, we will learn about various programs and utilities available
    for MySQL 8\. It mainly focuses on how to use these programs for MySQL 8 along
    with command-line executions.
  id: totrans-443
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将学习有关MySQL 8可用的各种程序和实用程序。主要关注如何在MySQL 8中使用这些程序以及命令行执行。
