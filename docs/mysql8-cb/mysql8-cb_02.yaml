- en: Using MySQL
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用MySQL
- en: 'In this chapter, we will cover the following recipes:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将介绍以下内容：
- en: Connecting to MySQL using the command-line client
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用命令行客户端连接到MySQL
- en: Creating databases
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建数据库
- en: Creating tables
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建表
- en: Inserting, updating, and deleting rows
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 插入、更新和删除行
- en: Loading sample data
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 加载示例数据
- en: Selecting data
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择数据
- en: Sorting results
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 排序结果
- en: Grouping results (aggregate functions)
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 分组结果（聚合函数）
- en: Creating users
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建用户
- en: Granting and revoking access to users
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 授予和撤销用户的访问权限
- en: Selecting data into a file and table
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将数据选择到文件和表中
- en: Loading data into a table
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将数据加载到表中
- en: Joining tables
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 连接表
- en: Stored procedures
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 存储过程
- en: Functions
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 函数
- en: Triggers
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 触发器
- en: Views
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 视图
- en: Events
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 事件
- en: Getting information about databases and tables
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 获取有关数据库和表的信息
- en: Introduction
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 介绍
- en: We are going to learn a lot of things in the following recipes. Let's take a
    look at each one in detail.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的教程中，我们将学到很多东西。让我们详细看看每一个。
- en: Connecting to MySQL using the command-line client
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用命令行客户端连接到MySQL
- en: So far, you have learned how to install MySQL 8.0 on various platforms. Along
    with the installation, you will get the command-line client utility called `mysql`,
    which we use to connect to any MySQL server.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，您已经学会了如何在各种平台上安装MySQL 8.0。除了安装之外，您还将获得名为`mysql`的命令行客户端实用程序，我们将用它来连接到任何MySQL服务器。
- en: Getting ready
  id: totrans-25
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: First you need to know to which server you need to connect. If you have the
    MySQL server installed on one host and you are trying to connect to the server
    from a different host (usually called client), you should specify the hostname
    or IP address of the server and the `mysql-client` package should be installed
    on the client. In the previous chapter, you installed both MySQL server and client
    packages. If you are already on the server (through SSH), you can specify `localhost`, `127.0.0.1`,
    or `::1`.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，您需要知道要连接到哪个服务器。如果您在一个主机上安装了MySQL服务器，并且正在尝试从不同的主机（通常称为客户端）连接到服务器，则应指定服务器的主机名或IP地址，并且客户端上应安装`mysql-client`软件包。在上一章中，您安装了MySQL服务器和客户端软件包。如果您已经在服务器上（通过SSH），可以指定`localhost`、`127.0.0.1`或`::1`。
- en: Second, since you are connected to the server, the next thing you need to specify
    is to which port you want to connect on the server. By default, MySQL runs on
    port `3306`. So, you should specify `3306`.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 其次，由于您已连接到服务器，下一步需要指定要连接到服务器的端口。默认情况下，MySQL在端口`3306`上运行。因此，您应该指定`3306`。
- en: Now you know where to connect. The next obvious thing is the username and password
    to log in to the server. You have not created any users yet, so use the root user
    to connect. While installing, you would have supplied a password, use that to
    connect. In case you changed it, use the new password.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您知道要连接到哪里了。下一个明显的事情是用户名和密码以登录服务器。您还没有创建任何用户，因此使用root用户进行连接。在安装时，您可能已经提供了密码，请使用该密码进行连接。如果更改了密码，请使用新密码。
- en: How to do it...
  id: totrans-29
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做...
- en: 'Connecting to the MySQL client can be done with any of the following commands:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 可以使用以下任何命令连接到MySQL客户端：
- en: '[PRE0]'
  id: totrans-31
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '[PRE1]'
  id: totrans-32
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '[PRE2]'
  id: totrans-33
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'It is highly recommended not to give the password in the command line, instead
    you can leave the field blank; you will be prompted for a password:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 强烈建议不要在命令行中提供密码，而是可以将字段留空；系统会提示您输入密码：
- en: '[PRE3]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: The `-P` argument (in uppercase) is passed for specifying the port.
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 传递`-P`参数（大写）以指定端口。
- en: The `-p` argument (in lowercase) is passed for specifying the password.
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 传递`-p`参数（小写）以指定密码。
- en: There is no space after the `-p` argument.
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`-p`参数后没有空格。
- en: For the password, there is no space after `=`.
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于密码，在`=`后没有空格。
- en: By default, the host is taken as `localhost`, the port is taken as `3306`, and
    the user is taken as the current shell user.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，主机被视为`localhost`，端口被视为`3306`，用户被视为当前shell用户。
- en: 'To know the current user:'
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要知道当前用户：
- en: '[PRE4]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'To disconnect, press *Ctrl *+ *D* or type `exit`:'
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要断开连接，请按*Ctrl *+ *D*或输入`exit`：
- en: '[PRE5]'
  id: totrans-44
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Or use:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 或使用：
- en: '[PRE6]'
  id: totrans-46
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'After connecting to the `mysql` prompt, you can execute statements followed
    by the delimiter. The default delimiter is a semicolon (`;`):'
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 连接到`mysql`提示后，您可以执行后跟分隔符的语句。默认分隔符是分号（`;`）：
- en: '[PRE7]'
  id: totrans-48
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'To cancel a command, press *Ctrl *+ *C* or type `\c`:'
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要取消命令，请按*Ctrl *+ *C*或输入`\c`：
- en: '[PRE8]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Connecting to MySQL using the root user is not recommended. You can create users
    and restrict the user by granting appropriate privileges, which will be discussed
    in the *Creating Users* and *Granting and revoking access to users* sections.
    Till then, you can use the root user to connect to MySQL.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 不建议使用root用户连接到MySQL。您可以创建用户并通过授予适当的权限来限制用户，这将在*创建用户*和*授予和撤销用户的访问权限*部分中讨论。在那之前，您可以使用root用户连接到MySQL。
- en: See also
  id: totrans-52
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 另请参阅
- en: 'After connecting, you might have noticed a warning:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 连接后，您可能会注意到一个警告：
- en: '[PRE9]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: To learn about the secure ways of connecting, refer to [Chapter 14](part0498.html#EQTO40-faa69fe6f4c04957afca3568dcd9cd83),
    *Security.*
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 要了解安全连接的安全方式，请参阅[第14章](part0498.html#EQTO40-faa69fe6f4c04957afca3568dcd9cd83)，*安全*。
- en: Once you are connected to the command-line prompt, you can execute the SQL statements,
    which can be terminated by `;`, `\g`, or `\G`.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦连接到命令行提示符，您可以执行SQL语句，这些语句可以由`;`、`\g`或`\G`终止。
- en: '`;` or `\g`—output is displayed horizontally, `\G`—output is displayed vertically.'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: '`;`或`\g`—输出水平显示，`\G`—输出垂直显示。'
- en: Creating databases
  id: totrans-58
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建数据库
- en: Well, you have installed MySQL 8.0 and connected to it. Now it is time to store
    some data in it, that's what the database is meant for, after all. In any **r****elational
    database management system** (**RDBMS**), data is stored in rows, which is the
    basic building block of the database. Rows contain columns in which we can store
    several set of values.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 好了，您已经安装了MySQL 8.0并连接到了它。现在是时候在其中存储一些数据了，毕竟这就是数据库的用途。在任何**关系数据库管理系统**（**RDBMS**）中，数据存储在行中，这是数据库的基本构建块。行包含列，我们可以在其中存储多组值。
- en: For example, if you want to store information about your customers in a database.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，如果您想在数据库中存储有关客户的信息。
- en: 'Here is the dataset:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 这是数据集：
- en: '[PRE10]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: You should save them as rows: `(1, 'Mike', 'Christensen', 'USA')`, `(2, 'Andy',
    'Hollands', 'Australia')`, `(3, 'Ravi', 'Vedantam', 'India')`, `(4, 'Rajiv', 'Perera',
    'Sri Lanka')`. For this dataset, there are four rows described by three columns
    `(id, first_name, last_name and country)`, which are stored in a table. The number
    of columns that a table can hold should be defined at the time of the creation
    of the table, which is the major limitation of RDBMS. However, we can alter the
    definition of the table any time, but the full table should be rebuilt while doing
    so. In some cases, the table will be unavailable while doing an alter. Altering
    a table will be discussed in detail in [Chapter 9](part0312.html#99HFG0-faa69fe6f4c04957afca3568dcd9cd83),
    *Table Maintenance*.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 你应该将它们保存为行：`(1, 'Mike', 'Christensen', 'USA')`, `(2, 'Andy', 'Hollands', 'Australia')`,
    `(3, 'Ravi', 'Vedantam', 'India')`, `(4, 'Rajiv', 'Perera', 'Sri Lanka')`。对于这个数据集，有三列描述的四行（id，first_name，last_name和country），它们存储在一个表中。表可以容纳的列数应该在创建表的时候定义，这是关系数据库管理系统的主要限制。但是，我们可以随时更改表的定义，但在这样做时应该重建整个表。在某些情况下，更改表时表将不可用。表的更改将在[第9章](part0312.html#99HFG0-faa69fe6f4c04957afca3568dcd9cd83)中详细讨论，*表维护*。
- en: 'A database is a collection of many tables, and a database server can hold many
    of these databases. The flow is as follows:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 数据库是许多表的集合，数据库服务器可以容纳许多这些数据库。流程如下：
- en: Database Server —> Databases —> Tables (defined by columns) —> Rows
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 数据库服务器—>数据库—>表（由列定义）—>行
- en: Databases and tables are referred to as database objects. Any operation, such
    as creating, modifying, or deleting database objects, is called **Data Definition
    Language** (**DDL**).
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 数据库和表被称为数据库对象。任何操作，如创建、修改或删除数据库对象，都称为**数据定义语言**（**DDL**）。
- en: The organization of data as a blueprint of how the database is constructed (divided
    into database and tables) is called a **schema**.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 数据的组织作为数据库构建的蓝图（分为数据库和表）称为**模式**。
- en: How to do it...
  id: totrans-68
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做...
- en: 'Connect to the MySQL server:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 连接到MySQL服务器：
- en: '[PRE11]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: The back tick character ([PRE12]
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 反引号字符（[PRE12]
- en: mysql> USE company
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> USE company
- en: mysql> USE `my.contacts`
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> USE `my.contacts`
- en: '[PRE13]'
  id: totrans-74
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: shell> mysql -u root -p company
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: shell> mysql -u root -p company
- en: '[PRE14]'
  id: totrans-76
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: mysql> SELECT DATABASE();
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SELECT DATABASE();
- en: +------------+
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: +------------+
- en: '| DATABASE() |'
  id: totrans-79
  prefs: []
  type: TYPE_TB
  zh: '| DATABASE() |'
- en: +------------+
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: +------------+
- en: '| company    |'
  id: totrans-81
  prefs: []
  type: TYPE_TB
  zh: '| company    |'
- en: +------------+
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: +------------+
- en: 1 row in set (0.00 sec)
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 1行（0.00秒）
- en: '[PRE15]'
  id: totrans-84
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: mysql> SHOW DATABASES;
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SHOW DATABASES;
- en: +--------------------+
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: +--------------------+
- en: '| Database           |'
  id: totrans-87
  prefs: []
  type: TYPE_TB
  zh: '| Database           |'
- en: +--------------------+
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: +--------------------+
- en: '| company            |'
  id: totrans-89
  prefs: []
  type: TYPE_TB
  zh: '| company            |'
- en: '| my.contacts        |'
  id: totrans-90
  prefs: []
  type: TYPE_TB
  zh: '| my.contacts        |'
- en: '| information_schema |'
  id: totrans-91
  prefs: []
  type: TYPE_TB
  zh: '| information_schema |'
- en: '| mysql              |'
  id: totrans-92
  prefs: []
  type: TYPE_TB
  zh: '| mysql              |'
- en: '| performance_schema |'
  id: totrans-93
  prefs: []
  type: TYPE_TB
  zh: '| performance_schema |'
- en: '| sys                |'
  id: totrans-94
  prefs: []
  type: TYPE_TB
  zh: '| sys                |'
- en: +--------------------+
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: +--------------------+
- en: 6 rows in set (0.00 sec)
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 6行（0.00秒）
- en: '[PRE16]'
  id: totrans-97
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: mysql> SHOW VARIABLES LIKE 'datadir';
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SHOW VARIABLES LIKE 'datadir';
- en: +---------------+------------------------+
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: +---------------+------------------------+
- en: '| Variable_name | Value                  |'
  id: totrans-100
  prefs: []
  type: TYPE_TB
  zh: '| Variable_name | Value                  |'
- en: +---------------+------------------------+
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: +---------------+------------------------+
- en: '| datadir       | /usr/local/mysql/data/ |'
  id: totrans-102
  prefs: []
  type: TYPE_TB
  zh: '| datadir       | /usr/local/mysql/data/ |'
- en: +---------------+------------------------+
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: +---------------+------------------------+
- en: 1 row in set (0.00 sec)
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 1行（0.00秒）
- en: '[PRE17]'
  id: totrans-105
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: shell> sudo ls -lhtr /usr/local/mysql/data/
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: shell> sudo ls -lhtr /usr/local/mysql/data/
- en: total 185M
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 总共185M
- en: -rw-r----- 1 mysql mysql   56 Jun  2 16:57 auto.cnf
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: -rw-r----- 1 mysql mysql   56 Jun  2 16:57 auto.cnf
- en: -rw-r----- 1 mysql mysql  257 Jun  2 16:57 performance_sche_3.SDI
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: -rw-r----- 1 mysql mysql  257 Jun  2 16:57 performance_sche_3.SDI
- en: drwxr-x--- 2 mysql mysql 4.0K Jun  2 16:57 performance_schema
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: drwxr-x--- 2 mysql mysql 4.0K Jun  2 16:57 performance_schema
- en: drwxr-x--- 2 mysql mysql 4.0K Jun  2 16:57 mysql
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: drwxr-x--- 2 mysql mysql 4.0K Jun  2 16:57 mysql
- en: -rw-r----- 1 mysql mysql  242 Jun  2 16:57 sys_4.SDI
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: -rw-r----- 1 mysql mysql  242 Jun  2 16:57 sys_4.SDI
- en: drwxr-x--- 2 mysql mysql 4.0K Jun  2 16:57 sys
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: drwxr-x--- 2 mysql mysql 4.0K Jun  2 16:57 sys
- en: -rw------- 1 mysql root  1.7K Jun  2 16:58 ca-key.pem
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: -rw------- 1 mysql root  1.7K Jun  2 16:58 ca-key.pem
- en: -rw-r--r-- 1 mysql root  1.1K Jun  2 16:58 ca.pem
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: -rw-r--r-- 1 mysql root  1.1K Jun  2 16:58 ca.pem
- en: -rw------- 1 mysql root  1.7K Jun  2 16:58 server-key.pem
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: -rw------- 1 mysql root  1.7K Jun  2 16:58 server-key.pem
- en: -rw-r--r-- 1 mysql root  1.1K Jun  2 16:58 server-cert.pem
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: -rw-r--r-- 1 mysql root  1.1K Jun  2 16:58 server-cert.pem
- en: -rw------- 1 mysql root  1.7K Jun  2 16:58 client-key.pem
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: -rw------- 1 mysql root  1.7K Jun  2 16:58 client-key.pem
- en: -rw-r--r-- 1 mysql root  1.1K Jun  2 16:58 client-cert.pem
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: -rw-r--r-- 1 mysql root  1.1K Jun  2 16:58 client-cert.pem
- en: -rw------- 1 mysql root  1.7K Jun  2 16:58 private_key.pem
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: -rw------- 1 mysql root  1.7K Jun  2 16:58 private_key.pem
- en: -rw-r--r-- 1 mysql root   451 Jun  2 16:58 public_key.pem
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: -rw-r--r-- 1 mysql root   451 Jun  2 16:58 public_key.pem
- en: -rw-r----- 1 mysql mysql 1.4K Jun  2 17:46 ib_buffer_pool
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: -rw-r----- 1 mysql mysql 1.4K Jun  2 17:46 ib_buffer_pool
- en: -rw-r----- 1 mysql mysql    5 Jun  2 17:46 server1.pid
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: -rw-r----- 1 mysql mysql    5 Jun  2 17:46 server1.pid
- en: -rw-r----- 1 mysql mysql  247 Jun  3 13:55 company_5.SDI
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: -rw-r----- 1 mysql mysql  247 Jun  3 13:55 company_5.SDI
- en: drwxr-x--- 2 mysql mysql 4.0K Jun  4 08:13 company
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: drwxr-x--- 2 mysql mysql 4.0K Jun  4 08:13 company
- en: -rw-r----- 1 mysql mysql  12K Jun  4 18:58 server1.err
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: -rw-r----- 1 mysql mysql  12K Jun  4 18:58 server1.err
- en: -rw-r----- 1 mysql mysql  249 Jun  5 16:17 employees_8.SDI
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: -rw-r----- 1 mysql mysql  249 Jun  5 16:17 employees_8.SDI
- en: drwxr-x--- 2 mysql mysql 4.0K Jun  5 16:17 employees
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: drwxr-x--- 2 mysql mysql 4.0K Jun  5 16:17 employees
- en: -rw-r----- 1 mysql mysql  76M Jun  5 16:18 ibdata1
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: -rw-r----- 1 mysql mysql  76M Jun  5 16:18 ibdata1
- en: -rw-r----- 1 mysql mysql  48M Jun  5 16:18 ib_logfile1
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: -rw-r----- 1 mysql mysql  48M Jun  5 16:18 ib_logfile1
- en: -rw-r----- 1 mysql mysql  48M Jun  5 16:18 ib_logfile0
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: -rw-r----- 1 mysql mysql  48M Jun  5 16:18 ib_logfile0
- en: -rw-r----- 1 mysql mysql  12M Jun 10 10:29 ibtmp1
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: -rw-r----- 1 mysql mysql  12M Jun 10 10:29 ibtmp1
- en: '[PRE18]'
  id: totrans-133
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: mysql> CREATE TABLE IF NOT EXISTS `company`.`customers` (
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> CREATE TABLE IF NOT EXISTS `company`.`customers` (
- en: '`id` int unsigned AUTO_INCREMENT PRIMARY KEY,'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: '`id` int unsigned AUTO_INCREMENT PRIMARY KEY,'
- en: '`first_name` varchar(20),'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: '`first_name` varchar(20),'
- en: '`last_name` varchar(20),'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: '`last_name` varchar(20),'
- en: '`country` varchar(20)'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: '`country` varchar(20)'
- en: ) ENGINE=InnoDB;
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: ）ENGINE=InnoDB;
- en: '[PRE19]'
  id: totrans-140
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: mysql> SHOW ENGINES\G
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SHOW ENGINES\G
- en: '*************************** 1\. row ***************************'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: '*************************** 1\. row ***************************'
- en: 'Engine: MRG_MYISAM'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 引擎：MRG_MYISAM
- en: 'Support: YES'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 支持：是
- en: 'Comment: Collection of identical MyISAM tables'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 评论：相同MyISAM表的集合
- en: 'Transactions: NO'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 事务：否
- en: 'XA: NO'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: XA：否
- en: 'Savepoints: NO'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 保存点：否
- en: '*************************** 2\. row ***************************'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: '*************************** 2\. 行 ***************************'
- en: 'Engine: FEDERATED'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 引擎：FEDERATED
- en: 'Support: NO'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 支持：否
- en: 'Comment: Federated MySQL storage engine'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 注释：联合MySQL存储引擎
- en: 'Transactions: NULL'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 事务：NULL
- en: 'XA: NULL'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: XA：NULL
- en: 'Savepoints: NULL'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 保存点：NULL
- en: '*************************** 3\. row ***************************'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: '*************************** 3\. 行 ***************************'
- en: 'Engine: InnoDB'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 引擎：InnoDB
- en: 'Support: DEFAULT'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 支持：默认
- en: 'Comment: Supports transactions, row-level locking, and foreign keys'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 注释：支持事务，行级锁定和外键
- en: 'Transactions: YES'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 事务：是
- en: 'XA: YES'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: XA：是
- en: 'Savepoints: YES'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 保存点：是
- en: '*************************** 4\. row ***************************'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: '*************************** 4\. 行 ***************************'
- en: 'Engine: BLACKHOLE'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 引擎：BLACKHOLE
- en: 'Support: YES'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 支持：是
- en: 'Comment: /dev/null storage engine (anything you write to it disappears)'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 注释：/dev/null存储引擎（您写入其中的任何内容都会消失）
- en: 'Transactions: NO'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 事务：否
- en: 'XA: NO'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: XA：否
- en: 'Savepoints: NO'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 保存点：否
- en: '*************************** 5\. row ***************************'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: '*************************** 5\. 行 ***************************'
- en: 'Engine: CSV'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 引擎：CSV
- en: 'Support: YES'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 支持：是
- en: 'Comment: CSV storage engine'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 注释：CSV存储引擎
- en: 'Transactions: NO'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 事务：否
- en: 'XA: NO'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: XA：否
- en: 'Savepoints: NO'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 保存点：否
- en: '*************************** 6\. row ***************************'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: '*************************** 6\. 行 ***************************'
- en: 'Engine: MEMORY'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 引擎：MEMORY
- en: 'Support: YES'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 支持：是
- en: 'Comment: Hash based, stored in memory, useful for temporary tables'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 注释：基于哈希，存储在内存中，对临时表有用
- en: 'Transactions: NO'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 事务：否
- en: 'XA: NO'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: XA：否
- en: 'Savepoints: NO'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 保存点：否
- en: '*************************** 7\. row ***************************'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: '*************************** 7\. 行 ***************************'
- en: 'Engine: PERFORMANCE_SCHEMA'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 引擎：PERFORMANCE_SCHEMA
- en: 'Support: YES'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 支持：是
- en: 'Comment: Performance Schema'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 注释：性能模式
- en: 'Transactions: NO'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 事务：否
- en: 'XA: NO'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: XA：否
- en: 'Savepoints: NO'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 保存点：否
- en: '*************************** 8\. row ***************************'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: '*************************** 8\. 行 ***************************'
- en: 'Engine: ARCHIVE'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 引擎：ARCHIVE
- en: 'Support: YES'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 支持：是
- en: 'Comment: Archive storage engine'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 注释：存档存储引擎
- en: 'Transactions: NO'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 事务：否
- en: 'XA: NO'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: XA：否
- en: 'Savepoints: NO'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 保存点：否
- en: '*************************** 9\. row ***************************'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: '*************************** 9\. 行 ***************************'
- en: 'Engine: MyISAM'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 引擎：MyISAM
- en: 'Support: YES'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 支持：是
- en: 'Comment: MyISAM storage engine'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 注释：MyISAM存储引擎
- en: 'Transactions: NO'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 事务：否
- en: 'XA: NO'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: XA：否
- en: 'Savepoints: NO'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 保存点：否
- en: 9 rows in set (0.00 sec)
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 设置中的9行（0.00秒）
- en: '[PRE20]'
  id: totrans-206
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: mysql> CREATE TABLE `company`.`payments`(
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> CREATE TABLE `company`.`payments`(
- en: '`customer_name` varchar(20) PRIMARY KEY,'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: '`customer_name` varchar(20) PRIMARY KEY，'
- en: '`payment` float'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: '`payment` float'
- en: );
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: ）;
- en: '[PRE21]'
  id: totrans-211
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: mysql> SHOW TABLES;
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SHOW TABLES;
- en: +-------------------+
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: +-------------------+
- en: '| Tables_in_company |'
  id: totrans-214
  prefs: []
  type: TYPE_TB
  zh: '| Tables_in_company |'
- en: +-------------------+
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: +-------------------+
- en: '| customers         |'
  id: totrans-216
  prefs: []
  type: TYPE_TB
  zh: '| customers         |'
- en: '| payments          |'
  id: totrans-217
  prefs: []
  type: TYPE_TB
  zh: '| payments          |'
- en: +-------------------+
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: +-------------------+
- en: 2 rows in set (0.00 sec)
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 设置中的2行（0.00秒）
- en: '[PRE22]'
  id: totrans-220
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: mysql> SHOW CREATE TABLE customers\G
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SHOW CREATE TABLE customers\G
- en: '*************************** 1\. row ***************************'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: '*************************** 1\. 行 ***************************'
- en: 'Table: customers'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 表：customers
- en: 'Create Table: CREATE TABLE `customers` ('
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 创建表：CREATE TABLE `customers` (
- en: '`id` int(10) unsigned NOT NULL AUTO_INCREMENT,'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: '`id` int(10) unsigned NOT NULL AUTO_INCREMENT,'
- en: '`first_name` varchar(20) DEFAULT NULL,'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: '`first_name` varchar(20) DEFAULT NULL,'
- en: '`last_name` varchar(20) DEFAULT NULL,'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: '`last_name` varchar(20) DEFAULT NULL,'
- en: '`country` varchar(20) DEFAULT NULL,'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: '`country` varchar(20) DEFAULT NULL,'
- en: PRIMARY KEY (`id`)
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 主键（`id`）
- en: ) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb4
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: ）ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb4
- en: 1 row in set (0.00 sec)
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 设置中的1行（0.00秒）
- en: '[PRE23]'
  id: totrans-232
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: mysql> DESC customers;
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> DESC customers;
- en: +------------+------------------+------+-----+---------+----------------+
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: +------------+------------------+------+-----+---------+----------------+
- en: '| Field      | Type             | Null | Key | Default | Extra          |'
  id: totrans-235
  prefs: []
  type: TYPE_TB
  zh: '|字段|类型|空|键|默认|额外|'
- en: +------------+------------------+------+-----+---------+----------------+
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: +------------+------------------+------+-----+---------+----------------+
- en: '| id         | int(10) unsigned | NO   | PRI | NULL    | auto_increment |'
  id: totrans-237
  prefs: []
  type: TYPE_TB
  zh: '| id         | int(10) unsigned | NO   | PRI | NULL    | auto_increment |'
- en: '| first_name | varchar(20)      | YES  |     | NULL    |                |'
  id: totrans-238
  prefs: []
  type: TYPE_TB
  zh: '| first_name | varchar(20)      | YES  |     | NULL    |                |'
- en: '| last_name  | varchar(20)      | YES  |     | NULL    |                |'
  id: totrans-239
  prefs: []
  type: TYPE_TB
  zh: '| last_name  | varchar(20)      | YES  |     | NULL    |                |'
- en: '| country    | varchar(20)      | YES  |     | NULL    |                |'
  id: totrans-240
  prefs: []
  type: TYPE_TB
  zh: '| country    | varchar(20)      | YES  |     | NULL    |                |'
- en: +------------+------------------+------+-----+---------+----------------+
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: +------------+------------------+------+-----+---------+----------------+
- en: 4 rows in set (0.01 sec)
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 设置中的4行（0.01秒）
- en: '[PRE24]'
  id: totrans-243
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: shell> sudo ls -lhtr /usr/local/mysql/data/company
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: shell> sudo ls -lhtr /usr/local/mysql/data/company
- en: total 256K
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 总共256K
- en: -rw-r----- 1 mysql mysql 128K Jun 4 07:36 customers.ibd
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: -rw-r----- 1 mysql mysql 128K Jun 4 07:36 customers.ibd
- en: -rw-r----- 1 mysql mysql 128K Jun 4 08:24 payments.ibd
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: -rw-r----- 1 mysql mysql 128K Jun 4 08:24 payments.ibd
- en: '[PRE25]'
  id: totrans-248
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: mysql> CREATE TABLE new_customers LIKE customers;
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> CREATE TABLE new_customers LIKE customers;
- en: Query OK, 0 rows affected (0.05 sec)
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，0行受影响（0.05秒）
- en: '[PRE26]'
  id: totrans-251
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: mysql> SHOW CREATE TABLE new_customers\G
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SHOW CREATE TABLE new_customers\G
- en: '*************************** 1\. row ***************************'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: '*************************** 1\. 行 ***************************'
- en: 'Table: new_customers'
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 表：new_customers
- en: 'Create Table: CREATE TABLE `new_customers` ('
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 创建表：CREATE TABLE `new_customers` (
- en: '`id` int(10) unsigned NOT NULL AUTO_INCREMENT,'
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: '`id` int(10) unsigned NOT NULL AUTO_INCREMENT，'
- en: '`first_name` varchar(20) DEFAULT NULL,'
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: '`first_name` varchar(20) DEFAULT NULL,'
- en: '`last_name` varchar(20) DEFAULT NULL,'
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: '`last_name` varchar(20) DEFAULT NULL,'
- en: '`country` varchar(20) DEFAULT NULL,'
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: '`country` varchar(20) DEFAULT NULL,'
- en: PRIMARY KEY (`id`)
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 主键（`id`）
- en: ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: ）ENGINE=InnoDB DEFAULT CHARSET=utf8mb4
- en: 1 row in set (0.00 sec)
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 设置中的1行（0.00秒）
- en: '[PRE27]'
  id: totrans-263
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: mysql> INSERT IGNORE INTO `company`.`customers`(first_name, last_name,country)
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> INSERT IGNORE INTO `company`.`customers`(first_name, last_name,country)
- en: VALUES
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 值
- en: ('Mike', 'Christensen', 'USA'),
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: （'Mike'，'Christensen'，'USA'），
- en: ('Andy', 'Hollands', 'Australia'),
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: （'Andy'，'Hollands'，'Australia'），
- en: ('Ravi', 'Vedantam', 'India'),
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: （'Ravi'，'Vedantam'，'India'），
- en: ('Rajiv', 'Perera', 'Sri Lanka');
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: （'Rajiv'，'Perera'，'Sri Lanka'）;
- en: '[PRE28]'
  id: totrans-270
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: mysql> INSERT IGNORE INTO `company`.`customers`(id, first_name, last_name,country)
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> INSERT IGNORE INTO `company`.`customers`(id, first_name, last_name,country)
- en: VALUES
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 值
- en: (1, 'Mike', 'Christensen', 'USA'),
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: （1，'Mike'，'Christensen'，'USA'），
- en: (2, 'Andy', 'Hollands', 'Australia'),
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: （2，'Andy'，'Hollands'，'Australia'），
- en: (3, 'Ravi', 'Vedantam', 'India'),
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: （3，'Ravi'，'Vedantam'，'India'），
- en: (4, 'Rajiv', 'Perera', 'Sri Lanka');
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: （4，'Rajiv'，'Perera'，'Sri Lanka'）;
- en: Query OK, 0 rows affected, 4 warnings (0.00 sec)
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，0行受影响，4个警告（0.00秒）
- en: 'Records: 4 Duplicates: 4 Warnings: 4'
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 记录：4 重复项：4 警告：4
- en: '[PRE29]'
  id: totrans-279
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: mysql> SHOW WARNINGS;
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 显示警告;
- en: +---------+------+---------------------------------------+
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: +---------+------+---------------------------------------+
- en: '| Level   | Code | Message                               |'
  id: totrans-282
  prefs: []
  type: TYPE_TB
  zh: '| 级别   | 代码 | 消息                               |'
- en: +---------+------+---------------------------------------+
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: +---------+------+---------------------------------------+
- en: '| Warning | 1062 | Duplicate entry ''1'' for key ''PRIMARY'' |'
  id: totrans-284
  prefs: []
  type: TYPE_TB
  zh: '| 警告 | 1062 | 键''PRIMARY''的重复条目''1'' |'
- en: '| Warning | 1062 | Duplicate entry ''2'' for key ''PRIMARY'' |'
  id: totrans-285
  prefs: []
  type: TYPE_TB
  zh: '| 警告 | 1062 | 键''PRIMARY''的重复条目''2'' |'
- en: '| Warning | 1062 | Duplicate entry ''3'' for key ''PRIMARY'' |'
  id: totrans-286
  prefs: []
  type: TYPE_TB
  zh: '| 警告 | 1062 | 键''PRIMARY''的重复条目''3'' |'
- en: '| Warning | 1062 | Duplicate entry ''4'' for key ''PRIMARY'' |'
  id: totrans-287
  prefs: []
  type: TYPE_TB
  zh: '| 警告 | 1062 | 键''PRIMARY''的重复条目''4'' |'
- en: +---------+------+---------------------------------------+
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: +---------+------+---------------------------------------+
- en: 4 rows in set (0.00 sec)
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 共4行（0.00秒）
- en: '[PRE30]'
  id: totrans-290
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: mysql> UPDATE customers SET first_name='Rajiv', country='UK' WHERE id=4;
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 更新customers SET first_name='Rajiv'，country='UK' WHERE id=4;
- en: Query OK, 1 row affected (0.00 sec)
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，影响1行（0.00秒）
- en: 'Rows matched: 1  Changed: 1  Warnings: 0'
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 匹配的行数：1  更改的行数：1  警告：0
- en: '[PRE31]'
  id: totrans-294
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: mysql> DELETE FROM customers WHERE id=4 AND first_name='Rajiv';
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 从customers中删除WHERE id=4 AND first_name='Rajiv';
- en: Query OK, 1 row affected (0.03 sec)
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，影响1行（0.03秒）
- en: '[PRE32]'
  id: totrans-297
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: mysql> REPLACE INTO customers VALUES (1,'Mike','Christensen','America');
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 替换为customers中的值（1，'Mike'，'Christensen'，'America'）;
- en: Query OK, 2 rows affected (0.03 sec)
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，影响2行（0.03秒）
- en: '[PRE33]'
  id: totrans-300
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: mysql> INSERT INTO payments VALUES('Mike Christensen', 200) ON DUPLICATE KEY
    UPDATE payment=payment+VALUES(payment);
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 插入到payments中的值（'Mike Christensen'，200）在重复键更新时更新payment=payment+VALUES（payment）;
- en: Query OK, 1 row affected (0.00 sec)
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，影响1行（0.00秒）
- en: '[PRE34]'
  id: totrans-303
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: mysql> INSERT INTO payments VALUES('Ravi Vedantam',500) ON DUPLICATE KEY UPDATE
    payment=payment+VALUES(payment);
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 插入到payments中的值（'Ravi Vedantam'，500）在重复键更新时更新payment=payment+VALUES（payment）;
- en: Query OK, 1 row affected (0.01 sec)
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，影响1行（0.01秒）
- en: '[PRE35]'
  id: totrans-306
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: mysql> INSERT INTO payments VALUES('Mike Christensen', 300) ON DUPLICATE KEY
    UPDATE payment=payment+VALUES(payment);
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 插入到payments中的值（'Mike Christensen'，300）在重复键更新时更新payment=payment+VALUES（payment）;
- en: Query OK, 2 rows affected (0.00 sec)
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，影响2行（0.00秒）
- en: '[PRE36]'
  id: totrans-309
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: mysql> TRUNCATE TABLE customers;
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 清空表customers;
- en: Query OK, 0 rows affected (0.03 sec)
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，影响0行（0.03秒）
- en: '[PRE37]'
  id: totrans-312
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: shell> wget 'https://codeload.github.com/datacharmer/test_db/zip/master' -O
    master.zip
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: shell> wget 'https://codeload.github.com/datacharmer/test_db/zip/master' -O
    master.zip
- en: '[PRE38]'
  id: totrans-314
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: shell> unzip master.zip
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: shell> 解压master.zip
- en: '[PRE39]'
  id: totrans-316
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: shell> cd test_db-master
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: shell> cd test_db-master
- en: shell> mysql -u root -p < employees.sql
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: shell> mysql -u root -p < employees.sql
- en: 'mysql: [Warning] Using a password on the command line interface can be insecure.'
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: mysql：[警告]在命令行界面上使用密码可能不安全。
- en: INFO
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: 信息
- en: CREATING DATABASE STRUCTURE
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: 创建数据库结构
- en: INFO
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: 信息
- en: 'storage engine: InnoDB'
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: 存储引擎：InnoDB
- en: INFO
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
  zh: 信息
- en: LOADING departments
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: 加载departments
- en: INFO
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: 信息
- en: LOADING employees
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: 加载employees
- en: INFO
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: 信息
- en: LOADING dept_emp
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: 加载dept_emp
- en: INFO
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: 信息
- en: LOADING dept_manager
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: 加载dept_manager
- en: INFO
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: 信息
- en: LOADING titles
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: 加载标题
- en: INFO
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 信息
- en: LOADING salaries
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: 加载薪水
- en: data_load_time_diff
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: data_load_time_diff
- en: 'NULL'
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
  zh: 'NULL'
- en: '[PRE40]'
  id: totrans-338
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: shell> mysql -u root -p  employees -A
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
  zh: shell> mysql -u root -p  employees -A
- en: 'mysql: [Warning] Using a password on the command line interface can be insecure.'
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: mysql：[警告]在命令行界面上使用密码可能不安全。
- en: Welcome to the MySQL monitor.  Commands end with ; or \g.
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: 欢迎来到MySQL监视器。命令以;或\g结束。
- en: Your MySQL connection id is 35
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
  zh: 您的MySQL连接ID为35
- en: 'Server version: 8.0.3-rc-log MySQL Community Server (GPL)'
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
  zh: 服务器版本：8.0.3-rc-log MySQL社区服务器（GPL）
- en: Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
  zh: 版权所有（c）2000年，2017年，Oracle及/或其关联公司。保留所有权利。
- en: Oracle is a registered trademark of Oracle Corporation and/or its
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: Oracle是Oracle Corporation和/或其
- en: affiliates. Other names may be trademarks of their respective
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
  zh: 关联公司。其他名称可能是其各自的商标
- en: owners.
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: 所有者。
- en: Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
  zh: 类型'help;'或'\h'获取帮助。键入'\c'以清除当前输入语句。
- en: '[PRE41]'
  id: totrans-349
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: mysql> SHOW TABLES;
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 显示表;
- en: +-------------------------+
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: +-------------------------+
- en: '| Tables_in_employees     |'
  id: totrans-352
  prefs: []
  type: TYPE_TB
  zh: '| employees表     |'
- en: +-------------------------+
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
  zh: +-------------------------+
- en: '| current_dept_emp        |'
  id: totrans-354
  prefs: []
  type: TYPE_TB
  zh: '| current_dept_emp        |'
- en: '| departments             |'
  id: totrans-355
  prefs: []
  type: TYPE_TB
  zh: '| 部门             |'
- en: '| dept_emp                |'
  id: totrans-356
  prefs: []
  type: TYPE_TB
  zh: '| dept_emp                |'
- en: '| dept_emp_latest_date    |'
  id: totrans-357
  prefs: []
  type: TYPE_TB
  zh: '| dept_emp_latest_date    |'
- en: '| dept_manager            |'
  id: totrans-358
  prefs: []
  type: TYPE_TB
  zh: '| dept_manager            |'
- en: '| employees               |'
  id: totrans-359
  prefs: []
  type: TYPE_TB
  zh: '| employees               |'
- en: '| salaries                |'
  id: totrans-360
  prefs: []
  type: TYPE_TB
  zh: '| 薪水                |'
- en: '| titles                  |'
  id: totrans-361
  prefs: []
  type: TYPE_TB
  zh: '| 标题                  |'
- en: +-------------------------+
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: +-------------------------+
- en: 8 rows in set (0.00 sec)
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
  zh: 共8行（0.00秒）
- en: '[PRE42]'
  id: totrans-364
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: mysql> DESC employees\G
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> DESC employees\G
- en: '*************************** 1\. row ***************************'
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
  zh: '*************************** 1\. 行 ***************************'
- en: 'Field: emp_no'
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: 字段：员工编号
- en: 'Type: int(11)'
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：int（11）
- en: 'Null: NO'
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: 空值：否
- en: 'Key: PRI'
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
  zh: 关键：PRI
- en: 'Default: NULL'
  id: totrans-371
  prefs: []
  type: TYPE_NORMAL
  zh: 默认值：NULL
- en: 'Extra:'
  id: totrans-372
  prefs: []
  type: TYPE_NORMAL
  zh: 额外：
- en: '*************************** 2\. row ***************************'
  id: totrans-373
  prefs: []
  type: TYPE_NORMAL
  zh: '*************************** 2\. 行 ***************************'
- en: 'Field: birth_date'
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
  zh: 字段：出生日期
- en: 'Type: date'
  id: totrans-375
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：日期
- en: 'Null: NO'
  id: totrans-376
  prefs: []
  type: TYPE_NORMAL
  zh: 空值：否
- en: 'Key:'
  id: totrans-377
  prefs: []
  type: TYPE_NORMAL
  zh: 关键：
- en: 'Default: NULL'
  id: totrans-378
  prefs: []
  type: TYPE_NORMAL
  zh: 默认值：NULL
- en: 'Extra:'
  id: totrans-379
  prefs: []
  type: TYPE_NORMAL
  zh: 额外：
- en: '*************************** 3\. row ***************************'
  id: totrans-380
  prefs: []
  type: TYPE_NORMAL
  zh: '*************************** 3\. 行 ***************************'
- en: 'Field: first_name'
  id: totrans-381
  prefs: []
  type: TYPE_NORMAL
  zh: 字段：名
- en: 'Type: varchar(14)'
  id: totrans-382
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：varchar（14）
- en: 'Null: NO'
  id: totrans-383
  prefs: []
  type: TYPE_NORMAL
  zh: 空值：否
- en: 'Key:'
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
  zh: 关键：
- en: 'Default: NULL'
  id: totrans-385
  prefs: []
  type: TYPE_NORMAL
  zh: 默认值：NULL
- en: 'Extra:'
  id: totrans-386
  prefs: []
  type: TYPE_NORMAL
  zh: 额外：
- en: '*************************** 4\. row ***************************'
  id: totrans-387
  prefs: []
  type: TYPE_NORMAL
  zh: '*************************** 4\. 行 ***************************'
- en: 'Field: last_name'
  id: totrans-388
  prefs: []
  type: TYPE_NORMAL
  zh: 字段：姓
- en: 'Type: varchar(16)'
  id: totrans-389
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：varchar（16）
- en: 'Null: NO'
  id: totrans-390
  prefs: []
  type: TYPE_NORMAL
  zh: 空值：否
- en: 'Key:'
  id: totrans-391
  prefs: []
  type: TYPE_NORMAL
  zh: 关键：
- en: 'Default: NULL'
  id: totrans-392
  prefs: []
  type: TYPE_NORMAL
  zh: 默认值：NULL
- en: 'Extra:'
  id: totrans-393
  prefs: []
  type: TYPE_NORMAL
  zh: 额外：
- en: '*************************** 5\. row ***************************'
  id: totrans-394
  prefs: []
  type: TYPE_NORMAL
  zh: '*************************** 5\. 行 ***************************'
- en: 'Field: gender'
  id: totrans-395
  prefs: []
  type: TYPE_NORMAL
  zh: 字段：性别
- en: 'Type: enum(''M'',''F'')'
  id: totrans-396
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：enum（'M'，'F'）
- en: 'Null: NO'
  id: totrans-397
  prefs: []
  type: TYPE_NORMAL
  zh: 空值：否
- en: 'Key:'
  id: totrans-398
  prefs: []
  type: TYPE_NORMAL
  zh: 关键：
- en: 'Default: NULL'
  id: totrans-399
  prefs: []
  type: TYPE_NORMAL
  zh: 默认值：NULL
- en: 'Extra:'
  id: totrans-400
  prefs: []
  type: TYPE_NORMAL
  zh: 额外：
- en: '*************************** 6\. row ***************************'
  id: totrans-401
  prefs: []
  type: TYPE_NORMAL
  zh: '*************************** 6\. 行 ***************************'
- en: 'Field: hire_date'
  id: totrans-402
  prefs: []
  type: TYPE_NORMAL
  zh: 字段：雇佣日期
- en: 'Type: date'
  id: totrans-403
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：日期
- en: 'Null: NO'
  id: totrans-404
  prefs: []
  type: TYPE_NORMAL
  zh: 空值：否
- en: 'Key:'
  id: totrans-405
  prefs: []
  type: TYPE_NORMAL
  zh: 关键：
- en: 'Default: NULL'
  id: totrans-406
  prefs: []
  type: TYPE_NORMAL
  zh: 默认值：NULL
- en: 'Extra:'
  id: totrans-407
  prefs: []
  type: TYPE_NORMAL
  zh: 额外：
- en: 6 rows in set (0.00 sec)
  id: totrans-408
  prefs: []
  type: TYPE_NORMAL
  zh: 共6行（0.00秒）
- en: '[PRE43]'
  id: totrans-409
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: mysql> SELECT * FROM departments;
  id: totrans-410
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 从departments中选择*;
- en: +---------+--------------------+
  id: totrans-411
  prefs: []
  type: TYPE_NORMAL
  zh: +---------+--------------------+
- en: '| dept_no | dept_name          |'
  id: totrans-412
  prefs: []
  type: TYPE_TB
  zh: '| dept_no | 部门名称          |'
- en: +---------+--------------------+
  id: totrans-413
  prefs: []
  type: TYPE_NORMAL
  zh: +---------+--------------------+
- en: '| d009    | Customer Service   |'
  id: totrans-414
  prefs: []
  type: TYPE_TB
  zh: '| d009    | 客户服务   |'
- en: '| d005    | Development        |'
  id: totrans-415
  prefs: []
  type: TYPE_TB
  zh: '| d005    | 开发        |'
- en: '| d002    | Finance            |'
  id: totrans-416
  prefs: []
  type: TYPE_TB
  zh: '| d002    | 财务            |'
- en: '| d003    | Human Resources    |'
  id: totrans-417
  prefs: []
  type: TYPE_TB
  zh: '| d003    | 人力资源    |'
- en: '| d001    | Marketing          |'
  id: totrans-418
  prefs: []
  type: TYPE_TB
  zh: '| d001    | 营销          |'
- en: '| d004    | Production         |'
  id: totrans-419
  prefs: []
  type: TYPE_TB
  zh: '| d004    | 生产         |'
- en: '| d006    | Quality Management |'
  id: totrans-420
  prefs: []
  type: TYPE_TB
  zh: '| d006    | 质量管理 |'
- en: '| d008    | Research           |'
  id: totrans-421
  prefs: []
  type: TYPE_TB
  zh: '| d008    | 研究           |'
- en: '| d007    | Sales              |'
  id: totrans-422
  prefs: []
  type: TYPE_TB
  zh: '| d007    | 销售              |'
- en: +---------+--------------------+
  id: totrans-423
  prefs: []
  type: TYPE_NORMAL
  zh: +---------+--------------------+
- en: 9 rows in set (0.00 sec)
  id: totrans-424
  prefs: []
  type: TYPE_NORMAL
  zh: 9行设置（0.00秒）
- en: '[PRE44]'
  id: totrans-425
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: mysql> SELECT emp_no, dept_no FROM dept_manager;
  id: totrans-426
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 选择emp_no, dept_no FROM dept_manager;
- en: +--------+---------+
  id: totrans-427
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+---------+
- en: '| emp_no | dept_no |'
  id: totrans-428
  prefs: []
  type: TYPE_TB
  zh: '| emp_no | dept_no |'
- en: +--------+---------+
  id: totrans-429
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+---------+
- en: '| 110022 | d001    |'
  id: totrans-430
  prefs: []
  type: TYPE_TB
  zh: '| 110022 | d001    |'
- en: '| 110039 | d001    |'
  id: totrans-431
  prefs: []
  type: TYPE_TB
  zh: '| 110039 | d001    |'
- en: '| 110085 | d002    |'
  id: totrans-432
  prefs: []
  type: TYPE_TB
  zh: '| 110085 | d002    |'
- en: '| 110114 | d002    |'
  id: totrans-433
  prefs: []
  type: TYPE_TB
  zh: '| 110114 | d002    |'
- en: '| 110183 | d003    |'
  id: totrans-434
  prefs: []
  type: TYPE_TB
  zh: '| 110183 | d003    |'
- en: '| 110228 | d003    |'
  id: totrans-435
  prefs: []
  type: TYPE_TB
  zh: '| 110228 | d003    |'
- en: '| 110303 | d004    |'
  id: totrans-436
  prefs: []
  type: TYPE_TB
  zh: '| 110303 | d004    |'
- en: '| 110344 | d004    |'
  id: totrans-437
  prefs: []
  type: TYPE_TB
  zh: '| 110344 | d004    |'
- en: '| 110386 | d004    |'
  id: totrans-438
  prefs: []
  type: TYPE_TB
  zh: '| 110386 | d004    |'
- en: '| 110420 | d004    |'
  id: totrans-439
  prefs: []
  type: TYPE_TB
  zh: '| 110420 | d004    |'
- en: '| 110511 | d005    |'
  id: totrans-440
  prefs: []
  type: TYPE_TB
  zh: '| 110511 | d005    |'
- en: '| 110567 | d005    |'
  id: totrans-441
  prefs: []
  type: TYPE_TB
  zh: '| 110567 | d005    |'
- en: '| 110725 | d006    |'
  id: totrans-442
  prefs: []
  type: TYPE_TB
  zh: '| 110725 | d006    |'
- en: '| 110765 | d006    |'
  id: totrans-443
  prefs: []
  type: TYPE_TB
  zh: '| 110765 | d006    |'
- en: '| 110800 | d006    |'
  id: totrans-444
  prefs: []
  type: TYPE_TB
  zh: '| 110800 | d006    |'
- en: '| 110854 | d006    |'
  id: totrans-445
  prefs: []
  type: TYPE_TB
  zh: '| 110854 | d006    |'
- en: '| 111035 | d007    |'
  id: totrans-446
  prefs: []
  type: TYPE_TB
  zh: '| 111035 | d007    |'
- en: '| 111133 | d007    |'
  id: totrans-447
  prefs: []
  type: TYPE_TB
  zh: '| 111133 | d007    |'
- en: '| 111400 | d008    |'
  id: totrans-448
  prefs: []
  type: TYPE_TB
  zh: '| 111400 | d008    |'
- en: '| 111534 | d008    |'
  id: totrans-449
  prefs: []
  type: TYPE_TB
  zh: '| 111534 | d008    |'
- en: '| 111692 | d009    |'
  id: totrans-450
  prefs: []
  type: TYPE_TB
  zh: '| 111692 | d009    |'
- en: '| 111784 | d009    |'
  id: totrans-451
  prefs: []
  type: TYPE_TB
  zh: '| 111784 | d009    |'
- en: '| 111877 | d009    |'
  id: totrans-452
  prefs: []
  type: TYPE_TB
  zh: '| 111877 | d009    |'
- en: '| 111939 | d009    |'
  id: totrans-453
  prefs: []
  type: TYPE_TB
  zh: '| 111939 | d009    |'
- en: +--------+---------+
  id: totrans-454
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+---------+
- en: 24 rows in set (0.00 sec)
  id: totrans-455
  prefs: []
  type: TYPE_NORMAL
  zh: 24行设置（0.00秒）
- en: '[PRE45]'
  id: totrans-456
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: mysql> SELECT COUNT(*) FROM employees;
  id: totrans-457
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 从员工中选择COUNT(*) ;
- en: +----------+
  id: totrans-458
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: '| COUNT(*) |'
  id: totrans-459
  prefs: []
  type: TYPE_TB
  zh: '| COUNT(*) |'
- en: +----------+
  id: totrans-460
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: '|   300024 |'
  id: totrans-461
  prefs: []
  type: TYPE_TB
  zh: '|   300024 |'
- en: +----------+
  id: totrans-462
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: 1 row in set (0.03 sec)
  id: totrans-463
  prefs: []
  type: TYPE_NORMAL
  zh: 1行设置（0.03秒）
- en: '[PRE46]'
  id: totrans-464
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: mysql> SELECT emp_no FROM employees WHERE first_name='Georgi' AND last_name='Facello';
  id: totrans-465
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 从员工中选择emp_no WHERE first_name='Georgi' AND last_name='Facello';
- en: +--------+
  id: totrans-466
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+
- en: '| emp_no |'
  id: totrans-467
  prefs: []
  type: TYPE_TB
  zh: '| emp_no |'
- en: +--------+
  id: totrans-468
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+
- en: '|  10001 |'
  id: totrans-469
  prefs: []
  type: TYPE_TB
  zh: '|  10001 |'
- en: '|  55649 |'
  id: totrans-470
  prefs: []
  type: TYPE_TB
  zh: '|  55649 |'
- en: +--------+
  id: totrans-471
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+
- en: 2 rows in set (0.08 sec)
  id: totrans-472
  prefs: []
  type: TYPE_NORMAL
  zh: 2行设置（0.08秒）
- en: '[PRE47]'
  id: totrans-473
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: mysql> SELECT COUNT(*) FROM employees WHERE last_name IN ('Christ', 'Lamba',
    'Baba');
  id: totrans-474
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 从员工中选择COUNT(*) WHERE last_name IN ('Christ', 'Lamba', 'Baba');
- en: +----------+
  id: totrans-475
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: '| COUNT(*) |'
  id: totrans-476
  prefs: []
  type: TYPE_TB
  zh: '| COUNT(*) |'
- en: +----------+
  id: totrans-477
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: '|      626 |'
  id: totrans-478
  prefs: []
  type: TYPE_TB
  zh: '|      626 |'
- en: +----------+
  id: totrans-479
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: 1 row in set (0.08 sec)
  id: totrans-480
  prefs: []
  type: TYPE_NORMAL
  zh: 1行设置（0.08秒）
- en: '[PRE48]'
  id: totrans-481
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: mysql> SELECT COUNT(*) FROM employees WHERE hire_date BETWEEN '1986-12-01' AND
    '1986-12-31';
  id: totrans-482
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 从员工中选择COUNT(*) WHERE hire_date BETWEEN '1986-12-01' AND '1986-12-31';
- en: +----------+
  id: totrans-483
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: '| COUNT(*) |'
  id: totrans-484
  prefs: []
  type: TYPE_TB
  zh: '| COUNT(*) |'
- en: +----------+
  id: totrans-485
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: '|     3081 |'
  id: totrans-486
  prefs: []
  type: TYPE_TB
  zh: '|     3081 |'
- en: +----------+
  id: totrans-487
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: 1 row in set (0.06 sec)
  id: totrans-488
  prefs: []
  type: TYPE_NORMAL
  zh: 1行设置（0.06秒）
- en: '[PRE49]'
  id: totrans-489
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: mysql> SELECT COUNT(*) FROM employees WHERE hire_date NOT BETWEEN '1986-12-01'
    AND '1986-12-31';
  id: totrans-490
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 从员工中选择COUNT(*) WHERE hire_date NOT BETWEEN '1986-12-01' AND '1986-12-31';
- en: +----------+
  id: totrans-491
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: '| COUNT(*) |'
  id: totrans-492
  prefs: []
  type: TYPE_TB
  zh: '| COUNT(*) |'
- en: +----------+
  id: totrans-493
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: '|   296943 |'
  id: totrans-494
  prefs: []
  type: TYPE_TB
  zh: '|   296943 |'
- en: +----------+
  id: totrans-495
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: 1 row in set (0.08 sec)
  id: totrans-496
  prefs: []
  type: TYPE_NORMAL
  zh: 1行设置（0.08秒）
- en: '[PRE50]'
  id: totrans-497
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: mysql> SELECT COUNT(*) FROM employees WHERE first_name LIKE 'christ%';
  id: totrans-498
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 从员工中选择COUNT(*) WHERE first_name LIKE 'christ%';
- en: +----------+
  id: totrans-499
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: '| COUNT(*) |'
  id: totrans-500
  prefs: []
  type: TYPE_TB
  zh: '| COUNT(*) |'
- en: +----------+
  id: totrans-501
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: '|     1157 |'
  id: totrans-502
  prefs: []
  type: TYPE_TB
  zh: '|     1157 |'
- en: +----------+
  id: totrans-503
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: 1 row in set (0.06 sec)
  id: totrans-504
  prefs: []
  type: TYPE_NORMAL
  zh: 1行设置（0.06秒）
- en: '[PRE51]'
  id: totrans-505
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: mysql> SELECT COUNT(*) FROM employees WHERE first_name LIKE 'christ%ed';
  id: totrans-506
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 从员工中选择COUNT(*) WHERE first_name LIKE 'christ%ed';
- en: +----------+
  id: totrans-507
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: '| COUNT(*) |'
  id: totrans-508
  prefs: []
  type: TYPE_TB
  zh: '| COUNT(*) |'
- en: +----------+
  id: totrans-509
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: '|      228 |'
  id: totrans-510
  prefs: []
  type: TYPE_TB
  zh: '|      228 |'
- en: +----------+
  id: totrans-511
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: 1 row in set (0.06 sec)
  id: totrans-512
  prefs: []
  type: TYPE_NORMAL
  zh: 1行设置（0.06秒）
- en: '[PRE52]'
  id: totrans-513
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: mysql> SELECT COUNT(*) FROM employees WHERE first_name LIKE '%sri%';
  id: totrans-514
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 从员工中选择COUNT(*) WHERE first_name LIKE '%sri%';
- en: +----------+
  id: totrans-515
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: '| COUNT(*) |'
  id: totrans-516
  prefs: []
  type: TYPE_TB
  zh: '| COUNT(*) |'
- en: +----------+
  id: totrans-517
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: '|      253 |'
  id: totrans-518
  prefs: []
  type: TYPE_TB
  zh: '|      253 |'
- en: +----------+
  id: totrans-519
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: 1 row in set (0.08 sec)
  id: totrans-520
  prefs: []
  type: TYPE_NORMAL
  zh: 1行设置（0.08秒）
- en: '[PRE53]'
  id: totrans-521
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: mysql> SELECT COUNT(*) FROM employees WHERE first_name LIKE '%er';
  id: totrans-522
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 从员工中选择COUNT(*) WHERE first_name LIKE '%er';
- en: +----------+
  id: totrans-523
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: '| COUNT(*) |'
  id: totrans-524
  prefs: []
  type: TYPE_TB
  zh: '| COUNT(*) |'
- en: +----------+
  id: totrans-525
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: '|     5388 |'
  id: totrans-526
  prefs: []
  type: TYPE_TB
  zh: '|     5388 |'
- en: +----------+
  id: totrans-527
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: 1 row in set (0.08 sec)
  id: totrans-528
  prefs: []
  type: TYPE_NORMAL
  zh: 1行设置（0.08秒）
- en: '[PRE54]'
  id: totrans-529
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: mysql> SELECT COUNT(*) FROM employees WHERE first_name LIKE '__ka%';
  id: totrans-530
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 从员工中选择COUNT(*) WHERE first_name LIKE '__ka%';
- en: +----------+
  id: totrans-531
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: '| COUNT(*) |'
  id: totrans-532
  prefs: []
  type: TYPE_TB
  zh: '| COUNT(*) |'
- en: +----------+
  id: totrans-533
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: '|     1918 |'
  id: totrans-534
  prefs: []
  type: TYPE_TB
  zh: '|     1918 |'
- en: +----------+
  id: totrans-535
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: 1 row in set (0.06 sec)
  id: totrans-536
  prefs: []
  type: TYPE_NORMAL
  zh: 1行设置（0.06秒）
- en: '[PRE55]'
  id: totrans-537
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: mysql> SELECT COUNT(*) FROM employees WHERE first_name RLIKE '^christ';
  id: totrans-538
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 从员工中选择COUNT(*) WHERE first_name RLIKE '^christ';
- en: +----------+
  id: totrans-539
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: '| COUNT(*) |'
  id: totrans-540
  prefs: []
  type: TYPE_TB
  zh: '| COUNT(*) |'
- en: +----------+
  id: totrans-541
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: '|     1157 |'
  id: totrans-542
  prefs: []
  type: TYPE_TB
  zh: '|     1157 |'
- en: +----------+
  id: totrans-543
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: 1 row in set (0.18 sec)
  id: totrans-544
  prefs: []
  type: TYPE_NORMAL
  zh: 1行设置（0.18秒）
- en: '[PRE56]'
  id: totrans-545
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: mysql> SELECT COUNT(*) FROM employees WHERE last_name REGEXP 'ba$';
  id: totrans-546
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 从员工中选择COUNT(*) WHERE last_name REGEXP 'ba$';
- en: +----------+
  id: totrans-547
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: '| COUNT(*) |'
  id: totrans-548
  prefs: []
  type: TYPE_TB
  zh: '| COUNT(*) |'
- en: +----------+
  id: totrans-549
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: '|     1008 |'
  id: totrans-550
  prefs: []
  type: TYPE_TB
  zh: '|     1008 |'
- en: +----------+
  id: totrans-551
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: 1 row in set (0.15 sec)
  id: totrans-552
  prefs: []
  type: TYPE_NORMAL
  zh: 1行设置（0.15秒）
- en: '[PRE57]'
  id: totrans-553
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: mysql> SELECT COUNT(*) FROM employees WHERE last_name NOT REGEXP '[aeiou]';
  id: totrans-554
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 从员工中选择COUNT(*) WHERE last_name NOT REGEXP '[aeiou]';
- en: +----------+
  id: totrans-555
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: '| COUNT(*) |'
  id: totrans-556
  prefs: []
  type: TYPE_TB
  zh: '| COUNT(*) |'
- en: +----------+
  id: totrans-557
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: '|      148 |'
  id: totrans-558
  prefs: []
  type: TYPE_TB
  zh: '|      148 |'
- en: +----------+
  id: totrans-559
  prefs: []
  type: TYPE_NORMAL
  zh: +----------+
- en: 1 row in set (0.11 sec)
  id: totrans-560
  prefs: []
  type: TYPE_NORMAL
  zh: 1行设置（0.11秒）
- en: '[PRE58]'
  id: totrans-561
  prefs: []
  type: TYPE_PRE
  zh: '[PRE58]'
- en: mysql> SELECT first_name, last_name FROM employees WHERE hire_date < '1986-01-01'
    LIMIT 10;
  id: totrans-562
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 选择first_name, last_name FROM employees WHERE hire_date < '1986-01-01'
    LIMIT 10;
- en: +------------+------------+
  id: totrans-563
  prefs: []
  type: TYPE_NORMAL
  zh: +------------+------------+
- en: '| first_name | last_name  |'
  id: totrans-564
  prefs: []
  type: TYPE_TB
  zh: '| first_name | last_name  |'
- en: +------------+------------+
  id: totrans-565
  prefs: []
  type: TYPE_NORMAL
  zh: +------------+------------+
- en: '| Bezalel    | Simmel     |'
  id: totrans-566
  prefs: []
  type: TYPE_TB
  zh: '| Bezalel    | Simmel     |'
- en: '| Sumant     | Peac       |'
  id: totrans-567
  prefs: []
  type: TYPE_TB
  zh: '| Sumant     | Peac       |'
- en: '| Eberhardt  | Terkki     |'
  id: totrans-568
  prefs: []
  type: TYPE_TB
  zh: '| Eberhardt  | Terkki     |'
- en: '| Otmar      | Herbst     |'
  id: totrans-569
  prefs: []
  type: TYPE_TB
  zh: '| Otmar      | Herbst     |'
- en: '| Florian    | Syrotiuk   |'
  id: totrans-570
  prefs: []
  type: TYPE_TB
  zh: '| Florian    | Syrotiuk   |'
- en: '| Tse        | Herber     |'
  id: totrans-571
  prefs: []
  type: TYPE_TB
  zh: '| Tse        | Herber     |'
- en: '| Udi        | Jansch     |'
  id: totrans-572
  prefs: []
  type: TYPE_TB
  zh: '| Udi        | Jansch     |'
- en: '| Reuven     | Garigliano |'
  id: totrans-573
  prefs: []
  type: TYPE_TB
  zh: '| Reuven     | Garigliano |'
- en: '| Erez       | Ritzmann   |'
  id: totrans-574
  prefs: []
  type: TYPE_TB
  zh: '| Erez       | Ritzmann   |'
- en: '| Premal     | Baek       |'
  id: totrans-575
  prefs: []
  type: TYPE_TB
  zh: '| Premal     | Baek       |'
- en: +------------+------------+
  id: totrans-576
  prefs: []
  type: TYPE_NORMAL
  zh: +------------+------------+
- en: 10 rows in set (0.00 sec)
  id: totrans-577
  prefs: []
  type: TYPE_NORMAL
  zh: 10行设置（0.00秒）
- en: '[PRE59]'
  id: totrans-578
  prefs: []
  type: TYPE_PRE
  zh: '[PRE59]'
- en: mysql> SELECT COUNT(*) AS count FROM employees WHERE hire_date BETWEEN '1986-12-01'
    AND '1986-12-31';
  id: totrans-579
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 从员工中选择COUNT(*) AS count WHERE hire_date BETWEEN '1986-12-01' AND '1986-12-31';
- en: +-------+
  id: totrans-580
  prefs: []
  type: TYPE_NORMAL
  zh: +-------+
- en: '| count |'
  id: totrans-581
  prefs: []
  type: TYPE_TB
  zh: '| count |'
- en: +-------+
  id: totrans-582
  prefs: []
  type: TYPE_NORMAL
  zh: +-------+
- en: '|  3081 |'
  id: totrans-583
  prefs: []
  type: TYPE_TB
  zh: '|  3081 |'
- en: +-------+
  id: totrans-584
  prefs: []
  type: TYPE_NORMAL
  zh: +-------+
- en: 1 row in set (0.06 sec)
  id: totrans-585
  prefs: []
  type: TYPE_NORMAL
  zh: 1行设置（0.06秒）
- en: '[PRE60]'
  id: totrans-586
  prefs: []
  type: TYPE_PRE
  zh: '[PRE60]'
- en: mysql> SELECT emp_no,salary FROM salaries ORDER BY salary DESC LIMIT 5;
  id: totrans-587
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 选择emp_no,salary FROM salaries ORDER BY salary DESC LIMIT 5;
- en: +--------+--------+
  id: totrans-588
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+--------+
- en: '| emp_no | salary |'
  id: totrans-589
  prefs: []
  type: TYPE_TB
  zh: '| emp_no | salary |'
- en: +--------+--------+
  id: totrans-590
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+--------+
- en: '|  43624 | 158220 |'
  id: totrans-591
  prefs: []
  type: TYPE_TB
  zh: '|  43624 | 158220 |'
- en: '|  43624 | 157821 |'
  id: totrans-592
  prefs: []
  type: TYPE_TB
  zh: '|  43624 | 157821 |'
- en: '| 254466 | 156286 |'
  id: totrans-593
  prefs: []
  type: TYPE_TB
  zh: '| 254466 | 156286 |'
- en: '|  47978 | 155709 |'
  id: totrans-594
  prefs: []
  type: TYPE_TB
  zh: '|  47978 | 155709 |'
- en: '| 253939 | 155513 |'
  id: totrans-595
  prefs: []
  type: TYPE_TB
  zh: '| 253939 | 155513 |'
- en: +--------+--------+
  id: totrans-596
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+--------+
- en: 5 rows in set (0.74 sec)
  id: totrans-597
  prefs: []
  type: TYPE_NORMAL
  zh: 5行设置（0.74秒）
- en: '[PRE61]'
  id: totrans-598
  prefs: []
  type: TYPE_PRE
  zh: '[PRE61]'
- en: mysql> SELECT emp_no,salary FROM salaries ORDER BY 2 DESC LIMIT 5;
  id: totrans-599
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SELECT emp_no,salary FROM salaries ORDER BY 2 DESC LIMIT 5;
- en: +--------+--------+
  id: totrans-600
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+--------+
- en: '| emp_no | salary |'
  id: totrans-601
  prefs: []
  type: TYPE_TB
  zh: '| emp_no | salary |'
- en: +--------+--------+
  id: totrans-602
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+--------+
- en: '|  43624 | 158220 |'
  id: totrans-603
  prefs: []
  type: TYPE_TB
  zh: '|  43624 | 158220 |'
- en: '|  43624 | 157821 |'
  id: totrans-604
  prefs: []
  type: TYPE_TB
  zh: '|  43624 | 157821 |'
- en: '| 254466 | 156286 |'
  id: totrans-605
  prefs: []
  type: TYPE_TB
  zh: '| 254466 | 156286 |'
- en: '|  47978 | 155709 |'
  id: totrans-606
  prefs: []
  type: TYPE_TB
  zh: '|  47978 | 155709 |'
- en: '| 253939 | 155513 |'
  id: totrans-607
  prefs: []
  type: TYPE_TB
  zh: '| 253939 | 155513 |'
- en: +--------+--------+
  id: totrans-608
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+--------+
- en: 5 rows in set (0.78 sec)
  id: totrans-609
  prefs: []
  type: TYPE_NORMAL
  zh: 5 rows in set (0.78 sec)
- en: '[PRE62]'
  id: totrans-610
  prefs: []
  type: TYPE_PRE
  zh: '[PRE62]'
- en: mysql> SELECT gender, COUNT(*) AS count FROM employees GROUP BY gender;
  id: totrans-611
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SELECT gender, COUNT(*) AS count FROM employees GROUP BY gender;
- en: +--------+--------+
  id: totrans-612
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+--------+
- en: '| gender | count  |'
  id: totrans-613
  prefs: []
  type: TYPE_TB
  zh: '| gender | count  |'
- en: +--------+--------+
  id: totrans-614
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+--------+
- en: '| M      | 179973 |'
  id: totrans-615
  prefs: []
  type: TYPE_TB
  zh: '| M      | 179973 |'
- en: '| F      | 120051 |'
  id: totrans-616
  prefs: []
  type: TYPE_TB
  zh: '| F      | 120051 |'
- en: +--------+--------+
  id: totrans-617
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+--------+
- en: 2 rows in set (0.14 sec)
  id: totrans-618
  prefs: []
  type: TYPE_NORMAL
  zh: 2 rows in set (0.14 sec)
- en: '[PRE63]'
  id: totrans-619
  prefs: []
  type: TYPE_PRE
  zh: '[PRE63]'
- en: mysql> SELECT first_name, COUNT(first_name) AS count FROM employees GROUP BY
    first_name ORDER BY count DESC LIMIT 10;
  id: totrans-620
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SELECT first_name, COUNT(first_name) AS count FROM employees GROUP BY
    first_name ORDER BY count DESC LIMIT 10;
- en: +-------------+-------+
  id: totrans-621
  prefs: []
  type: TYPE_NORMAL
  zh: +-------------+-------+
- en: '| first_name  | count |'
  id: totrans-622
  prefs: []
  type: TYPE_TB
  zh: '| first_name  | count |'
- en: +-------------+-------+
  id: totrans-623
  prefs: []
  type: TYPE_NORMAL
  zh: +-------------+-------+
- en: '| Shahab      |   295 |'
  id: totrans-624
  prefs: []
  type: TYPE_TB
  zh: '| Shahab      |   295 |'
- en: '| Tetsushi    |   291 |'
  id: totrans-625
  prefs: []
  type: TYPE_TB
  zh: '| Tetsushi    |   291 |'
- en: '| Elgin       |   279 |'
  id: totrans-626
  prefs: []
  type: TYPE_TB
  zh: '| Elgin       |   279 |'
- en: '| Anyuan      |   278 |'
  id: totrans-627
  prefs: []
  type: TYPE_TB
  zh: '| Anyuan      |   278 |'
- en: '| Huican      |   276 |'
  id: totrans-628
  prefs: []
  type: TYPE_TB
  zh: '| Huican      |   276 |'
- en: '| Make        |   275 |'
  id: totrans-629
  prefs: []
  type: TYPE_TB
  zh: '| Make        |   275 |'
- en: '| Panayotis   |   272 |'
  id: totrans-630
  prefs: []
  type: TYPE_TB
  zh: '| Panayotis   |   272 |'
- en: '| Sreekrishna |   272 |'
  id: totrans-631
  prefs: []
  type: TYPE_TB
  zh: '| Sreekrishna |   272 |'
- en: '| Hatem       |   271 |'
  id: totrans-632
  prefs: []
  type: TYPE_TB
  zh: '| Hatem       |   271 |'
- en: '| Giri        |   270 |'
  id: totrans-633
  prefs: []
  type: TYPE_TB
  zh: '| Giri        |   270 |'
- en: +-------------+-------+
  id: totrans-634
  prefs: []
  type: TYPE_NORMAL
  zh: +-------------+-------+
- en: 10 rows in set (0.21 sec)
  id: totrans-635
  prefs: []
  type: TYPE_NORMAL
  zh: 10 rows in set (0.21 sec)
- en: '[PRE64]'
  id: totrans-636
  prefs: []
  type: TYPE_PRE
  zh: '[PRE64]'
- en: mysql> SELECT '2017-06-12', YEAR('2017-06-12');
  id: totrans-637
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SELECT '2017-06-12', YEAR('2017-06-12');
- en: +------------+--------------------+
  id: totrans-638
  prefs: []
  type: TYPE_NORMAL
  zh: +------------+--------------------+
- en: '| 2017-06-12 | YEAR(''2017-06-12'') |'
  id: totrans-639
  prefs: []
  type: TYPE_TB
  zh: '| 2017-06-12 | YEAR(''2017-06-12'') |'
- en: +------------+--------------------+
  id: totrans-640
  prefs: []
  type: TYPE_NORMAL
  zh: +------------+--------------------+
- en: '| 2017-06-12 |               2017 |'
  id: totrans-641
  prefs: []
  type: TYPE_TB
  zh: '| 2017-06-12 |               2017 |'
- en: +------------+--------------------+
  id: totrans-642
  prefs: []
  type: TYPE_NORMAL
  zh: +------------+--------------------+
- en: 1 row in set (0.00 sec)
  id: totrans-643
  prefs: []
  type: TYPE_NORMAL
  zh: 1 row in set (0.00 sec)
- en: '[PRE65]'
  id: totrans-644
  prefs: []
  type: TYPE_PRE
  zh: '[PRE65]'
- en: mysql>  SELECT YEAR(from_date), SUM(salary) AS sum FROM salaries GROUP BY YEAR(from_date)
    ORDER BY sum DESC;
  id: totrans-645
  prefs: []
  type: TYPE_NORMAL
  zh: mysql>  SELECT YEAR(from_date), SUM(salary) AS sum FROM salaries GROUP BY YEAR(from_date)
    ORDER BY sum DESC;
- en: +-----------------+-------------+
  id: totrans-646
  prefs: []
  type: TYPE_NORMAL
  zh: +-----------------+-------------+
- en: '| YEAR(from_date) | sum         |'
  id: totrans-647
  prefs: []
  type: TYPE_TB
  zh: '| YEAR(from_date) | sum         |'
- en: +-----------------+-------------+
  id: totrans-648
  prefs: []
  type: TYPE_NORMAL
  zh: +-----------------+-------------+
- en: '|            2000 | 17535667603 |'
  id: totrans-649
  prefs: []
  type: TYPE_TB
  zh: '|            2000 | 17535667603 |'
- en: '|            2001 | 17507737308 |'
  id: totrans-650
  prefs: []
  type: TYPE_TB
  zh: '|            2001 | 17507737308 |'
- en: '|            1999 | 17360258862 |'
  id: totrans-651
  prefs: []
  type: TYPE_TB
  zh: '|            1999 | 17360258862 |'
- en: '|            1998 | 16220495471 |'
  id: totrans-652
  prefs: []
  type: TYPE_TB
  zh: '|            1998 | 16220495471 |'
- en: '|            1997 | 15056011781 |'
  id: totrans-653
  prefs: []
  type: TYPE_TB
  zh: '|            1997 | 15056011781 |'
- en: '|            1996 | 13888587737 |'
  id: totrans-654
  prefs: []
  type: TYPE_TB
  zh: '|            1996 | 13888587737 |'
- en: '|            1995 | 12638817464 |'
  id: totrans-655
  prefs: []
  type: TYPE_TB
  zh: '|            1995 | 12638817464 |'
- en: '|            1994 | 11429450113 |'
  id: totrans-656
  prefs: []
  type: TYPE_TB
  zh: '|            1994 | 11429450113 |'
- en: '|            2002 | 10243347616 |'
  id: totrans-657
  prefs: []
  type: TYPE_TB
  zh: '|            2002 | 10243347616 |'
- en: '|            1993 | 10215059054 |'
  id: totrans-658
  prefs: []
  type: TYPE_TB
  zh: '|            1993 | 10215059054 |'
- en: '|            1992 |  9027872610 |'
  id: totrans-659
  prefs: []
  type: TYPE_TB
  zh: '|            1992 |  9027872610 |'
- en: '|            1991 |  7798804412 |'
  id: totrans-660
  prefs: []
  type: TYPE_TB
  zh: '|            1991 |  7798804412 |'
- en: '|            1990 |  6626146391 |'
  id: totrans-661
  prefs: []
  type: TYPE_TB
  zh: '|            1990 |  6626146391 |'
- en: '|            1989 |  5454260439 |'
  id: totrans-662
  prefs: []
  type: TYPE_TB
  zh: '|            1989 |  5454260439 |'
- en: '|            1988 |  4295598688 |'
  id: totrans-663
  prefs: []
  type: TYPE_TB
  zh: '|            1988 |  4295598688 |'
- en: '|            1987 |  3156881054 |'
  id: totrans-664
  prefs: []
  type: TYPE_TB
  zh: '|            1987 |  3156881054 |'
- en: '|            1986 |  2052895941 |'
  id: totrans-665
  prefs: []
  type: TYPE_TB
  zh: '|            1986 |  2052895941 |'
- en: '|            1985 |   972864875 |'
  id: totrans-666
  prefs: []
  type: TYPE_TB
  zh: '|            1985 |   972864875 |'
- en: +-----------------+-------------+
  id: totrans-667
  prefs: []
  type: TYPE_NORMAL
  zh: +-----------------+-------------+
- en: 18 rows in set (1.47 sec)
  id: totrans-668
  prefs: []
  type: TYPE_NORMAL
  zh: 18 rows in set (1.47 sec)
- en: '[PRE66]'
  id: totrans-669
  prefs: []
  type: TYPE_PRE
  zh: '[PRE66]'
- en: mysql>  SELECT emp_no, AVG(salary) AS avg FROM salaries GROUP BY emp_no ORDER
    BY avg DESC LIMIT 10;
  id: totrans-670
  prefs: []
  type: TYPE_NORMAL
  zh: mysql>  SELECT emp_no, AVG(salary) AS avg FROM salaries GROUP BY emp_no ORDER
    BY avg DESC LIMIT 10;
- en: +--------+-------------+
  id: totrans-671
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+-------------+
- en: '| emp_no | avg         |'
  id: totrans-672
  prefs: []
  type: TYPE_TB
  zh: '| emp_no | avg         |'
- en: +--------+-------------+
  id: totrans-673
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+-------------+
- en: '| 109334 | 141835.3333 |'
  id: totrans-674
  prefs: []
  type: TYPE_TB
  zh: '| 109334 | 141835.3333 |'
- en: '| 205000 | 141064.6364 |'
  id: totrans-675
  prefs: []
  type: TYPE_TB
  zh: '| 205000 | 141064.6364 |'
- en: '|  43624 | 138492.9444 |'
  id: totrans-676
  prefs: []
  type: TYPE_TB
  zh: '|  43624 | 138492.9444 |'
- en: '| 493158 | 138312.8750 |'
  id: totrans-677
  prefs: []
  type: TYPE_TB
  zh: '| 493158 | 138312.8750 |'
- en: '|  37558 | 138215.8571 |'
  id: totrans-678
  prefs: []
  type: TYPE_TB
  zh: '|  37558 | 138215.8571 |'
- en: '| 276633 | 136711.7333 |'
  id: totrans-679
  prefs: []
  type: TYPE_TB
  zh: '| 276633 | 136711.7333 |'
- en: '| 238117 | 136026.2000 |'
  id: totrans-680
  prefs: []
  type: TYPE_TB
  zh: '| 238117 | 136026.2000 |'
- en: '|  46439 | 135747.7333 |'
  id: totrans-681
  prefs: []
  type: TYPE_TB
  zh: '|  46439 | 135747.7333 |'
- en: '| 254466 | 135541.0625 |'
  id: totrans-682
  prefs: []
  type: TYPE_TB
  zh: '| 254466 | 135541.0625 |'
- en: '| 253939 | 135042.2500 |'
  id: totrans-683
  prefs: []
  type: TYPE_TB
  zh: '| 253939 | 135042.2500 |'
- en: +--------+-------------+
  id: totrans-684
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+-------------+
- en: 10 rows in set (0.91 sec
  id: totrans-685
  prefs: []
  type: TYPE_NORMAL
  zh: 10 rows in set (0.91 sec
- en: '[PRE67]'
  id: totrans-686
  prefs: []
  type: TYPE_PRE
  zh: '[PRE67]'
- en: mysql> SELECT DISTINCT title FROM titles;
  id: totrans-687
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SELECT DISTINCT title FROM titles;
- en: +--------------------+
  id: totrans-688
  prefs: []
  type: TYPE_NORMAL
  zh: +--------------------+
- en: '| title              |'
  id: totrans-689
  prefs: []
  type: TYPE_TB
  zh: '| title              |'
- en: +--------------------+
  id: totrans-690
  prefs: []
  type: TYPE_NORMAL
  zh: +--------------------+
- en: '| Senior Engineer    |'
  id: totrans-691
  prefs: []
  type: TYPE_TB
  zh: '| 高级工程师    |'
- en: '| Staff              |'
  id: totrans-692
  prefs: []
  type: TYPE_TB
  zh: '| 员工              |'
- en: '| Engineer           |'
  id: totrans-693
  prefs: []
  type: TYPE_TB
  zh: '| 工程师           |'
- en: '| Senior Staff       |'
  id: totrans-694
  prefs: []
  type: TYPE_TB
  zh: '| 高级员工       |'
- en: '| Assistant Engineer |'
  id: totrans-695
  prefs: []
  type: TYPE_TB
  zh: '| 助理工程师 |'
- en: '| Technique Leader   |'
  id: totrans-696
  prefs: []
  type: TYPE_TB
  zh: '| 技术领袖   |'
- en: '| Manager            |'
  id: totrans-697
  prefs: []
  type: TYPE_TB
  zh: '| 经理            |'
- en: +--------------------+
  id: totrans-698
  prefs: []
  type: TYPE_NORMAL
  zh: +--------------------+
- en: 7 rows in set (0.30 sec)
  id: totrans-699
  prefs: []
  type: TYPE_NORMAL
  zh: 7 rows in set (0.30 sec)
- en: '[PRE68]'
  id: totrans-700
  prefs: []
  type: TYPE_PRE
  zh: '[PRE68]'
- en: mysql>  SELECT emp_no, AVG(salary) AS avg FROM salaries GROUP BY emp_no HAVING
    avg > 140000 ORDER BY avg DESC;
  id: totrans-701
  prefs: []
  type: TYPE_NORMAL
  zh: mysql>  SELECT emp_no, AVG(salary) AS avg FROM salaries GROUP BY emp_no HAVING
    avg > 140000 ORDER BY avg DESC;
- en: +--------+-------------+
  id: totrans-702
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+-------------+
- en: '| emp_no | avg         |'
  id: totrans-703
  prefs: []
  type: TYPE_TB
  zh: '| emp_no | avg         |'
- en: +--------+-------------+
  id: totrans-704
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+-------------+
- en: '| 109334 | 141835.3333 |'
  id: totrans-705
  prefs: []
  type: TYPE_TB
  zh: '| 109334 | 141835.3333 |'
- en: '| 205000 | 141064.6364 |'
  id: totrans-706
  prefs: []
  type: TYPE_TB
  zh: '| 205000 | 141064.6364 |'
- en: +--------+-------------+
  id: totrans-707
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+-------------+
- en: 2 rows in set (0.80 sec)
  id: totrans-708
  prefs: []
  type: TYPE_NORMAL
  zh: 2 rows in set (0.80 sec)
- en: '[PRE69]'
  id: totrans-709
  prefs: []
  type: TYPE_PRE
  zh: '[PRE69]'
- en: mysql> CREATE USER IF NOT EXISTS 'company_read_only'@'localhost'
  id: totrans-710
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> CREATE USER IF NOT EXISTS 'company_read_only'@'localhost'
- en: IDENTIFIED WITH mysql_native_password
  id: totrans-711
  prefs: []
  type: TYPE_NORMAL
  zh: IDENTIFIED WITH mysql_native_password
- en: BY 'company_pass'
  id: totrans-712
  prefs: []
  type: TYPE_NORMAL
  zh: BY 'company_pass'
- en: WITH MAX_QUERIES_PER_HOUR 500
  id: totrans-713
  prefs: []
  type: TYPE_NORMAL
  zh: WITH MAX_QUERIES_PER_HOUR 500
- en: MAX_UPDATES_PER_HOUR 100;
  id: totrans-714
  prefs: []
  type: TYPE_NORMAL
  zh: MAX_UPDATES_PER_HOUR 100;
- en: '[PRE70]'
  id: totrans-715
  prefs: []
  type: TYPE_PRE
  zh: '[PRE70]'
- en: 'ERROR 1819 (HY000): Your password does not satisfy the current policy requirements'
  id: totrans-716
  prefs: []
  type: TYPE_NORMAL
  zh: 'ERROR 1819 (HY000): Your password does not satisfy the current policy requirements'
- en: '[PRE71]'
  id: totrans-717
  prefs: []
  type: TYPE_PRE
  zh: '[PRE71]'
- en: mysql> SELECT PASSWORD('company_pass');
  id: totrans-718
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SELECT PASSWORD('company_pass');
- en: +-------------------------------------------+
  id: totrans-719
  prefs: []
  type: TYPE_NORMAL
  zh: +-------------------------------------------+
- en: '|PASSWORD(''company_pass'')                   |'
  id: totrans-720
  prefs: []
  type: TYPE_NORMAL
  zh: '|PASSWORD(''company_pass'')                   |'
- en: +-------------------------------------------+
  id: totrans-721
  prefs: []
  type: TYPE_NORMAL
  zh: +-------------------------------------------+
- en: '| *EBD9E3BFD1489CA1EB0D2B4F29F6665F321E8C18 |'
  id: totrans-722
  prefs: []
  type: TYPE_TB
  zh: '| *EBD9E3BFD1489CA1EB0D2B4F29F6665F321E8C18 |'
- en: +-------------------------------------------+
  id: totrans-723
  prefs: []
  type: TYPE_NORMAL
  zh: +-------------------------------------------+
- en: 1 row in set, 1 warning (0.00 sec)
  id: totrans-724
  prefs: []
  type: TYPE_NORMAL
  zh: 1 row in set, 1 warning (0.00 sec)
- en: '[PRE72]'
  id: totrans-725
  prefs: []
  type: TYPE_PRE
  zh: '[PRE72]'
- en: mysql> CREATE USER IF NOT EXISTS 'company_read_only'@'localhost'
  id: totrans-726
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> CREATE USER IF NOT EXISTS 'company_read_only'@'localhost'
- en: IDENTIFIED WITH mysql_native_password
  id: totrans-727
  prefs: []
  type: TYPE_NORMAL
  zh: IDENTIFIED WITH mysql_native_password
- en: '[PRE73]'
  id: totrans-728
  prefs: []
  type: TYPE_PRE
  zh: '[PRE73]'
- en: AS '*EBD9E3BFD1489CA1EB0D2B4F29F6665F321E8C18'
  id: totrans-729
  prefs: []
  type: TYPE_NORMAL
  zh: AS '*EBD9E3BFD1489CA1EB0D2B4F29F6665F321E8C18'
- en: WITH MAX_QUERIES_PER_HOUR 500
  id: totrans-730
  prefs: []
  type: TYPE_NORMAL
  zh: WITH MAX_QUERIES_PER_HOUR 500
- en: MAX_UPDATES_PER_HOUR 100;
  id: totrans-731
  prefs: []
  type: TYPE_NORMAL
  zh: MAX_UPDATES_PER_HOUR 100;
- en: '[PRE74]'
  id: totrans-732
  prefs: []
  type: TYPE_PRE
  zh: '[PRE74]'
- en: mysql> GRANT SELECT ON company.* TO 'company_read_only'@'localhost';
  id: totrans-733
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> GRANT SELECT ON company.* TO 'company_read_only'@'localhost';
- en: Query OK, 0 rows affected (0.06 sec)
  id: totrans-734
  prefs: []
  type: TYPE_NORMAL
  zh: Query OK, 0 rows affected (0.06 sec)
- en: '[PRE75]'
  id: totrans-735
  prefs: []
  type: TYPE_PRE
  zh: '[PRE75]'
- en: mysql> GRANT INSERT ON company.* TO 'company_insert_only'@'localhost' IDENTIFIED
    BY 'xxxx';
  id: totrans-736
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> GRANT INSERT ON company.* TO 'company_insert_only'@'localhost' IDENTIFIED
    BY 'xxxx';
- en: Query OK, 0 rows affected, 1 warning (0.05 sec)
  id: totrans-737
  prefs: []
  type: TYPE_NORMAL
  zh: Query OK, 0 rows affected, 1 warning (0.05 sec)
- en: '[PRE76]'
  id: totrans-738
  prefs: []
  type: TYPE_PRE
  zh: '[PRE76]'
- en: mysql> SHOW WARNINGS\G
  id: totrans-739
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SHOW WARNINGS\G
- en: '*************************** 1\. row ***************************'
  id: totrans-740
  prefs: []
  type: TYPE_NORMAL
  zh: '*************************** 1\. 行 ***************************'
- en: 'Level: Warning'
  id: totrans-741
  prefs: []
  type: TYPE_NORMAL
  zh: 'Level: Warning'
- en: 'Code: 1287'
  id: totrans-742
  prefs: []
  type: TYPE_NORMAL
  zh: 'Code: 1287'
- en: 'Message: Using GRANT for creating new user is deprecated and will be removed
    in future release. Create new user with CREATE USER statement.'
  id: totrans-743
  prefs: []
  type: TYPE_NORMAL
  zh: 'Message: Using GRANT for creating new user is deprecated and will be removed
    in future release. Create new user with CREATE USER statement.'
- en: 1 row in set (0.00 sec)
  id: totrans-744
  prefs: []
  type: TYPE_NORMAL
  zh: 1 row in set (0.00 sec)
- en: '[PRE77]'
  id: totrans-745
  prefs: []
  type: TYPE_PRE
  zh: '[PRE77]'
- en: mysql> GRANT INSERT, DELETE, UPDATE ON company.* TO 'company_write'@'%' IDENTIFIED
    WITH mysql_native_password AS '*EBD9E3BFD1489CA1EB0D2B4F29F6665F321E8C18';
  id: totrans-746
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> GRANT INSERT, DELETE, UPDATE ON company.* TO 'company_write'@'%' IDENTIFIED
    WITH mysql_native_password AS '*EBD9E3BFD1489CA1EB0D2B4F29F6665F321E8C18';
- en: Query OK, 0 rows affected, 1 warning (0.04 sec)
  id: totrans-747
  prefs: []
  type: TYPE_NORMAL
  zh: Query OK, 0 rows affected, 1 warning (0.04 sec)
- en: '[PRE78]'
  id: totrans-748
  prefs: []
  type: TYPE_PRE
  zh: '[PRE78]'
- en: mysql> GRANT SELECT ON employees.employees TO 'employees_read_only'@'%' IDENTIFIED
    WITH mysql_native_password AS '*EBD9E3BFD1489CA1EB0D2B4F29F6665F321E8C18';
  id: totrans-749
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> GRANT SELECT ON employees.employees TO 'employees_read_only'@'%' IDENTIFIED
    WITH mysql_native_password AS '*EBD9E3BFD1489CA1EB0D2B4F29F6665F321E8C18';
- en: Query OK, 0 rows affected, 1 warning (0.03 sec)
  id: totrans-750
  prefs: []
  type: TYPE_NORMAL
  zh: Query OK, 0 rows affected, 1 warning (0.03 sec)
- en: '[PRE79]'
  id: totrans-751
  prefs: []
  type: TYPE_PRE
  zh: '[PRE79]'
- en: mysql> GRANT SELECT(first_name,last_name)  ON employees.employees TO 'employees_ro'@'%'
    IDENTIFIED WITH mysql_native_password AS '*EBD9E3BFD1489CA1EB0D2B4F29F6665F321E8C18';
  id: totrans-752
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> GRANT SELECT(first_name,last_name)  ON employees.employees TO 'employees_ro'@'%'
    IDENTIFIED WITH mysql_native_password AS '*EBD9E3BFD1489CA1EB0D2B4F29F6665F321E8C18';
- en: Query OK, 0 rows affected, 1 warning (0.06 sec)
  id: totrans-753
  prefs: []
  type: TYPE_NORMAL
  zh: Query OK, 0 rows affected, 1 warning (0.06 sec)
- en: '[PRE80]'
  id: totrans-754
  prefs: []
  type: TYPE_PRE
  zh: '[PRE80]'
- en: mysql> GRANT SELECT(salary) ON employees.salaries TO 'employees_ro'@'%';
  id: totrans-755
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> GRANT SELECT(salary) ON employees.salaries TO 'employees_ro'@'%';
- en: Query OK, 0 rows affected (0.00 sec)
  id: totrans-756
  prefs: []
  type: TYPE_NORMAL
  zh: Query OK, 0 rows affected (0.00 sec)
- en: '[PRE81]'
  id: totrans-757
  prefs: []
  type: TYPE_PRE
  zh: '[PRE81]'
- en: mysql> CREATE USER 'dbadmin'@'%' IDENTIFIED WITH mysql_native_password BY 'DB@dm1n';
  id: totrans-758
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> CREATE USER 'dbadmin'@'%' IDENTIFIED WITH mysql_native_password BY 'DB@dm1n';
- en: Query OK, 0 rows affected (0.01 sec)
  id: totrans-759
  prefs: []
  type: TYPE_NORMAL
  zh: Query OK, 0 rows affected (0.01 sec)
- en: '[PRE82]'
  id: totrans-760
  prefs: []
  type: TYPE_PRE
  zh: '[PRE82]'
- en: mysql> GRANT ALL ON *.* TO 'dbadmin'@'%';
  id: totrans-761
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> GRANT ALL ON *.* TO 'dbadmin'@'%';
- en: Query OK, 0 rows affected (0.01 sec)
  id: totrans-762
  prefs: []
  type: TYPE_NORMAL
  zh: Query OK, 0 rows affected (0.01 sec)
- en: '[PRE83]'
  id: totrans-763
  prefs: []
  type: TYPE_PRE
  zh: '[PRE83]'
- en: mysql> GRANT GRANT OPTION ON *.* TO 'dbadmin'@'%';
  id: totrans-764
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> GRANT GRANT OPTION ON *.* TO 'dbadmin'@'%';
- en: Query OK, 0 rows affected (0.03 sec)
  id: totrans-765
  prefs: []
  type: TYPE_NORMAL
  zh: Query OK, 0 rows affected (0.03 sec)
- en: '[PRE84]'
  id: totrans-766
  prefs: []
  type: TYPE_PRE
  zh: '[PRE84]'
- en: mysql> SHOW GRANTS FOR 'employees_ro'@'%'\G
  id: totrans-767
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SHOW GRANTS FOR 'employees_ro'@'%'\G
- en: '*************************** 1\. row ***************************'
  id: totrans-768
  prefs: []
  type: TYPE_NORMAL
  zh: '*************************** 1\. 行 ***************************'
- en: 'Grants for employees_ro@%: GRANT USAGE ON *.* TO `employees_ro`@`%`'
  id: totrans-769
  prefs: []
  type: TYPE_NORMAL
  zh: 'Grants for employees_ro@%: GRANT USAGE ON *.* TO `employees_ro`@`%`'
- en: '*************************** 2\. row ***************************'
  id: totrans-770
  prefs: []
  type: TYPE_NORMAL
  zh: '*************************** 2\. 行 ***************************'
- en: 'Grants for employees_ro@%: GRANT SELECT (`first_name`, `last_name`) ON `employees`.`employees`
    TO `employees_ro`@`%`'
  id: totrans-771
  prefs: []
  type: TYPE_NORMAL
  zh: 'Grants for employees_ro@%: GRANT SELECT (`first_name`, `last_name`) ON `employees`.`employees`
    TO `employees_ro`@`%`'
- en: '*************************** 3\. row ***************************'
  id: totrans-772
  prefs: []
  type: TYPE_NORMAL
  zh: '*************************** 3\. 行 ***************************'
- en: 'Grants for employees_ro@%: GRANT SELECT (`salary`) ON `employees`.`salaries`
    TO `employees_ro`@`%`'
  id: totrans-773
  prefs: []
  type: TYPE_NORMAL
  zh: 'Grants for employees_ro@%: GRANT SELECT (`salary`) ON `employees`.`salaries`
    TO `employees_ro`@`%`'
- en: '[PRE85]'
  id: totrans-774
  prefs: []
  type: TYPE_PRE
  zh: '[PRE85]'
- en: mysql> SHOW GRANTS FOR 'dbadmin'@'%'\G
  id: totrans-775
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SHOW GRANTS FOR 'dbadmin'@'%'\G
- en: '*************************** 1\. row ***************************'
  id: totrans-776
  prefs: []
  type: TYPE_NORMAL
  zh: '*************************** 1\. 行 ***************************'
- en: 'Grants for dbadmin@%: GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, RELOAD,
    SHUTDOWN, PROCESS, FILE, REFERENCES, INDEX, ALTER, SHOW DATABASES, SUPER, CREATE
    TEMPORARY TABLES, LOCK TABLES, EXECUTE, REPLICATION SLAVE, REPLICATION CLIENT,
    CREATE VIEW, SHOW VIEW, CREATE ROUTINE, ALTER ROUTINE, CREATE USER, EVENT, TRIGGER,
    CREATE TABLESPACE, CREATE ROLE, DROP ROLE ON *.* TO `dbadmin`@`%` WITH GRANT OPTION'
  id: totrans-777
  prefs: []
  type: TYPE_NORMAL
  zh: 'Grants for dbadmin@%: GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, RELOAD,
    SHUTDOWN, PROCESS, FILE, REFERENCES, INDEX, ALTER, SHOW DATABASES, SUPER, CREATE
    TEMPORARY TABLES, LOCK TABLES, EXECUTE, REPLICATION SLAVE, REPLICATION CLIENT,
    CREATE VIEW, SHOW VIEW, CREATE ROUTINE, ALTER ROUTINE, CREATE USER, EVENT, TRIGGER,
    CREATE TABLESPACE, CREATE ROLE, DROP ROLE ON *.* TO `dbadmin`@`%` WITH GRANT OPTION'
- en: '*************************** 2\. row ***************************'
  id: totrans-778
  prefs: []
  type: TYPE_NORMAL
  zh: '*************************** 2\. 行 ***************************'
- en: 'Grants for dbadmin@%: GRANT BINLOG_ADMIN,CONNECTION_ADMIN,ENCRYPTION_KEY_ADMIN,GROUP_REPLICATION_ADMIN,REPLICATION_SLAVE_ADMIN,ROLE_ADMIN,SET_USER_ID,SYSTEM_VARIABLES_ADMIN
    ON *.* TO `dbadmin`@`%`'
  id: totrans-779
  prefs: []
  type: TYPE_NORMAL
  zh: 'Grants for dbadmin@%: GRANT BINLOG_ADMIN,CONNECTION_ADMIN,ENCRYPTION_KEY_ADMIN,GROUP_REPLICATION_ADMIN,REPLICATION_SLAVE_ADMIN,ROLE_ADMIN,SET_USER_ID,SYSTEM_VARIABLES_ADMIN
    ON *.* TO `dbadmin`@`%`'
- en: 2 rows in set (0.00 sec)
  id: totrans-780
  prefs: []
  type: TYPE_NORMAL
  zh: 2 rows in set (0.00 sec)
- en: '[PRE86]'
  id: totrans-781
  prefs: []
  type: TYPE_PRE
  zh: '[PRE86]'
- en: mysql> REVOKE DELETE ON company.* FROM 'company_write'@'%';
  id: totrans-782
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> REVOKE DELETE ON company.* FROM 'company_write'@'%';
- en: Query OK, 0 rows affected (0.04 sec)
  id: totrans-783
  prefs: []
  type: TYPE_NORMAL
  zh: Query OK, 0 rows affected (0.04 sec)
- en: '[PRE87]'
  id: totrans-784
  prefs: []
  type: TYPE_PRE
  zh: '[PRE87]'
- en: mysql> REVOKE SELECT(salary) ON employees.salaries FROM 'employees_ro'@'%';
  id: totrans-785
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> REVOKE SELECT(salary) ON employees.salaries FROM 'employees_ro'@'%';
- en: Query OK, 0 rows affected (0.03 sec)
  id: totrans-786
  prefs: []
  type: TYPE_NORMAL
  zh: Query OK, 0 rows affected (0.03 sec)
- en: '[PRE88]'
  id: totrans-787
  prefs: []
  type: TYPE_PRE
  zh: '[PRE88]'
- en: mysql> SELECT * FROM mysql.user WHERE user='dbadmin'\G
  id: totrans-788
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SELECT * FROM mysql.user WHERE user='dbadmin'\G
- en: '*************************** 1\. row ***************************'
  id: totrans-789
  prefs: []
  type: TYPE_NORMAL
  zh: '*************************** 1\. 行 ***************************'
- en: 'Host: %'
  id: totrans-790
  prefs: []
  type: TYPE_NORMAL
  zh: 'Host: %'
- en: 'User: dbadmin'
  id: totrans-791
  prefs: []
  type: TYPE_NORMAL
  zh: 'User: dbadmin'
- en: 'Select_priv: Y'
  id: totrans-792
  prefs: []
  type: TYPE_NORMAL
  zh: 'Select_priv: Y'
- en: 'Insert_priv: Y'
  id: totrans-793
  prefs: []
  type: TYPE_NORMAL
  zh: 'Insert_priv: Y'
- en: 'Update_priv: Y'
  id: totrans-794
  prefs: []
  type: TYPE_NORMAL
  zh: 'Update_priv: Y'
- en: 'Delete_priv: Y'
  id: totrans-795
  prefs: []
  type: TYPE_NORMAL
  zh: 'Delete_priv: Y'
- en: 'Create_priv: Y'
  id: totrans-796
  prefs: []
  type: TYPE_NORMAL
  zh: 'Create_priv: Y'
- en: 'Drop_priv: Y'
  id: totrans-797
  prefs: []
  type: TYPE_NORMAL
  zh: 'Drop_priv: Y'
- en: 'Reload_priv: Y'
  id: totrans-798
  prefs: []
  type: TYPE_NORMAL
  zh: 'Reload_priv: Y'
- en: 'Shutdown_priv: Y'
  id: totrans-799
  prefs: []
  type: TYPE_NORMAL
  zh: 'Shutdown_priv: Y'
- en: 'Process_priv: Y'
  id: totrans-800
  prefs: []
  type: TYPE_NORMAL
  zh: 'Process_priv: Y'
- en: 'File_priv: Y'
  id: totrans-801
  prefs: []
  type: TYPE_NORMAL
  zh: 'File_priv: Y'
- en: 'Grant_priv: Y'
  id: totrans-802
  prefs: []
  type: TYPE_NORMAL
  zh: 'Grant_priv: Y'
- en: 'References_priv: Y'
  id: totrans-803
  prefs: []
  type: TYPE_NORMAL
  zh: 'References_priv: Y'
- en: 'Index_priv: Y'
  id: totrans-804
  prefs: []
  type: TYPE_NORMAL
  zh: 'Index_priv: Y'
- en: 'Alter_priv: Y'
  id: totrans-805
  prefs: []
  type: TYPE_NORMAL
  zh: 'Alter_priv: Y'
- en: 'Show_db_priv: Y'
  id: totrans-806
  prefs: []
  type: TYPE_NORMAL
  zh: 'Show_db_priv: Y'
- en: 'Super_priv: Y'
  id: totrans-807
  prefs: []
  type: TYPE_NORMAL
  zh: 'Super_priv: Y'
- en: 'Create_tmp_table_priv: Y'
  id: totrans-808
  prefs: []
  type: TYPE_NORMAL
  zh: 'Create_tmp_table_priv: Y'
- en: 'Lock_tables_priv: Y'
  id: totrans-809
  prefs: []
  type: TYPE_NORMAL
  zh: 'Lock_tables_priv: Y'
- en: 'Execute_priv: Y'
  id: totrans-810
  prefs: []
  type: TYPE_NORMAL
  zh: 'Execute_priv: Y'
- en: 'Repl_slave_priv: Y'
  id: totrans-811
  prefs: []
  type: TYPE_NORMAL
  zh: 'Repl_slave_priv: Y'
- en: 'Repl_client_priv: Y'
  id: totrans-812
  prefs: []
  type: TYPE_NORMAL
  zh: 'Repl_client_priv: Y'
- en: 'Create_view_priv: Y'
  id: totrans-813
  prefs: []
  type: TYPE_NORMAL
  zh: 'Create_view_priv: Y'
- en: 'Show_view_priv: Y'
  id: totrans-814
  prefs: []
  type: TYPE_NORMAL
  zh: 'Show_view_priv: Y'
- en: 'Create_routine_priv: Y'
  id: totrans-815
  prefs: []
  type: TYPE_NORMAL
  zh: 'Create_routine_priv: Y'
- en: 'Alter_routine_priv: Y'
  id: totrans-816
  prefs: []
  type: TYPE_NORMAL
  zh: 'Alter_routine_priv: Y'
- en: 'Create_user_priv: Y'
  id: totrans-817
  prefs: []
  type: TYPE_NORMAL
  zh: 'Create_user_priv: Y'
- en: 'Event_priv: Y'
  id: totrans-818
  prefs: []
  type: TYPE_NORMAL
  zh: 'Event_priv: Y'
- en: 'Trigger_priv: Y'
  id: totrans-819
  prefs: []
  type: TYPE_NORMAL
  zh: 'Trigger_priv: Y'
- en: 'Create_tablespace_priv: Y'
  id: totrans-820
  prefs: []
  type: TYPE_NORMAL
  zh: 'Create_tablespace_priv: Y'
- en: 'ssl_type:'
  id: totrans-821
  prefs: []
  type: TYPE_NORMAL
  zh: 'ssl_type:'
- en: 'ssl_cipher:'
  id: totrans-822
  prefs: []
  type: TYPE_NORMAL
  zh: 'ssl_cipher:'
- en: 'x509_issuer:'
  id: totrans-823
  prefs: []
  type: TYPE_NORMAL
  zh: 'x509_issuer:'
- en: 'x509_subject:'
  id: totrans-824
  prefs: []
  type: TYPE_NORMAL
  zh: 'x509_subject:'
- en: 'max_questions: 0'
  id: totrans-825
  prefs: []
  type: TYPE_NORMAL
  zh: 'max_questions: 0'
- en: 'max_updates: 0'
  id: totrans-826
  prefs: []
  type: TYPE_NORMAL
  zh: 'max_updates: 0'
- en: 'max_connections: 0'
  id: totrans-827
  prefs: []
  type: TYPE_NORMAL
  zh: 'max_connections: 0'
- en: 'max_user_connections: 0'
  id: totrans-828
  prefs: []
  type: TYPE_NORMAL
  zh: 'max_user_connections: 0'
- en: 'plugin: mysql_native_password'
  id: totrans-829
  prefs: []
  type: TYPE_NORMAL
  zh: 'plugin: mysql_native_password'
- en: 'authentication_string: *AB7018ADD9CB4EDBEB680BB3F820479E4CE815D2'
  id: totrans-830
  prefs: []
  type: TYPE_NORMAL
  zh: 'authentication_string: *AB7018ADD9CB4EDBEB680BB3F820479E4CE815D2'
- en: 'password_expired: N'
  id: totrans-831
  prefs: []
  type: TYPE_NORMAL
  zh: 'password_expired: N'
- en: 'password_last_changed: 2017-06-10 16:24:03'
  id: totrans-832
  prefs: []
  type: TYPE_NORMAL
  zh: 密码上次更改：2017-06-10 16:24:03
- en: 'password_lifetime: NULL'
  id: totrans-833
  prefs: []
  type: TYPE_NORMAL
  zh: 密码生命周期：NULL
- en: 'account_locked: N'
  id: totrans-834
  prefs: []
  type: TYPE_NORMAL
  zh: 账户锁定：N
- en: 'Create_role_priv: Y'
  id: totrans-835
  prefs: []
  type: TYPE_NORMAL
  zh: Create_role_priv：Y
- en: 'Drop_role_priv: Y'
  id: totrans-836
  prefs: []
  type: TYPE_NORMAL
  zh: Drop_role_priv：Y
- en: 1 row in set (0.00 sec)
  id: totrans-837
  prefs: []
  type: TYPE_NORMAL
  zh: 1行（0.00秒）
- en: '[PRE89]'
  id: totrans-838
  prefs: []
  type: TYPE_PRE
  zh: '[PRE89]'
- en: mysql> UPDATE mysql.user SET host='localhost' WHERE user='dbadmin';
  id: totrans-839
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> UPDATE mysql.user SET host='localhost' WHERE user='dbadmin';
- en: Query OK, 1 row affected (0.02 sec)
  id: totrans-840
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，1行受影响（0.02秒）
- en: 'Rows matched: 1  Changed: 1  Warnings: 0'
  id: totrans-841
  prefs: []
  type: TYPE_NORMAL
  zh: 匹配行数：1  更改行数：1  警告：0
- en: '[PRE90]'
  id: totrans-842
  prefs: []
  type: TYPE_PRE
  zh: '[PRE90]'
- en: mysql> FLUSH PRIVILEGES;
  id: totrans-843
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 刷新权限；
- en: Query OK, 0 rows affected (0.00 sec)
  id: totrans-844
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，0行受影响（0.00秒）
- en: '[PRE91]'
  id: totrans-845
  prefs: []
  type: TYPE_PRE
  zh: '[PRE91]'
- en: mysql> CREATE USER 'developer'@'%' IDENTIFIED WITH mysql_native_password AS
    '*EBD9E3BFD1489CA1EB0D2B4F29F6665F321E8C18' PASSWORD EXPIRE;
  id: totrans-846
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 创建用户'developer'@'%'，用mysql_native_password标识为'*EBD9E3BFD1489CA1EB0D2B4F29F6665F321E8C18'密码过期；
- en: Query OK, 0 rows affected (0.04 sec
  id: totrans-847
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，0行受影响（0.04秒）
- en: '[PRE92]'
  id: totrans-848
  prefs: []
  type: TYPE_PRE
  zh: '[PRE92]'
- en: shell> mysql -u developer -pcompany_pass
  id: totrans-849
  prefs: []
  type: TYPE_NORMAL
  zh: shell> mysql -u developer -pcompany_pass
- en: 'mysql: [Warning] Using a password on the command line interface can be insecure.'
  id: totrans-850
  prefs: []
  type: TYPE_NORMAL
  zh: mysql：[警告]在命令行界面上使用密码可能不安全。
- en: Welcome to the MySQL monitor.  Commands end with ; or \g.
  id: totrans-851
  prefs: []
  type: TYPE_NORMAL
  zh: 欢迎使用MySQL监视器。命令以;或\g结束。
- en: Your MySQL connection id is 31
  id: totrans-852
  prefs: []
  type: TYPE_NORMAL
  zh: 您的MySQL连接ID为31
- en: 'Server version: 8.0.3-rc-log'
  id: totrans-853
  prefs: []
  type: TYPE_NORMAL
  zh: 服务器版本：8.0.3-rc-log
- en: Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.
  id: totrans-854
  prefs: []
  type: TYPE_NORMAL
  zh: 版权所有（c）2000, 2017, Oracle及/或其附属公司。保留所有权利。
- en: Oracle is a registered trademark of Oracle Corporation and/or its
  id: totrans-855
  prefs: []
  type: TYPE_NORMAL
  zh: Oracle是Oracle Corporation和/或其
- en: affiliates. Other names may be trademarks of their respective
  id: totrans-856
  prefs: []
  type: TYPE_NORMAL
  zh: 联盟。其他名称可能是其各自商标
- en: owners.
  id: totrans-857
  prefs: []
  type: TYPE_NORMAL
  zh: 所有者。
- en: Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.
  id: totrans-858
  prefs: []
  type: TYPE_NORMAL
  zh: 键入'help;'或'\h'获取帮助。键入'\c'清除当前输入语句。
- en: mysql> SHOW DATABASES;
  id: totrans-859
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 显示数据库；
- en: 'ERROR 1820 (HY000): You must reset your password using ALTER USER statement
    before executing this statement.'
  id: totrans-860
  prefs: []
  type: TYPE_NORMAL
  zh: 错误1820（HY000）：在执行此语句之前，必须使用ALTER USER语句重置密码。
- en: '[PRE93]'
  id: totrans-861
  prefs: []
  type: TYPE_PRE
  zh: '[PRE93]'
- en: mysql> ALTER USER 'developer'@'%' IDENTIFIED WITH mysql_native_password BY 'new_company_pass';
  id: totrans-862
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> ALTER USER 'developer'@'%' 用mysql_native_password标识为'new_company_pass'更改
- en: Query OK, 0 rows affected (0.03 sec)
  id: totrans-863
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，0行受影响（0.03秒）
- en: '[PRE94]'
  id: totrans-864
  prefs: []
  type: TYPE_PRE
  zh: '[PRE94]'
- en: mysql> ALTER USER 'developer'@'%' PASSWORD EXPIRE;
  id: totrans-865
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> ALTER USER 'developer'@'%' 密码过期;
- en: Query OK, 0 rows affected (0.06 sec)
  id: totrans-866
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，0行受影响（0.06秒）
- en: '[PRE95]'
  id: totrans-867
  prefs: []
  type: TYPE_PRE
  zh: '[PRE95]'
- en: mysql> ALTER USER 'developer'@'%' PASSWORD EXPIRE INTERVAL 90 DAY;
  id: totrans-868
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> ALTER USER 'developer'@'%' 密码在90天后过期；
- en: Query OK, 0 rows affected (0.04 sec)
  id: totrans-869
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，0行受影响（0.04秒）
- en: '[PRE96]'
  id: totrans-870
  prefs: []
  type: TYPE_PRE
  zh: '[PRE96]'
- en: mysql> ALTER USER 'developer'@'%' ACCOUNT LOCK;
  id: totrans-871
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> ALTER USER 'developer'@'%' 账户锁定;
- en: Query OK, 0 rows affected (0.05 sec)
  id: totrans-872
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，0行受影响（0.05秒）
- en: '[PRE97]'
  id: totrans-873
  prefs: []
  type: TYPE_PRE
  zh: '[PRE97]'
- en: shell> mysql -u developer -pnew_company_pass
  id: totrans-874
  prefs: []
  type: TYPE_NORMAL
  zh: shell> mysql -u developer -pnew_company_pass
- en: 'mysql: [Warning] Using a password on the command line interface can be insecure.'
  id: totrans-875
  prefs: []
  type: TYPE_NORMAL
  zh: mysql：[警告]在命令行界面上使用密码可能不安全。
- en: 'ERROR 3118 (HY000): Access denied for user ''developer''@''localhost''. Account
    is locked.'
  id: totrans-876
  prefs: []
  type: TYPE_NORMAL
  zh: 错误3118（HY000）：拒绝用户'developer'@'localhost'访问。账户已锁定。
- en: '[PRE98]'
  id: totrans-877
  prefs: []
  type: TYPE_PRE
  zh: '[PRE98]'
- en: mysql> ALTER USER 'developer'@'%' ACCOUNT UNLOCK;
  id: totrans-878
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> ALTER USER 'developer'@'%' 账户解锁；
- en: Query OK, 0 rows affected (0.00 sec)
  id: totrans-879
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，0行受影响（0.00秒）
- en: '[PRE99]'
  id: totrans-880
  prefs: []
  type: TYPE_PRE
  zh: '[PRE99]'
- en: mysql> CREATE ROLE 'app_read_only', 'app_writes', 'app_developer';
  id: totrans-881
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 创建角色'app_read_only'，'app_writes'，'app_developer'；
- en: Query OK, 0 rows affected (0.01 sec)
  id: totrans-882
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，0行受影响（0.01秒）
- en: '[PRE100]'
  id: totrans-883
  prefs: []
  type: TYPE_PRE
  zh: '[PRE100]'
- en: mysql> GRANT SELECT ON employees.* TO 'app_read_only';
  id: totrans-884
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> GRANT SELECT ON employees.* TO 'app_read_only';
- en: Query OK, 0 rows affected (0.00 sec)
  id: totrans-885
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，0行受影响（0.00秒）
- en: '[PRE101]'
  id: totrans-886
  prefs: []
  type: TYPE_PRE
  zh: '[PRE101]'
- en: mysql> GRANT INSERT, UPDATE, DELETE ON employees.* TO 'app_writes';
  id: totrans-887
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> GRANT INSERT, UPDATE, DELETE ON employees.* TO 'app_writes';
- en: Query OK, 0 rows affected (0.00 sec)
  id: totrans-888
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，0行受影响（0.00秒）
- en: '[PRE102]'
  id: totrans-889
  prefs: []
  type: TYPE_PRE
  zh: '[PRE102]'
- en: mysql> GRANT ALL ON employees.* TO 'app_developer';
  id: totrans-890
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> GRANT ALL ON employees.* TO 'app_developer';
- en: Query OK, 0 rows affected (0.04 sec)
  id: totrans-891
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，0行受影响（0.04秒）
- en: '[PRE103]'
  id: totrans-892
  prefs: []
  type: TYPE_PRE
  zh: '[PRE103]'
- en: mysql> CREATE user emp_read_only IDENTIFIED BY 'emp_pass';
  id: totrans-893
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 创建用户emp_read_only，密码为'emp_pass'；
- en: Query OK, 0 rows affected (0.06 sec)
  id: totrans-894
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，0行受影响（0.06秒）
- en: '[PRE104]'
  id: totrans-895
  prefs: []
  type: TYPE_PRE
  zh: '[PRE104]'
- en: mysql> CREATE user emp_writes IDENTIFIED BY 'emp_pass';
  id: totrans-896
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 创建用户emp_writes，密码为'emp_pass'；
- en: Query OK, 0 rows affected (0.04 sec)
  id: totrans-897
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，0行受影响（0.04秒）
- en: '[PRE105]'
  id: totrans-898
  prefs: []
  type: TYPE_PRE
  zh: '[PRE105]'
- en: mysql> CREATE user emp_developer IDENTIFIED BY 'emp_pass';
  id: totrans-899
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 创建用户emp_developer，密码为'emp_pass'；
- en: Query OK, 0 rows affected (0.01 sec)
  id: totrans-900
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，0行受影响（0.01秒）
- en: '[PRE106]'
  id: totrans-901
  prefs: []
  type: TYPE_PRE
  zh: '[PRE106]'
- en: mysql> CREATE user emp_read_write IDENTIFIED BY 'emp_pass';
  id: totrans-902
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 创建用户emp_read_write，密码为'emp_pass'；
- en: Query OK, 0 rows affected (0.00 sec)
  id: totrans-903
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，0行受影响（0.00秒）
- en: '[PRE107]'
  id: totrans-904
  prefs: []
  type: TYPE_PRE
  zh: '[PRE107]'
- en: mysql> GRANT 'app_read_only' TO 'emp_read_only'@'%';
  id: totrans-905
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> GRANT 'app_read_only' TO 'emp_read_only'@'%';
- en: Query OK, 0 rows affected (0.04 sec)
  id: totrans-906
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，0行受影响（0.04秒）
- en: '[PRE108]'
  id: totrans-907
  prefs: []
  type: TYPE_PRE
  zh: '[PRE108]'
- en: mysql> GRANT 'app_writes' TO 'emp_writes'@'%';
  id: totrans-908
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> GRANT 'app_writes' TO 'emp_writes'@'%';
- en: Query OK, 0 rows affected (0.00 sec)
  id: totrans-909
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，0行受影响（0.00秒）
- en: '[PRE109]'
  id: totrans-910
  prefs: []
  type: TYPE_PRE
  zh: '[PRE109]'
- en: mysql> GRANT 'app_developer' TO 'emp_developer'@'%';
  id: totrans-911
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> GRANT 'app_developer' TO 'emp_developer'@'%';
- en: Query OK, 0 rows affected (0.00 sec)
  id: totrans-912
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，0行受影响（0.00秒）
- en: '[PRE110]'
  id: totrans-913
  prefs: []
  type: TYPE_PRE
  zh: '[PRE110]'
- en: mysql> GRANT 'app_read_only', 'app_writes' TO 'emp_read_write'@'%';
  id: totrans-914
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> GRANT 'app_read_only', 'app_writes' TO 'emp_read_write'@'%';
- en: Query OK, 0 rows affected (0.05 sec)
  id: totrans-915
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，0行受影响（0.05秒）
- en: '[PRE111]'
  id: totrans-916
  prefs: []
  type: TYPE_PRE
  zh: '[PRE111]'
- en: mysql> GRANT SELECT ON employees.* TO 'user_ro_file'@'%' IDENTIFIED  WITH mysql_native_password
    AS '*EBD9E3BFD1489CA1EB0D2B4F29F6665F321E8C18';
  id: totrans-917
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> GRANT SELECT ON employees.* TO 'user_ro_file'@'%' 用mysql_native_password标识为'*EBD9E3BFD1489CA1EB0D2B4F29F6665F321E8C18'；
- en: Query OK, 0 rows affected, 1 warning (0.00 sec)
  id: totrans-918
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，0行受影响，1个警告（0.00秒）
- en: mysql> GRANT FILE ON *.* TO 'user_ro_file'@'%' IDENTIFIED  WITH mysql_native_password
    AS '*EBD9E3BFD1489CA1EB0D2B4F29F6665F321E8C18';
  id: totrans-919
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> GRANT FILE ON *.* TO 'user_ro_file'@'%' 用mysql_native_password标识为'*EBD9E3BFD1489CA1EB0D2B4F29F6665F321E8C18'；
- en: Query OK, 0 rows affected, 1 warning (0.00 sec)
  id: totrans-920
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，0行受影响，1个警告（0.00秒）
- en: '[PRE112]'
  id: totrans-921
  prefs: []
  type: TYPE_PRE
  zh: '[PRE112]'
- en: shell> sudo vi /etc/mysql/mysql.conf.d/mysqld.cnf
  id: totrans-922
  prefs: []
  type: TYPE_NORMAL
  zh: shell> sudo vi /etc/mysql/mysql.conf.d/mysqld.cnf
- en: '[PRE113]'
  id: totrans-923
  prefs: []
  type: TYPE_PRE
  zh: '[PRE113]'
- en: shell> sudo systemctl restart mysql
  id: totrans-924
  prefs: []
  type: TYPE_NORMAL
  zh: shell> sudo systemctl restart mysql
- en: '[PRE114]'
  id: totrans-925
  prefs: []
  type: TYPE_PRE
  zh: '[PRE114]'
- en: mysql> SELECT first_name, last_name INTO OUTFILE 'result.csv'
  id: totrans-926
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 选择first_name, last_name INTO OUTFILE 'result.csv'
- en: FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '"'
  id: totrans-927
  prefs: []
  type: TYPE_NORMAL
  zh: 字段由','分隔，可选地由'"'括起来
- en: LINES TERMINATED BY '\n'
  id: totrans-928
  prefs: []
  type: TYPE_NORMAL
  zh: 行由'\n'终止
- en: FROM employees WHERE hire_date<'1986-01-01' LIMIT 10;
  id: totrans-929
  prefs: []
  type: TYPE_NORMAL
  zh: 从雇员中选择雇佣日期<'1986-01-01'的10行；
- en: Query OK, 10 rows affected (0.00 sec)
  id: totrans-930
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，10行受影响（0.00秒）
- en: '[PRE115]'
  id: totrans-931
  prefs: []
  type: TYPE_PRE
  zh: '[PRE115]'
- en: shell> sudo cat /var/lib/mysql/employees/result.csv
  id: totrans-932
  prefs: []
  type: TYPE_NORMAL
  zh: shell> sudo cat /var/lib/mysql/employees/result.csv
- en: '"Bezalel","Simmel"'
  id: totrans-933
  prefs: []
  type: TYPE_NORMAL
  zh: '"Bezalel","Simmel"'
- en: '"Sumant","Peac"'
  id: totrans-934
  prefs: []
  type: TYPE_NORMAL
  zh: '"Sumant","Peac"'
- en: '"Eberhardt","Terkki"'
  id: totrans-935
  prefs: []
  type: TYPE_NORMAL
  zh: '"Eberhardt","Terkki"'
- en: '"Otmar","Herbst"'
  id: totrans-936
  prefs: []
  type: TYPE_NORMAL
  zh: '"Otmar","Herbst"'
- en: '"Florian","Syrotiuk"'
  id: totrans-937
  prefs: []
  type: TYPE_NORMAL
  zh: '"Florian","Syrotiuk"'
- en: '"Tse","Herber"'
  id: totrans-938
  prefs: []
  type: TYPE_NORMAL
  zh: '"Tse","Herber"'
- en: '"Udi","Jansch"'
  id: totrans-939
  prefs: []
  type: TYPE_NORMAL
  zh: '"Udi","Jansch"'
- en: '"Reuven","Garigliano"'
  id: totrans-940
  prefs: []
  type: TYPE_NORMAL
  zh: '"Reuven","Garigliano"'
- en: '"Erez","Ritzmann"'
  id: totrans-941
  prefs: []
  type: TYPE_NORMAL
  zh: '"Erez","Ritzmann"'
- en: '"Premal","Baek"'
  id: totrans-942
  prefs: []
  type: TYPE_NORMAL
  zh: '"Premal","Baek"'
- en: '[PRE116]'
  id: totrans-943
  prefs: []
  type: TYPE_PRE
  zh: '[PRE116]'
- en: mysql> CREATE TABLE titles_only AS SELECT DISTINCT title FROM titles;
  id: totrans-944
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 创建表titles_only作为选择不同的titles;
- en: Query OK, 7 rows affected (0.50 sec)
  id: totrans-945
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，影响了7行（0.50秒）
- en: 'Records: 7  Duplicates: 0  Warnings: 0'
  id: totrans-946
  prefs: []
  type: TYPE_NORMAL
  zh: 记录：7 重复：0 警告：0
- en: '[PRE117]'
  id: totrans-947
  prefs: []
  type: TYPE_PRE
  zh: '[PRE117]'
- en: mysql> INSERT INTO titles_only SELECT DISTINCT title FROM titles;
  id: totrans-948
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 插入titles_only选择不同的titles;
- en: Query OK, 7 rows affected (0.46 sec)
  id: totrans-949
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，影响了7行（0.46秒）
- en: 'Records: 7  Duplicates: 0  Warnings: 0'
  id: totrans-950
  prefs: []
  type: TYPE_NORMAL
  zh: 记录：7 重复：0 警告：0
- en: '[PRE118]'
  id: totrans-951
  prefs: []
  type: TYPE_PRE
  zh: '[PRE118]'
- en: mysql> CREATE TABLE employee_names (
  id: totrans-952
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 创建表employee_names (
- en: '`first_name` varchar(14) NOT NULL,'
  id: totrans-953
  prefs: []
  type: TYPE_NORMAL
  zh: '`first_name` varchar(14) NOT NULL，'
- en: '`last_name` varchar(16) NOT NULL'
  id: totrans-954
  prefs: []
  type: TYPE_NORMAL
  zh: '`last_name` varchar(16) NOT NULL'
- en: ) ENGINE=InnoDB;
  id: totrans-955
  prefs: []
  type: TYPE_NORMAL
  zh: ）ENGINE=InnoDB;
- en: Query OK, 0 rows affected (0.07 sec)
  id: totrans-956
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，影响了0行（0.07秒）
- en: '[PRE119]'
  id: totrans-957
  prefs: []
  type: TYPE_PRE
  zh: '[PRE119]'
- en: shell> sudo ls -lhtr /var/lib/mysql/employees/result.csv
  id: totrans-958
  prefs: []
  type: TYPE_NORMAL
  zh: shell> sudo ls -lhtr /var/lib/mysql/employees/result.csv
- en: -rw-rw-rw- 1 mysql mysql 180 Jun 10 14:53 /var/lib/mysql/employees/result.csv
  id: totrans-959
  prefs: []
  type: TYPE_NORMAL
  zh: -rw-rw-rw- 1 mysql mysql 180 Jun 10 14:53 /var/lib/mysql/employees/result.csv
- en: '[PRE120]'
  id: totrans-960
  prefs: []
  type: TYPE_PRE
  zh: '[PRE120]'
- en: mysql> LOAD DATA INFILE 'result.csv' INTO TABLE employee_names
  id: totrans-961
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> LOAD DATA INFILE 'result.csv' INTO TABLE employee_names
- en: FIELDS TERMINATED BY ','
  id: totrans-962
  prefs: []
  type: TYPE_NORMAL
  zh: 字段以','分隔
- en: OPTIONALLY ENCLOSED BY '"'
  id: totrans-963
  prefs: []
  type: TYPE_NORMAL
  zh: OPTIONALLY ENCLOSED BY '"'
- en: LINES TERMINATED BY '\n';
  id: totrans-964
  prefs: []
  type: TYPE_NORMAL
  zh: 行终止符为'\n';
- en: Query OK, 10 rows affected (0.01 sec)
  id: totrans-965
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，影响了10行（0.01秒）
- en: 'Records: 10  Deleted: 0  Skipped: 0  Warnings: 0'
  id: totrans-966
  prefs: []
  type: TYPE_NORMAL
  zh: 记录：10 删除：0 跳过：0 警告：0
- en: '[PRE121]'
  id: totrans-967
  prefs: []
  type: TYPE_PRE
  zh: '[PRE121]'
- en: mysql> LOAD DATA INFILE 'result.csv' INTO TABLE employee_names
  id: totrans-968
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> LOAD DATA INFILE 'result.csv' INTO TABLE employee_names
- en: FIELDS TERMINATED BY ','
  id: totrans-969
  prefs: []
  type: TYPE_NORMAL
  zh: 字段以','分隔
- en: OPTIONALLY ENCLOSED BY '"'
  id: totrans-970
  prefs: []
  type: TYPE_NORMAL
  zh: OPTIONALLY ENCLOSED BY '"'
- en: LINES TERMINATED BY '\n'
  id: totrans-971
  prefs: []
  type: TYPE_NORMAL
  zh: 行终止符为'\n'
- en: IGNORE 1 LINES;
  id: totrans-972
  prefs: []
  type: TYPE_NORMAL
  zh: 忽略1行;
- en: '[PRE122]'
  id: totrans-973
  prefs: []
  type: TYPE_PRE
  zh: '[PRE122]'
- en: mysql> LOAD DATA INFILE 'result.csv' REPLACE INTO TABLE employee_names FIELDS
    TERMINATED BY ','OPTIONALLY ENCLOSED BY '"' LINES TERMINATED BY '\n';
  id: totrans-974
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> LOAD DATA INFILE 'result.csv' REPLACE INTO TABLE employee_names FIELDS
    TERMINATED BY ','OPTIONALLY ENCLOSED BY '"' LINES TERMINATED BY '\n';
- en: Query OK, 10 rows affected (0.01 sec)
  id: totrans-975
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，影响了10行（0.01秒）
- en: 'Records: 10  Deleted: 0  Skipped: 0  Warnings: 0'
  id: totrans-976
  prefs: []
  type: TYPE_NORMAL
  zh: 记录：10 删除：0 跳过：0 警告：0
- en: mysql> LOAD DATA INFILE 'result.csv' IGNORE INTO TABLE employee_names FIELDS
    TERMINATED BY ','OPTIONALLY ENCLOSED BY '"' LINES TERMINATED BY '\n';
  id: totrans-977
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> LOAD DATA INFILE 'result.csv' IGNORE INTO TABLE employee_names FIELDS
    TERMINATED BY ','OPTIONALLY ENCLOSED BY '"' LINES TERMINATED BY '\n';
- en: Query OK, 10 rows affected (0.06 sec)
  id: totrans-978
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，影响了10行（0.06秒）
- en: 'Records: 10  Deleted: 0  Skipped: 0  Warnings: 0'
  id: totrans-979
  prefs: []
  type: TYPE_NORMAL
  zh: 记录：10 删除：0 跳过：0 警告：0
- en: '[PRE123]'
  id: totrans-980
  prefs: []
  type: TYPE_PRE
  zh: '[PRE123]'
- en: mysql> LOAD DATA LOCAL INFILE 'result.csv' IGNORE INTO TABLE employee_names
    FIELDS TERMINATED BY ','OPTIONALLY ENCLOSED BY '"' LINES TERMINATED BY '\n';
  id: totrans-981
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> LOAD DATA LOCAL INFILE 'result.csv' IGNORE INTO TABLE employee_names
    FIELDS TERMINATED BY ','OPTIONALLY ENCLOSED BY '"' LINES TERMINATED BY '\n';
- en: '[PRE124]'
  id: totrans-982
  prefs: []
  type: TYPE_PRE
  zh: '[PRE124]'
- en: mysql> SELECT emp.emp_no, emp.first_name, emp.last_name
  id: totrans-983
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 选择emp.emp_no, emp.first_name, emp.last_name
- en: FROM employees AS emp
  id: totrans-984
  prefs: []
  type: TYPE_NORMAL
  zh: 从employees作为emp
- en: WHERE  emp.emp_no=110022;
  id: totrans-985
  prefs: []
  type: TYPE_NORMAL
  zh: 其中emp.emp_no=110022;
- en: +--------+------------+------------+
  id: totrans-986
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+------------+------------+
- en: '| emp_no | first_name | last_name  |'
  id: totrans-987
  prefs: []
  type: TYPE_TB
  zh: '| 员工编号 | 名字 | 姓  |'
- en: +--------+------------+------------+
  id: totrans-988
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+------------+------------+
- en: '| 110022 | Margareta  | Markovitch |'
  id: totrans-989
  prefs: []
  type: TYPE_TB
  zh: '| 110022 | Margareta  | Markovitch |'
- en: +--------+------------+------------+
  id: totrans-990
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+------------+------------+
- en: 1 row in set (0.00 sec)
  id: totrans-991
  prefs: []
  type: TYPE_NORMAL
  zh: 设置中的1行（0.00秒）
- en: '[PRE125]'
  id: totrans-992
  prefs: []
  type: TYPE_PRE
  zh: '[PRE125]'
- en: mysql> SELECT dept_no FROM dept_manager AS dept_mgr WHERE dept_mgr.emp_no=110022;
  id: totrans-993
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 选择dept_no从dept_manager作为dept_mgr，其中dept_mgr.emp_no=110022;
- en: +---------+
  id: totrans-994
  prefs: []
  type: TYPE_NORMAL
  zh: +---------+
- en: '| dept_no |'
  id: totrans-995
  prefs: []
  type: TYPE_TB
  zh: '| 部门编号 |'
- en: +---------+
  id: totrans-996
  prefs: []
  type: TYPE_NORMAL
  zh: +---------+
- en: '| d001    |'
  id: totrans-997
  prefs: []
  type: TYPE_TB
  zh: '| d001    |'
- en: +---------+
  id: totrans-998
  prefs: []
  type: TYPE_NORMAL
  zh: +---------+
- en: 1 row in set (0.00 sec)
  id: totrans-999
  prefs: []
  type: TYPE_NORMAL
  zh: 设置中的1行（0.00秒）
- en: '[PRE126]'
  id: totrans-1000
  prefs: []
  type: TYPE_PRE
  zh: '[PRE126]'
- en: mysql> SELECT dept_name FROM departments dept WHERE dept.dept_no='d001';
  id: totrans-1001
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 选择部门名称从部门中的部门，其中dept.dept_no='d001';
- en: +-----------+
  id: totrans-1002
  prefs: []
  type: TYPE_NORMAL
  zh: +-----------+
- en: '| dept_name |'
  id: totrans-1003
  prefs: []
  type: TYPE_TB
  zh: '| 部门名称 |'
- en: +-----------+
  id: totrans-1004
  prefs: []
  type: TYPE_NORMAL
  zh: +-----------+
- en: '| Marketing |'
  id: totrans-1005
  prefs: []
  type: TYPE_TB
  zh: '| 市场 |'
- en: +-----------+
  id: totrans-1006
  prefs: []
  type: TYPE_NORMAL
  zh: +-----------+
- en: 1 row in set (0.00 sec)
  id: totrans-1007
  prefs: []
  type: TYPE_NORMAL
  zh: 设置中的1行（0.00秒）
- en: '[PRE127]'
  id: totrans-1008
  prefs: []
  type: TYPE_PRE
  zh: '[PRE127]'
- en: mysql> SELECT
  id: totrans-1009
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 选择
- en: emp.emp_no,
  id: totrans-1010
  prefs: []
  type: TYPE_NORMAL
  zh: emp.emp_no，
- en: emp.first_name,
  id: totrans-1011
  prefs: []
  type: TYPE_NORMAL
  zh: emp.first_name，
- en: emp.last_name,
  id: totrans-1012
  prefs: []
  type: TYPE_NORMAL
  zh: emp.last_name，
- en: dept.dept_name
  id: totrans-1013
  prefs: []
  type: TYPE_NORMAL
  zh: dept.dept_name
- en: FROM
  id: totrans-1014
  prefs: []
  type: TYPE_NORMAL
  zh: 从
- en: employees AS emp
  id: totrans-1015
  prefs: []
  type: TYPE_NORMAL
  zh: 员工作为emp
- en: JOIN dept_manager AS dept_mgr
  id: totrans-1016
  prefs: []
  type: TYPE_NORMAL
  zh: 加入dept_manager作为dept_mgr
- en: ON emp.emp_no=dept_mgr.emp_no AND emp.emp_no=110022
  id: totrans-1017
  prefs: []
  type: TYPE_NORMAL
  zh: ON emp.emp_no=dept_mgr.emp_no AND emp.emp_no=110022
- en: JOIN departments AS dept
  id: totrans-1018
  prefs: []
  type: TYPE_NORMAL
  zh: 加入部门作为dept
- en: ON dept_mgr.dept_no=dept.dept_no;
  id: totrans-1019
  prefs: []
  type: TYPE_NORMAL
  zh: ON dept_mgr.dept_no=dept.dept_no;
- en: +--------+------------+------------+-----------+
  id: totrans-1020
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+------------+------------+-----------+
- en: '| emp_no | first_name | last_name  | dept_name |'
  id: totrans-1021
  prefs: []
  type: TYPE_TB
  zh: '| 员工编号 | 名字 | 姓  | 部门名称 |'
- en: +--------+------------+------------+-----------+
  id: totrans-1022
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+------------+------------+-----------+
- en: '| 110022 | Margareta  | Markovitch | Marketing |'
  id: totrans-1023
  prefs: []
  type: TYPE_TB
  zh: '| 110022 | Margareta  | Markovitch | 市场 |'
- en: +--------+------------+------------+-----------+
  id: totrans-1024
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+------------+------------+-----------+
- en: 1 row in set (0.00 sec)
  id: totrans-1025
  prefs: []
  type: TYPE_NORMAL
  zh: 设置中的1行（0.00秒）
- en: '[PRE128]'
  id: totrans-1026
  prefs: []
  type: TYPE_PRE
  zh: '[PRE128]'
- en: mysql> SELECT
  id: totrans-1027
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 选择
- en: dept_name,
  id: totrans-1028
  prefs: []
  type: TYPE_NORMAL
  zh: 部门名称，
- en: AVG(salary) AS avg_salary
  id: totrans-1029
  prefs: []
  type: TYPE_NORMAL
  zh: 平均工资作为avg_salary
- en: FROM
  id: totrans-1030
  prefs: []
  type: TYPE_NORMAL
  zh: 从
- en: salaries
  id: totrans-1031
  prefs: []
  type: TYPE_NORMAL
  zh: 薪水
- en: JOIN dept_emp
  id: totrans-1032
  prefs: []
  type: TYPE_NORMAL
  zh: 加入dept_emp
- en: ON salaries.emp_no=dept_emp.emp_no
  id: totrans-1033
  prefs: []
  type: TYPE_NORMAL
  zh: ON salaries.emp_no=dept_emp.emp_no
- en: JOIN departments
  id: totrans-1034
  prefs: []
  type: TYPE_NORMAL
  zh: 加入部门
- en: ON dept_emp.dept_no=departments.dept_no
  id: totrans-1035
  prefs: []
  type: TYPE_NORMAL
  zh: ON dept_emp.dept_no=departments.dept_no
- en: GROUP BY
  id: totrans-1036
  prefs: []
  type: TYPE_NORMAL
  zh: 按组
- en: dept_emp.dept_no
  id: totrans-1037
  prefs: []
  type: TYPE_NORMAL
  zh: dept_emp.dept_no
- en: ORDER BY
  id: totrans-1038
  prefs: []
  type: TYPE_NORMAL
  zh: 按照
- en: avg_salary
  id: totrans-1039
  prefs: []
  type: TYPE_NORMAL
  zh: 平均工资
- en: DESC;
  id: totrans-1040
  prefs: []
  type: TYPE_NORMAL
  zh: DESC;
- en: +--------------------+------------+
  id: totrans-1041
  prefs: []
  type: TYPE_NORMAL
  zh: +--------------------+------------+
- en: '| dept_name          | avg_salary |'
  id: totrans-1042
  prefs: []
  type: TYPE_TB
  zh: 部门名称 | 平均工资 |
- en: +--------------------+------------+
  id: totrans-1043
  prefs: []
  type: TYPE_NORMAL
  zh: +--------------------+------------+
- en: '| Sales              | 80667.6058 |'
  id: totrans-1044
  prefs: []
  type: TYPE_TB
  zh: '| 销售              | 80667.6058 |'
- en: '| Marketing          | 71913.2000 |'
  id: totrans-1045
  prefs: []
  type: TYPE_TB
  zh: '| 市场          | 71913.2000 |'
- en: '| Finance            | 70489.3649 |'
  id: totrans-1046
  prefs: []
  type: TYPE_TB
  zh: '| 财务            | 70489.3649 |'
- en: '| Research           | 59665.1817 |'
  id: totrans-1047
  prefs: []
  type: TYPE_TB
  zh: '| 研究           | 59665.1817 |'
- en: '| Production         | 59605.4825 |'
  id: totrans-1048
  prefs: []
  type: TYPE_TB
  zh: '| 生产         | 59605.4825 |'
- en: '| Development        | 59478.9012 |'
  id: totrans-1049
  prefs: []
  type: TYPE_TB
  zh: '| 发展        | 59478.9012 |'
- en: '| Customer Service   | 58770.3665 |'
  id: totrans-1050
  prefs: []
  type: TYPE_TB
  zh: '| 客户服务   | 58770.3665 |'
- en: '| Quality Management | 57251.2719 |'
  id: totrans-1051
  prefs: []
  type: TYPE_TB
  zh: '| 质量管理 | 57251.2719 |'
- en: '| Human Resources    | 55574.8794 |'
  id: totrans-1052
  prefs: []
  type: TYPE_TB
  zh: '| 人力资源    | 55574.8794 |'
- en: +--------------------+------------+
  id: totrans-1053
  prefs: []
  type: TYPE_NORMAL
  zh: +--------------------+------------+
- en: 9 rows in set (8.29 sec)
  id: totrans-1054
  prefs: []
  type: TYPE_NORMAL
  zh: 9行中设置（8.29秒）
- en: '[PRE129]'
  id: totrans-1055
  prefs: []
  type: TYPE_PRE
  zh: '[PRE129]'
- en: mysql> ALTER TABLE employees ADD INDEX name(first_name, last_name);
  id: totrans-1056
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> ALTER TABLE employees ADD INDEX name(first_name, last_name);
- en: Query OK, 0 rows affected (1.95 sec)
  id: totrans-1057
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，影响了0行（1.95秒）
- en: 'Records: 0  Duplicates: 0  Warnings: 0'
  id: totrans-1058
  prefs: []
  type: TYPE_NORMAL
  zh: 记录：0 重复：0 警告：0
- en: '[PRE130]'
  id: totrans-1059
  prefs: []
  type: TYPE_PRE
  zh: '[PRE130]'
- en: mysql> SELECT
  id: totrans-1060
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 选择
- en: emp1.*
  id: totrans-1061
  prefs: []
  type: TYPE_NORMAL
  zh: emp1.*
- en: FROM
  id: totrans-1062
  prefs: []
  type: TYPE_NORMAL
  zh: 从
- en: employees emp1
  id: totrans-1063
  prefs: []
  type: TYPE_NORMAL
  zh: 员工emp1
- en: JOIN employees emp2
  id: totrans-1064
  prefs: []
  type: TYPE_NORMAL
  zh: 加入员工作为emp2
- en: ON emp1.first_name=emp2.first_name
  id: totrans-1065
  prefs: []
  type: TYPE_NORMAL
  zh: ON emp1.first_name=emp2.first_name
- en: AND emp1.last_name=emp2.last_name
  id: totrans-1066
  prefs: []
  type: TYPE_NORMAL
  zh: 和emp1.last_name=emp2.last_name
- en: AND emp1.gender=emp2.gender
  id: totrans-1067
  prefs: []
  type: TYPE_NORMAL
  zh: 和emp1.gender=emp2.gender
- en: AND emp1.hire_date=emp2.hire_date
  id: totrans-1068
  prefs: []
  type: TYPE_NORMAL
  zh: 和emp1.hire_date=emp2.hire_date
- en: AND emp1.emp_no!=emp2.emp_no
  id: totrans-1069
  prefs: []
  type: TYPE_NORMAL
  zh: 和emp1.emp_no!=emp2.emp_no
- en: ORDER BY
  id: totrans-1070
  prefs: []
  type: TYPE_NORMAL
  zh: 按顺序
- en: first_name, last_name;
  id: totrans-1071
  prefs: []
  type: TYPE_NORMAL
  zh: 名字，姓;
- en: +--------+------------+------------+-----------+--------+------------+
  id: totrans-1072
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+------------+------------+-----------+--------+------------+
- en: '| emp_no | birth_date | first_name | last_name | gender | hire_date  |'
  id: totrans-1073
  prefs: []
  type: TYPE_TB
  zh: '| 员工编号 | 出生日期 | 名字 | 姓 | 性别 | 入职日期 |'
- en: +--------+------------+------------+-----------+--------+------------+
  id: totrans-1074
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+------------+------------+-----------+--------+------------+
- en: '| 232772 | 1962-05-14 | Keung      | Heusch    | M      | 1986-06-01 |'
  id: totrans-1075
  prefs: []
  type: TYPE_TB
  zh: '| 232772 | 1962-05-14 | Keung      | Heusch    | M      | 1986-06-01 |'
- en: '| 493600 | 1964-01-26 | Keung      | Heusch    | M      | 1986-06-01 |'
  id: totrans-1076
  prefs: []
  type: TYPE_TB
  zh: '| 493600 | 1964-01-26 | Keung      | Heusch    | M      | 1986-06-01 |'
- en: '|  64089 | 1958-01-19 | Marit      | Kolvik    | F      | 1993-12-08 |'
  id: totrans-1077
  prefs: []
  type: TYPE_TB
  zh: '|  64089 | 1958-01-19 | Marit      | Kolvik    | F      | 1993-12-08 |'
- en: '| 424486 | 1952-07-06 | Marit      | Kolvik    | F      | 1993-12-08 |'
  id: totrans-1078
  prefs: []
  type: TYPE_TB
  zh: '| 424486 | 1952-07-06 | Marit      | Kolvik    | F      | 1993-12-08 |'
- en: '|  40965 | 1952-05-11 | Marsha     | Farrow    | M      | 1989-02-18 |'
  id: totrans-1079
  prefs: []
  type: TYPE_TB
  zh: '|  40965 | 1952-05-11 | Marsha     | Farrow    | M      | 1989-02-18 |'
- en: '|  14641 | 1953-05-08 | Marsha     | Farrow    | M      | 1989-02-18 |'
  id: totrans-1080
  prefs: []
  type: TYPE_TB
  zh: '|  14641 | 1953-05-08 | Marsha     | Farrow    | M      | 1989-02-18 |'
- en: '| 422332 | 1954-08-17 | Naftali    | Mawatari  | M      | 1985-09-14 |'
  id: totrans-1081
  prefs: []
  type: TYPE_TB
  zh: '| 422332 | 1954-08-17 | Naftali    | Mawatari  | M      | 1985-09-14 |'
- en: '| 427429 | 1962-11-06 | Naftali    | Mawatari  | M      | 1985-09-14 |'
  id: totrans-1082
  prefs: []
  type: TYPE_TB
  zh: '| 427429 | 1962-11-06 | Naftali    | Mawatari  | M      | 1985-09-14 |'
- en: '|  19454 | 1955-05-14 | Taisook    | Hutter    | F      | 1985-02-26 |'
  id: totrans-1083
  prefs: []
  type: TYPE_TB
  zh: '|  19454 | 1955-05-14 | Taisook    | Hutter    | F      | 1985-02-26 |'
- en: '| 243627 | 1957-02-14 | Taisook    | Hutter    | F      | 1985-02-26 |'
  id: totrans-1084
  prefs: []
  type: TYPE_TB
  zh: '| 243627 | 1957-02-14 | Taisook    | Hutter    | F      | 1985-02-26 |'
- en: +--------+------------+------------+-----------+--------+------------+
  id: totrans-1085
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+------------+------------+-----------+--------+------------+
- en: 10 rows in set (34.01 sec)
  id: totrans-1086
  prefs: []
  type: TYPE_NORMAL
  zh: 10 rows in set (34.01 sec)
- en: '[PRE131]'
  id: totrans-1087
  prefs: []
  type: TYPE_PRE
  zh: '[PRE131]'
- en: mysql> SELECT emp_no FROM titles WHERE title="Senior Engineer" AND from_date="1986-06-26";
  id: totrans-1088
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 选择emp_no从titles WHERE title="Senior Engineer" AND from_date="1986-06-26";
- en: +--------+
  id: totrans-1089
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+
- en: '| emp_no |'
  id: totrans-1090
  prefs: []
  type: TYPE_TB
  zh: '| emp_no |'
- en: +--------+
  id: totrans-1091
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+
- en: '|  10001 |'
  id: totrans-1092
  prefs: []
  type: TYPE_TB
  zh: '|  10001 |'
- en: '|  84305 |'
  id: totrans-1093
  prefs: []
  type: TYPE_TB
  zh: '|  84305 |'
- en: '| 228917 |'
  id: totrans-1094
  prefs: []
  type: TYPE_TB
  zh: '| 228917 |'
- en: '| 426700 |'
  id: totrans-1095
  prefs: []
  type: TYPE_TB
  zh: '| 426700 |'
- en: '| 458304 |'
  id: totrans-1096
  prefs: []
  type: TYPE_TB
  zh: '| 458304 |'
- en: +--------+
  id: totrans-1097
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+
- en: 5 rows in set (0.14 sec)
  id: totrans-1098
  prefs: []
  type: TYPE_NORMAL
  zh: 在集合中有5行（0.14秒）
- en: '[PRE132]'
  id: totrans-1099
  prefs: []
  type: TYPE_PRE
  zh: '[PRE132]'
- en: mysql> SELECT first_name, last_name FROM employees WHERE emp_no IN (< output
    from preceding query>)
  id: totrans-1100
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 选择first_name，last_name从employees WHERE emp_no IN（<从前面的查询输出>）
- en: mysql> SELECT first_name, last_name FROM employees WHERE emp_no IN (10001,84305,228917,426700,458304);
  id: totrans-1101
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 选择first_name，last_name从employees WHERE emp_no IN（10001,84305,228917,426700,458304）;
- en: +------------+-----------+
  id: totrans-1102
  prefs: []
  type: TYPE_NORMAL
  zh: +------------+-----------+
- en: '| first_name | last_name |'
  id: totrans-1103
  prefs: []
  type: TYPE_TB
  zh: '| first_name | last_name |'
- en: +------------+-----------+
  id: totrans-1104
  prefs: []
  type: TYPE_NORMAL
  zh: +------------+-----------+
- en: '| Georgi     | Facello   |'
  id: totrans-1105
  prefs: []
  type: TYPE_TB
  zh: '| Georgi     | Facello   |'
- en: '| Minghong   | Kalloufi  |'
  id: totrans-1106
  prefs: []
  type: TYPE_TB
  zh: '| Minghong   | Kalloufi  |'
- en: '| Nechama    | Bennet    |'
  id: totrans-1107
  prefs: []
  type: TYPE_TB
  zh: '| Nechama    | Bennet    |'
- en: '| Nagui      | Restivo   |'
  id: totrans-1108
  prefs: []
  type: TYPE_TB
  zh: '| Nagui      | Restivo   |'
- en: '| Shuzo      | Kirkerud  |'
  id: totrans-1109
  prefs: []
  type: TYPE_TB
  zh: '| Shuzo      | Kirkerud  |'
- en: +------------+-----------+
  id: totrans-1110
  prefs: []
  type: TYPE_NORMAL
  zh: +------------+-----------+
- en: 5 rows in set (0.00 sec
  id: totrans-1111
  prefs: []
  type: TYPE_NORMAL
  zh: 在集合中有5行（0.00秒
- en: '[PRE133]'
  id: totrans-1112
  prefs: []
  type: TYPE_PRE
  zh: '[PRE133]'
- en: mysql> SELECT
  id: totrans-1113
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 选择
- en: first_name,
  id: totrans-1114
  prefs: []
  type: TYPE_NORMAL
  zh: first_name，
- en: last_name
  id: totrans-1115
  prefs: []
  type: TYPE_NORMAL
  zh: last_name
- en: FROM
  id: totrans-1116
  prefs: []
  type: TYPE_NORMAL
  zh: 从
- en: employees
  id: totrans-1117
  prefs: []
  type: TYPE_NORMAL
  zh: 员工
- en: WHERE
  id: totrans-1118
  prefs: []
  type: TYPE_NORMAL
  zh: WHERE
- en: emp_no
  id: totrans-1119
  prefs: []
  type: TYPE_NORMAL
  zh: emp_no
- en: IN (SELECT emp_no FROM titles WHERE title="Senior Engineer" AND from_date="1986-06-26");
  id: totrans-1120
  prefs: []
  type: TYPE_NORMAL
  zh: 在（从titles选择emp_no WHERE title="Senior Engineer" AND from_date="1986-06-26"）
- en: +------------+-----------+
  id: totrans-1121
  prefs: []
  type: TYPE_NORMAL
  zh: +------------+-----------+
- en: '| first_name | last_name |'
  id: totrans-1122
  prefs: []
  type: TYPE_TB
  zh: '| first_name | last_name |'
- en: +------------+-----------+
  id: totrans-1123
  prefs: []
  type: TYPE_NORMAL
  zh: +------------+-----------+
- en: '| Georgi     | Facello   |'
  id: totrans-1124
  prefs: []
  type: TYPE_TB
  zh: '| Georgi     | Facello   |'
- en: '| Minghong   | Kalloufi  |'
  id: totrans-1125
  prefs: []
  type: TYPE_TB
  zh: '| Minghong   | Kalloufi  |'
- en: '| Nagui      | Restivo   |'
  id: totrans-1126
  prefs: []
  type: TYPE_TB
  zh: '| Nagui      | Restivo   |'
- en: '| Nechama    | Bennet    |'
  id: totrans-1127
  prefs: []
  type: TYPE_TB
  zh: '| Nechama    | Bennet    |'
- en: '| Shuzo      | Kirkerud  |'
  id: totrans-1128
  prefs: []
  type: TYPE_TB
  zh: '| Shuzo      | Kirkerud  |'
- en: +------------+-----------+
  id: totrans-1129
  prefs: []
  type: TYPE_NORMAL
  zh: +------------+-----------+
- en: 5 rows in set (0.91 sec)
  id: totrans-1130
  prefs: []
  type: TYPE_NORMAL
  zh: 在集合中有5行（0.91秒）
- en: '[PRE134]'
  id: totrans-1131
  prefs: []
  type: TYPE_PRE
  zh: '[PRE134]'
- en: mysql> SELECT emp_no FROM salaries WHERE salary=(SELECT MAX(salary) FROM salaries);
  id: totrans-1132
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 选择emp_no从salaries WHERE salary=(SELECT MAX(salary) FROM salaries);
- en: +--------+
  id: totrans-1133
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+
- en: '| emp_no |'
  id: totrans-1134
  prefs: []
  type: TYPE_TB
  zh: '| emp_no |'
- en: +--------+
  id: totrans-1135
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+
- en: '|  43624 |'
  id: totrans-1136
  prefs: []
  type: TYPE_TB
  zh: '|  43624 |'
- en: +--------+
  id: totrans-1137
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+
- en: 1 row in set (1.54 sec)
  id: totrans-1138
  prefs: []
  type: TYPE_NORMAL
  zh: 在集合中有1行（1.54秒）
- en: '[PRE135]'
  id: totrans-1139
  prefs: []
  type: TYPE_PRE
  zh: '[PRE135]'
- en: mysql> CREATE TABLE employees_list1 AS SELECT * FROM employees WHERE first_name
    LIKE 'aa%';
  id: totrans-1140
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 创建表employees_list1 AS选择*从employees WHERE first_name LIKE 'aa%';
- en: Query OK, 444 rows affected (0.22 sec)
  id: totrans-1141
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，影响了444行（0.22秒）
- en: 'Records: 444  Duplicates: 0  Warnings: 0'
  id: totrans-1142
  prefs: []
  type: TYPE_NORMAL
  zh: 记录：444 重复项：0  警告：0
- en: mysql> CREATE TABLE employees_list2 AS SELECT * FROM employees WHERE emp_no
    BETWEEN 400000 AND 500000 AND gender='F';
  id: totrans-1143
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 创建表employees_list2 AS选择*从employees WHERE emp_no BETWEEN 400000 AND 500000
    AND gender='F';
- en: Query OK, 39892 rows affected (0.59 sec)
  id: totrans-1144
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，影响了39892行（0.59秒）
- en: 'Records: 39892  Duplicates: 0  Warnings: 0'
  id: totrans-1145
  prefs: []
  type: TYPE_NORMAL
  zh: 记录：39892 重复项：0  警告：0
- en: '[PRE136]'
  id: totrans-1146
  prefs: []
  type: TYPE_PRE
  zh: '[PRE136]'
- en: mysql> SELECT * FROM employees_list1 WHERE emp_no IN (SELECT emp_no FROM  employees_list2);
  id: totrans-1147
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SELECT * FROM employees_list1 WHERE emp_no IN（SELECT emp_no FROM  employees_list2）;
- en: '[PRE137]'
  id: totrans-1148
  prefs: []
  type: TYPE_PRE
  zh: '[PRE137]'
- en: mysql> SELECT l1.* FROM employees_list1 l1 JOIN employees_list2 l2 ON l1.emp_no=l2.emp_no;
  id: totrans-1149
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SELECT l1.* FROM employees_list1 l1 JOIN employees_list2 l2 ON l1.emp_no=l2.emp_no;
- en: '[PRE138]'
  id: totrans-1150
  prefs: []
  type: TYPE_PRE
  zh: '[PRE138]'
- en: mysql> SELECT * FROM employees_list1 WHERE emp_no NOT IN (SELECT emp_no FROM  employees_list2);
  id: totrans-1151
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 选择*从employees_list1 WHERE emp_no NOT IN（SELECT emp_no FROM  employees_list2）;
- en: '[PRE139]'
  id: totrans-1152
  prefs: []
  type: TYPE_PRE
  zh: '[PRE139]'
- en: mysql> SELECT l1.* FROM employees_list1 l1 LEFT OUTER JOIN employees_list2 l2
    ON l1.emp_no=l2.emp_no WHERE l2.emp_no IS NULL;
  id: totrans-1153
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SELECT l1.* FROM employees_list1 l1 LEFT OUTER JOIN employees_list2 l2
    ON l1.emp_no=l2.emp_no WHERE l2.emp_no IS NULL;
- en: '[PRE140]'
  id: totrans-1154
  prefs: []
  type: TYPE_PRE
  zh: '[PRE140]'
- en: mysql> SELECT l1.* FROM employees_list1 l1 LEFT OUTER JOIN employees_list2 l2
    ON l1.emp_no=l2.emp_no WHERE l2.emp_no IS NOT NULL;
  id: totrans-1155
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SELECT l1.* FROM employees_list1 l1 LEFT OUTER JOIN employees_list2 l2
    ON l1.emp_no=l2.emp_no WHERE l2.emp_no IS NOT NULL;
- en: '[PRE141]'
  id: totrans-1156
  prefs: []
  type: TYPE_PRE
  zh: '[PRE141]'
- en: /* DROP the existing procedure if any with the same name before creating */
  id: totrans-1157
  prefs: []
  type: TYPE_NORMAL
  zh: /* 如果有同名的现有过程，请在创建之前删除 */
- en: DROP PROCEDURE IF EXISTS create_employee;
  id: totrans-1158
  prefs: []
  type: TYPE_NORMAL
  zh: 删除过程如果存在create_employee;
- en: /* Change the delimiter to $$ */
  id: totrans-1159
  prefs: []
  type: TYPE_NORMAL
  zh: /* 将分隔符更改为$$ */
- en: DELIMITER $$
  id: totrans-1160
  prefs: []
  type: TYPE_NORMAL
  zh: DELIMITER $$
- en: /* IN specifies the variables taken as arguments, INOUT specifies the output
    variable*/
  id: totrans-1161
  prefs: []
  type: TYPE_NORMAL
  zh: /* IN指定作为参数的变量，INOUT指定输出变量*/
- en: CREATE PROCEDURE create_employee (OUT new_emp_no INT, IN first_name varchar(20),
    IN last_name varchar(20), IN gender enum('M','F'), IN birth_date date, IN emp_dept_name
    varchar(40), IN title varchar(50))
  id: totrans-1162
  prefs: []
  type: TYPE_NORMAL
  zh: 创建过程创建员工（OUT new_emp_no INT，IN first_name varchar(20)，IN last_name varchar(20)，IN
    gender enum('M'，'F')，IN birth_date date，IN emp_dept_name varchar(40)，IN title
    varchar(50))
- en: BEGIN
  id: totrans-1163
  prefs: []
  type: TYPE_NORMAL
  zh: 开始
- en: /* Declare variables for emp_dept_no and salary */
  id: totrans-1164
  prefs: []
  type: TYPE_NORMAL
  zh: /* 为emp_dept_no和salary声明变量 */
- en: DECLARE emp_dept_no char(4);
  id: totrans-1165
  prefs: []
  type: TYPE_NORMAL
  zh: DECLARE emp_dept_no char(4);
- en: DECLARE salary int DEFAULT 60000;
  id: totrans-1166
  prefs: []
  type: TYPE_NORMAL
  zh: DECLARE salary int DEFAULT 60000;
- en: /* Select the maximum employee number into the variable new_emp_no */
  id: totrans-1167
  prefs: []
  type: TYPE_NORMAL
  zh: /* 选择最大的员工编号到变量new_emp_no */
- en: SELECT max(emp_no) INTO new_emp_no FROM employees;
  id: totrans-1168
  prefs: []
  type: TYPE_NORMAL
  zh: SELECT max(emp_no) INTO new_emp_no FROM employees;
- en: /* Increment the new_emp_no */
  id: totrans-1169
  prefs: []
  type: TYPE_NORMAL
  zh: /* 增加new_emp_no */
- en: SET new_emp_no = new_emp_no + 1;
  id: totrans-1170
  prefs: []
  type: TYPE_NORMAL
  zh: SET new_emp_no = new_emp_no + 1;
- en: /* INSERT the data into employees table */
  id: totrans-1171
  prefs: []
  type: TYPE_NORMAL
  zh: /* 将数据插入employees表 */
- en: /* The function CURDATE() gives the current date) */
  id: totrans-1172
  prefs: []
  type: TYPE_NORMAL
  zh: /* 函数CURDATE()给出当前日期） */
- en: INSERT INTO employees VALUES(new_emp_no, birth_date, first_name, last_name,
    gender, CURDATE());
  id: totrans-1173
  prefs: []
  type: TYPE_NORMAL
  zh: INSERT INTO employees VALUES(new_emp_no, birth_date, first_name, last_name,
    gender, CURDATE());
- en: /* Find out the dept_no for dept_name */
  id: totrans-1174
  prefs: []
  type: TYPE_NORMAL
  zh: /* Find out the dept_no for dept_name */
- en: SELECT emp_dept_name;
  id: totrans-1175
  prefs: []
  type: TYPE_NORMAL
  zh: SELECT emp_dept_name;
- en: SELECT dept_no INTO emp_dept_no FROM departments WHERE dept_name=emp_dept_name;
  id: totrans-1176
  prefs: []
  type: TYPE_NORMAL
  zh: SELECT dept_no INTO emp_dept_no FROM departments WHERE dept_name=emp_dept_name;
- en: SELECT emp_dept_no;
  id: totrans-1177
  prefs: []
  type: TYPE_NORMAL
  zh: SELECT emp_dept_no;
- en: /* Insert into dept_emp */
  id: totrans-1178
  prefs: []
  type: TYPE_NORMAL
  zh: /* Insert into dept_emp */
- en: INSERT INTO dept_emp VALUES(new_emp_no, emp_dept_no, CURDATE(), '9999-01-01');
  id: totrans-1179
  prefs: []
  type: TYPE_NORMAL
  zh: INSERT INTO dept_emp VALUES(new_emp_no, emp_dept_no, CURDATE(), '9999-01-01');
- en: /* Insert into titles */
  id: totrans-1180
  prefs: []
  type: TYPE_NORMAL
  zh: /* Insert into titles */
- en: INSERT INTO titles VALUES(new_emp_no, title, CURDATE(), '9999-01-01');
  id: totrans-1181
  prefs: []
  type: TYPE_NORMAL
  zh: INSERT INTO titles VALUES(new_emp_no, title, CURDATE(), '9999-01-01');
- en: /* Find salary based on title */
  id: totrans-1182
  prefs: []
  type: TYPE_NORMAL
  zh: /* Find salary based on title */
- en: IF title = 'Staff'
  id: totrans-1183
  prefs: []
  type: TYPE_NORMAL
  zh: IF title = 'Staff'
- en: THEN SET salary = 100000;
  id: totrans-1184
  prefs: []
  type: TYPE_NORMAL
  zh: THEN SET salary = 100000;
- en: ELSEIF title = 'Senior Staff'
  id: totrans-1185
  prefs: []
  type: TYPE_NORMAL
  zh: ELSEIF title = 'Senior Staff'
- en: THEN SET salary = 120000;
  id: totrans-1186
  prefs: []
  type: TYPE_NORMAL
  zh: THEN SET salary = 120000;
- en: END IF;
  id: totrans-1187
  prefs: []
  type: TYPE_NORMAL
  zh: END IF;
- en: /* Insert into salaries */
  id: totrans-1188
  prefs: []
  type: TYPE_NORMAL
  zh: /* Insert into salaries */
- en: INSERT INTO salaries VALUES(new_emp_no, salary, CURDATE(), '9999-01-01');
  id: totrans-1189
  prefs: []
  type: TYPE_NORMAL
  zh: INSERT INTO salaries VALUES(new_emp_no, salary, CURDATE(), '9999-01-01');
- en: END
  id: totrans-1190
  prefs: []
  type: TYPE_NORMAL
  zh: END
- en: $$
  id: totrans-1191
  prefs: []
  type: TYPE_NORMAL
  zh: $$
- en: /* Change the delimiter back to ; */
  id: totrans-1192
  prefs: []
  type: TYPE_NORMAL
  zh: /* Change the delimiter back to ; */
- en: DELIMITER ;
  id: totrans-1193
  prefs: []
  type: TYPE_NORMAL
  zh: DELIMITER ;
- en: '[PRE142]'
  id: totrans-1194
  prefs: []
  type: TYPE_PRE
  zh: '[PRE142]'
- en: mysql> GRANT EXECUTE ON employees.* TO 'emp_read_only'@'%';
  id: totrans-1195
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> GRANT EXECUTE ON employees.* TO 'emp_read_only'@'%';
- en: Query OK, 0 rows affected (0.05 sec)
  id: totrans-1196
  prefs: []
  type: TYPE_NORMAL
  zh: Query OK, 0 rows affected (0.05 sec)
- en: '[PRE143]'
  id: totrans-1197
  prefs: []
  type: TYPE_PRE
  zh: '[PRE143]'
- en: shell> mysql -u emp_read_only -pemp_pass employees -A
  id: totrans-1198
  prefs: []
  type: TYPE_NORMAL
  zh: shell> mysql -u emp_read_only -pemp_pass employees -A
- en: '[PRE144]'
  id: totrans-1199
  prefs: []
  type: TYPE_PRE
  zh: '[PRE144]'
- en: mysql> CALL create_employee(@new_emp_no, 'John', 'Smith', 'M', '1984-06-19',
    'Research', 'Staff');
  id: totrans-1200
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> CALL create_employee(@new_emp_no, 'John', 'Smith', 'M', '1984-06-19',
    'Research', 'Staff');
- en: Query OK, 1 row affected (0.01 sec)
  id: totrans-1201
  prefs: []
  type: TYPE_NORMAL
  zh: Query OK, 1 row affected (0.01 sec)
- en: '[PRE145]'
  id: totrans-1202
  prefs: []
  type: TYPE_PRE
  zh: '[PRE145]'
- en: mysql> SELECT @new_emp_no;
  id: totrans-1203
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SELECT @new_emp_no;
- en: +-------------+
  id: totrans-1204
  prefs: []
  type: TYPE_NORMAL
  zh: +-------------+
- en: '| @new_emp_no |'
  id: totrans-1205
  prefs: []
  type: TYPE_TB
  zh: '| @new_emp_no |'
- en: +-------------+
  id: totrans-1206
  prefs: []
  type: TYPE_NORMAL
  zh: +-------------+
- en: '|      500000 |'
  id: totrans-1207
  prefs: []
  type: TYPE_TB
  zh: '|      500000 |'
- en: +-------------+
  id: totrans-1208
  prefs: []
  type: TYPE_NORMAL
  zh: +-------------+
- en: 1 row in set (0.00 sec)
  id: totrans-1209
  prefs: []
  type: TYPE_NORMAL
  zh: 1 row in set (0.00 sec)
- en: '[PRE146]'
  id: totrans-1210
  prefs: []
  type: TYPE_PRE
  zh: '[PRE146]'
- en: mysql> SELECT * FROM employees WHERE emp_no=500000;
  id: totrans-1211
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SELECT * FROM employees WHERE emp_no=500000;
- en: +--------+------------+------------+-----------+--------+------------+
  id: totrans-1212
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+------------+------------+-----------+--------+------------+
- en: '| emp_no | birth_date | first_name | last_name | gender | hire_date  |'
  id: totrans-1213
  prefs: []
  type: TYPE_TB
  zh: '| emp_no | birth_date | first_name | last_name | gender | hire_date  |'
- en: +--------+------------+------------+-----------+--------+------------+
  id: totrans-1214
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+------------+------------+-----------+--------+------------+
- en: '| 500000 | 1984-06-19 | John       | Smith     | M      | 2017-06-17 |'
  id: totrans-1215
  prefs: []
  type: TYPE_TB
  zh: '| 500000 | 1984-06-19 | John       | Smith     | M      | 2017-06-17 |'
- en: +--------+------------+------------+-----------+--------+------------+
  id: totrans-1216
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+------------+------------+-----------+--------+------------+
- en: 1 row in set (0.00 sec)
  id: totrans-1217
  prefs: []
  type: TYPE_NORMAL
  zh: 1 row in set (0.00 sec)
- en: mysql> SELECT * FROM salaries WHERE emp_no=500000;
  id: totrans-1218
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SELECT * FROM salaries WHERE emp_no=500000;
- en: +--------+--------+------------+------------+
  id: totrans-1219
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+--------+------------+------------+
- en: '| emp_no | salary | from_date  | to_date    |'
  id: totrans-1220
  prefs: []
  type: TYPE_TB
  zh: '| emp_no | salary | from_date  | to_date    |'
- en: +--------+--------+------------+------------+
  id: totrans-1221
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+--------+------------+------------+
- en: '| 500000 | 100000 | 2017-06-17 | 9999-01-01 |'
  id: totrans-1222
  prefs: []
  type: TYPE_TB
  zh: '| 500000 | 100000 | 2017-06-17 | 9999-01-01 |'
- en: +--------+--------+------------+------------+
  id: totrans-1223
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+--------+------------+------------+
- en: 1 row in set (0.00 sec)
  id: totrans-1224
  prefs: []
  type: TYPE_NORMAL
  zh: 1 row in set (0.00 sec)
- en: mysql> SELECT * FROM titles WHERE emp_no=500000;
  id: totrans-1225
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SELECT * FROM titles WHERE emp_no=500000;
- en: +--------+-------+------------+------------+
  id: totrans-1226
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+-------+------------+------------+
- en: '| emp_no | title | from_date  | to_date    |'
  id: totrans-1227
  prefs: []
  type: TYPE_TB
  zh: '| emp_no | title | from_date  | to_date    |'
- en: +--------+-------+------------+------------+
  id: totrans-1228
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+-------+------------+------------+
- en: '| 500000 | Staff | 2017-06-17 | 9999-01-01 |'
  id: totrans-1229
  prefs: []
  type: TYPE_TB
  zh: '| 500000 | Staff | 2017-06-17 | 9999-01-01 |'
- en: +--------+-------+------------+------------+
  id: totrans-1230
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+-------+------------+------------+
- en: 1 row in set (0.00 sec)
  id: totrans-1231
  prefs: []
  type: TYPE_NORMAL
  zh: 1 row in set (0.00 sec)
- en: '[PRE147]'
  id: totrans-1232
  prefs: []
  type: TYPE_PRE
  zh: '[PRE147]'
- en: shell> vi function.sql;
  id: totrans-1233
  prefs: []
  type: TYPE_NORMAL
  zh: shell> vi function.sql;
- en: DROP FUNCTION IF EXISTS get_sal_level;
  id: totrans-1234
  prefs: []
  type: TYPE_NORMAL
  zh: DROP FUNCTION IF EXISTS get_sal_level;
- en: DELIMITER $$
  id: totrans-1235
  prefs: []
  type: TYPE_NORMAL
  zh: DELIMITER $$
- en: CREATE FUNCTION get_sal_level(emp int) RETURNS VARCHAR(10)
  id: totrans-1236
  prefs: []
  type: TYPE_NORMAL
  zh: CREATE FUNCTION get_sal_level(emp int) RETURNS VARCHAR(10)
- en: DETERMINISTIC
  id: totrans-1237
  prefs: []
  type: TYPE_NORMAL
  zh: DETERMINISTIC
- en: BEGIN
  id: totrans-1238
  prefs: []
  type: TYPE_NORMAL
  zh: BEGIN
- en: DECLARE sal_level varchar(10);
  id: totrans-1239
  prefs: []
  type: TYPE_NORMAL
  zh: DECLARE sal_level varchar(10);
- en: DECLARE avg_sal FLOAT;
  id: totrans-1240
  prefs: []
  type: TYPE_NORMAL
  zh: DECLARE avg_sal FLOAT;
- en: SELECT AVG(salary) INTO avg_sal FROM salaries WHERE emp_no=emp;
  id: totrans-1241
  prefs: []
  type: TYPE_NORMAL
  zh: SELECT AVG(salary) INTO avg_sal FROM salaries WHERE emp_no=emp;
- en: IF avg_sal < 50000 THEN
  id: totrans-1242
  prefs: []
  type: TYPE_NORMAL
  zh: IF avg_sal < 50000 THEN
- en: SET sal_level = 'BRONZE';
  id: totrans-1243
  prefs: []
  type: TYPE_NORMAL
  zh: SET sal_level = 'BRONZE';
- en: ELSEIF (avg_sal >= 50000 AND avg_sal < 70000) THEN
  id: totrans-1244
  prefs: []
  type: TYPE_NORMAL
  zh: ELSEIF (avg_sal >= 50000 AND avg_sal < 70000) THEN
- en: SET sal_level = 'SILVER';
  id: totrans-1245
  prefs: []
  type: TYPE_NORMAL
  zh: SET sal_level = 'SILVER';
- en: ELSEIF (avg_sal >= 70000 AND avg_sal < 90000) THEN
  id: totrans-1246
  prefs: []
  type: TYPE_NORMAL
  zh: ELSEIF (avg_sal >= 70000 AND avg_sal < 90000) THEN
- en: SET sal_level = 'GOLD';
  id: totrans-1247
  prefs: []
  type: TYPE_NORMAL
  zh: SET sal_level = 'GOLD';
- en: ELSEIF (avg_sal >= 90000) THEN
  id: totrans-1248
  prefs: []
  type: TYPE_NORMAL
  zh: ELSEIF (avg_sal >= 90000) THEN
- en: SET sal_level = 'PLATINUM';
  id: totrans-1249
  prefs: []
  type: TYPE_NORMAL
  zh: SET sal_level = 'PLATINUM';
- en: ELSE
  id: totrans-1250
  prefs: []
  type: TYPE_NORMAL
  zh: ELSE
- en: SET sal_level = 'NOT FOUND';
  id: totrans-1251
  prefs: []
  type: TYPE_NORMAL
  zh: SET sal_level = 'NOT FOUND';
- en: END IF;
  id: totrans-1252
  prefs: []
  type: TYPE_NORMAL
  zh: END IF;
- en: RETURN (sal_level);
  id: totrans-1253
  prefs: []
  type: TYPE_NORMAL
  zh: RETURN (sal_level);
- en: END
  id: totrans-1254
  prefs: []
  type: TYPE_NORMAL
  zh: END
- en: $$
  id: totrans-1255
  prefs: []
  type: TYPE_NORMAL
  zh: $$
- en: DELIMITER ;
  id: totrans-1256
  prefs: []
  type: TYPE_NORMAL
  zh: DELIMITER ;
- en: '[PRE148]'
  id: totrans-1257
  prefs: []
  type: TYPE_PRE
  zh: '[PRE148]'
- en: mysql> SOURCE function.sql;
  id: totrans-1258
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SOURCE function.sql;
- en: Query OK, 0 rows affected (0.00 sec)
  id: totrans-1259
  prefs: []
  type: TYPE_NORMAL
  zh: Query OK, 0 rows affected (0.00 sec)
- en: Query OK, 0 rows affected (0.01 sec)
  id: totrans-1260
  prefs: []
  type: TYPE_NORMAL
  zh: Query OK, 0 rows affected (0.01 sec)
- en: '[PRE149]'
  id: totrans-1261
  prefs: []
  type: TYPE_PRE
  zh: '[PRE149]'
- en: You have to pass the employee number and the function returns the income level.
  id: totrans-1262
  prefs: []
  type: TYPE_NORMAL
  zh: 您必须传递员工编号，函数返回收入水平。
- en: mysql> SELECT get_sal_level(10002);
  id: totrans-1263
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SELECT get_sal_level(10002);
- en: +----------------------+
  id: totrans-1264
  prefs: []
  type: TYPE_NORMAL
  zh: +----------------------+
- en: '| get_sal_level(10002) |'
  id: totrans-1265
  prefs: []
  type: TYPE_TB
  zh: '| get_sal_level(10002) |'
- en: +----------------------+
  id: totrans-1266
  prefs: []
  type: TYPE_NORMAL
  zh: +----------------------+
- en: '| SILVER               |'
  id: totrans-1267
  prefs: []
  type: TYPE_TB
  zh: '| SILVER               |'
- en: +----------------------+
  id: totrans-1268
  prefs: []
  type: TYPE_NORMAL
  zh: +----------------------+
- en: 1 row in set (0.00 sec)
  id: totrans-1269
  prefs: []
  type: TYPE_NORMAL
  zh: 1 row in set (0.00 sec)
- en: mysql> SELECT get_sal_level(10001);
  id: totrans-1270
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SELECT get_sal_level(10001);
- en: +----------------------+
  id: totrans-1271
  prefs: []
  type: TYPE_NORMAL
  zh: +----------------------+
- en: '| get_sal_level(10001) |'
  id: totrans-1272
  prefs: []
  type: TYPE_TB
  zh: '| get_sal_level(10001) |'
- en: +----------------------+
  id: totrans-1273
  prefs: []
  type: TYPE_NORMAL
  zh: +----------------------+
- en: '| GOLD                 |'
  id: totrans-1274
  prefs: []
  type: TYPE_TB
  zh: '| GOLD                 |'
- en: +----------------------+
  id: totrans-1275
  prefs: []
  type: TYPE_NORMAL
  zh: +----------------------+
- en: 1 row in set (0.00 sec)
  id: totrans-1276
  prefs: []
  type: TYPE_NORMAL
  zh: 1 row in set (0.00 sec)
- en: mysql> SELECT get_sal_level(1);
  id: totrans-1277
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SELECT get_sal_level(1);
- en: +------------------+
  id: totrans-1278
  prefs: []
  type: TYPE_NORMAL
  zh: +------------------+
- en: '| get_sal_level(1) |'
  id: totrans-1279
  prefs: []
  type: TYPE_TB
  zh: '| get_sal_level(1) |'
- en: +------------------+
  id: totrans-1280
  prefs: []
  type: TYPE_NORMAL
  zh: +------------------+
- en: '| NOT FOUND        |'
  id: totrans-1281
  prefs: []
  type: TYPE_TB
  zh: '| NOT FOUND        |'
- en: +------------------+
  id: totrans-1282
  prefs: []
  type: TYPE_NORMAL
  zh: +------------------+
- en: 1 row in set (0.00 sec)
  id: totrans-1283
  prefs: []
  type: TYPE_NORMAL
  zh: 1 row in set (0.00 sec)
- en: '[PRE150]'
  id: totrans-1284
  prefs: []
  type: TYPE_PRE
  zh: '[PRE150]'
- en: mysql> SELECT * FROM employees WHERE hire_date = CURDATE();
  id: totrans-1285
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SELECT * FROM employees WHERE hire_date = CURDATE();
- en: '[PRE151]'
  id: totrans-1286
  prefs: []
  type: TYPE_PRE
  zh: '[PRE151]'
- en: mysql> SELECT DATE_ADD(CURDATE(), INTERVAL -7 DAY) AS '7 Days Ago';
  id: totrans-1287
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SELECT DATE_ADD(CURDATE(), INTERVAL -7 DAY) AS '7 Days Ago';
- en: '[PRE152]'
  id: totrans-1288
  prefs: []
  type: TYPE_PRE
  zh: '[PRE152]'
- en: mysql> SELECT CONCAT(first_name, ' ', last_name) FROM employees LIMIT 1;
  id: totrans-1289
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SELECT CONCAT(first_name, ' ', last_name) FROM employees LIMIT 1;
- en: +------------------------------------+
  id: totrans-1290
  prefs: []
  type: TYPE_NORMAL
  zh: +------------------------------------+
- en: '| CONCAT(first_name, '' '', last_name) |'
  id: totrans-1291
  prefs: []
  type: TYPE_TB
  zh: '| CONCAT(first_name, '' '', last_name) |'
- en: +------------------------------------+
  id: totrans-1292
  prefs: []
  type: TYPE_NORMAL
  zh: +------------------------------------+
- en: '| Aamer Anger                        |'
  id: totrans-1293
  prefs: []
  type: TYPE_TB
  zh: '| Aamer Anger                        |'
- en: +------------------------------------+
  id: totrans-1294
  prefs: []
  type: TYPE_NORMAL
  zh: +------------------------------------+
- en: 1 row in set (0.00 sec)
  id: totrans-1295
  prefs: []
  type: TYPE_NORMAL
  zh: 1 row in set (0.00 sec)
- en: '[PRE153]'
  id: totrans-1296
  prefs: []
  type: TYPE_PRE
  zh: '[PRE153]'
- en: shell> vi before_insert_trigger.sql
  id: totrans-1297
  prefs: []
  type: TYPE_NORMAL
  zh: shell> vi before_insert_trigger.sql
- en: DROP TRIGGER IF EXISTS salary_round;
  id: totrans-1298
  prefs: []
  type: TYPE_NORMAL
  zh: 如果存在删除触发器工资轮；
- en: DELIMITER $$
  id: totrans-1299
  prefs: []
  type: TYPE_NORMAL
  zh: DELIMITER $$
- en: CREATE TRIGGER salary_round BEFORE INSERT ON salaries
  id: totrans-1300
  prefs: []
  type: TYPE_NORMAL
  zh: 创建触发器工资轮在工资上的每一行之前插入
- en: FOR EACH ROW
  id: totrans-1301
  prefs: []
  type: TYPE_NORMAL
  zh: 对于每一行
- en: BEGIN
  id: totrans-1302
  prefs: []
  type: TYPE_NORMAL
  zh: 开始
- en: SET NEW.salary=ROUND(NEW.salary);
  id: totrans-1303
  prefs: []
  type: TYPE_NORMAL
  zh: 设置NEW.salary=ROUND（NEW.salary）；
- en: END
  id: totrans-1304
  prefs: []
  type: TYPE_NORMAL
  zh: END
- en: $$
  id: totrans-1305
  prefs: []
  type: TYPE_NORMAL
  zh: $$
- en: DELIMITER ;
  id: totrans-1306
  prefs: []
  type: TYPE_NORMAL
  zh: DELIMITER；
- en: '[PRE154]'
  id: totrans-1307
  prefs: []
  type: TYPE_PRE
  zh: '[PRE154]'
- en: mysql> SOURCE before_insert_trigger.sql;
  id: totrans-1308
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SOURCE before_insert_trigger.sql；
- en: Query OK, 0 rows affected (0.06 sec)
  id: totrans-1309
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，0行受影响（0.06秒）
- en: Query OK, 0 rows affected (0.00 sec)
  id: totrans-1310
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，0行受影响（0.00秒）
- en: '[PRE155]'
  id: totrans-1311
  prefs: []
  type: TYPE_PRE
  zh: '[PRE155]'
- en: mysql> INSERT INTO salaries VALUES(10002, 100000.79, CURDATE(), '9999-01-01');
  id: totrans-1312
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 插入工资值（10002，100000.79，CURDATE（），'9999-01-01'）；
- en: Query OK, 1 row affected (0.04 sec)
  id: totrans-1313
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，影响1行（0.04秒）
- en: '[PRE156]'
  id: totrans-1314
  prefs: []
  type: TYPE_PRE
  zh: '[PRE156]'
- en: mysql> SELECT * FROM salaries WHERE emp_no=10002 AND from_date=CURDATE();
  id: totrans-1315
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 选择*从工资中，员工编号=10002和从日期=CURDATE();
- en: +--------+--------+------------+------------+
  id: totrans-1316
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+--------+------------+------------+
- en: '| emp_no | salary | from_date  | to_date    |'
  id: totrans-1317
  prefs: []
  type: TYPE_TB
  zh: '| emp_no | salary | from_date | to_date |'
- en: +--------+--------+------------+------------+
  id: totrans-1318
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+--------+------------+------------+
- en: '|  10002 | 100001 | 2017-06-18 | 9999-01-01 |'
  id: totrans-1319
  prefs: []
  type: TYPE_TB
  zh: '| 10002 | 100001 | 2017-06-18 | 9999-01-01 |'
- en: +--------+--------+------------+------------+
  id: totrans-1320
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+--------+------------+------------+
- en: 1 row in set (0.00 sec)
  id: totrans-1321
  prefs: []
  type: TYPE_NORMAL
  zh: 1行设置（0.00秒）
- en: '[PRE157]'
  id: totrans-1322
  prefs: []
  type: TYPE_PRE
  zh: '[PRE157]'
- en: mysql> CREATE TABLE salary_audit (emp_no int, user varchar(50), date_modified
    date);
  id: totrans-1323
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 创建工资审计表（emp_no int，user varchar（50），date_modified date）；
- en: '[PRE158]'
  id: totrans-1324
  prefs: []
  type: TYPE_PRE
  zh: '[PRE158]'
- en: shell> vi before_insert_trigger.sql
  id: totrans-1325
  prefs: []
  type: TYPE_NORMAL
  zh: shell> vi before_insert_trigger.sql
- en: DELIMITER $$
  id: totrans-1326
  prefs: []
  type: TYPE_NORMAL
  zh: DELIMITER $$
- en: CREATE TRIGGER salary_audit
  id: totrans-1327
  prefs: []
  type: TYPE_NORMAL
  zh: 创建触发器工资审计
- en: BEFORE INSERT
  id: totrans-1328
  prefs: []
  type: TYPE_NORMAL
  zh: 在插入之前
- en: ON salaries FOR EACH ROW PRECEDES salary_round
  id: totrans-1329
  prefs: []
  type: TYPE_NORMAL
  zh: 在工资上对于每一行在salary_round之前
- en: BEGIN
  id: totrans-1330
  prefs: []
  type: TYPE_NORMAL
  zh: 开始
- en: INSERT INTO salary_audit VALUES(NEW.emp_no, USER(), CURDATE());
  id: totrans-1331
  prefs: []
  type: TYPE_NORMAL
  zh: 插入工资审计值（NEW.emp_no，USER（），CURDATE（））；
- en: END; $$
  id: totrans-1332
  prefs: []
  type: TYPE_NORMAL
  zh: END; $$
- en: DELIMITER ;
  id: totrans-1333
  prefs: []
  type: TYPE_NORMAL
  zh: DELIMITER；
- en: '[PRE159]'
  id: totrans-1334
  prefs: []
  type: TYPE_PRE
  zh: '[PRE159]'
- en: mysql> INSERT INTO salaries VALUES(10003, 100000.79, CURDATE(), '9999-01-01');
  id: totrans-1335
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 插入工资值（10003，100000.79，CURDATE（），'9999-01-01'）；
- en: Query OK, 1 row affected (0.06 sec)
  id: totrans-1336
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，影响1行（0.06秒）
- en: '[PRE160]'
  id: totrans-1337
  prefs: []
  type: TYPE_PRE
  zh: '[PRE160]'
- en: mysql> SELECT * FROM salary_audit WHERE emp_no=10003;
  id: totrans-1338
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 选择*从工资审计中，员工编号=10003；
- en: +--------+----------------+---------------+
  id: totrans-1339
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+----------------+---------------+
- en: '| emp_no | user           | date_modified |'
  id: totrans-1340
  prefs: []
  type: TYPE_TB
  zh: '| emp_no | user | date_modified | |'
- en: +--------+----------------+---------------+
  id: totrans-1341
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+----------------+---------------+
- en: '|  10003 | root@localhost | 2017-06-18    |'
  id: totrans-1342
  prefs: []
  type: TYPE_TB
  zh: '| 10003 | root@localhost | 2017-06-18 |'
- en: +--------+----------------+---------------+
  id: totrans-1343
  prefs: []
  type: TYPE_NORMAL
  zh: +--------+----------------+---------------+
- en: 1 row in set (0.00 sec)
  id: totrans-1344
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，1行受影响（0.00秒）
- en: '[PRE161]'
  id: totrans-1345
  prefs: []
  type: TYPE_PRE
  zh: '[PRE161]'
- en: mysql> CREATE ALGORITHM=UNDEFINED
  id: totrans-1346
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 创建算法=未定义
- en: DEFINER=`root`@`localhost`
  id: totrans-1347
  prefs: []
  type: TYPE_NORMAL
  zh: DEFINER=`root`@`localhost`
- en: SQL SECURITY DEFINER VIEW salary_view
  id: totrans-1348
  prefs: []
  type: TYPE_NORMAL
  zh: SQL安全性定义器视图salary_view
- en: AS
  id: totrans-1349
  prefs: []
  type: TYPE_NORMAL
  zh: AS
- en: SELECT emp_no, salary FROM salaries WHERE from_date > '2002-01-01';
  id: totrans-1350
  prefs: []
  type: TYPE_NORMAL
  zh: 选择emp_no，工资从工资中，从日期>'2002-01-01'；
- en: '[PRE162]'
  id: totrans-1351
  prefs: []
  type: TYPE_PRE
  zh: '[PRE162]'
- en: mysql> SELECT emp_no, AVG(salary) as avg FROM salary_view GROUP BY emp_no ORDER
    BY avg DESC LIMIT 5;
  id: totrans-1352
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 选择emp_no，AVG（salary）作为avg从salary_view中GROUP BY emp_no ORDER BY avg DESC
    LIMIT 5；
- en: '[PRE163]'
  id: totrans-1353
  prefs: []
  type: TYPE_PRE
  zh: '[PRE163]'
- en: mysql> SHOW FULL TABLES WHERE TABLE_TYPE LIKE 'VIEW';
  id: totrans-1354
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 显示完整的表，其中表类型为“视图”；
- en: '[PRE164]'
  id: totrans-1355
  prefs: []
  type: TYPE_PRE
  zh: '[PRE164]'
- en: mysql> SHOW CREATE VIEW salary_view\G
  id: totrans-1356
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 显示创建视图salary_view\G
- en: '[PRE165]'
  id: totrans-1357
  prefs: []
  type: TYPE_PRE
  zh: '[PRE165]'
- en: mysql> UPDATE salary_view SET salary=100000 WHERE emp_no=10001;
  id: totrans-1358
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 更新salary_view设置工资=100000，员工编号=10001；
- en: Query OK, 1 row affected (0.01 sec)
  id: totrans-1359
  prefs: []
  type: TYPE_NORMAL
  zh: 查询成功，影响1行（0.01秒）
- en: 'Rows matched: 2 Changed: 1 Warnings: 0'
  id: totrans-1360
  prefs: []
  type: TYPE_NORMAL
  zh: 匹配行：2 已更改：1 警告：0
- en: '[PRE166]'
  id: totrans-1361
  prefs: []
  type: TYPE_PRE
  zh: '[PRE166]'
- en: mysql> INSERT INTO salary_view VALUES(10001,100001);
  id: totrans-1362
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 插入salary_view值（10001，100001）；
- en: 'ERROR 1423 (HY000): Field of view ''employees.salary_view'' underlying table
    doesn''t have a default value'
  id: totrans-1363
  prefs: []
  type: TYPE_NORMAL
  zh: 错误1423（HY000）：视图'employees.salary_view'的基础表字段没有默认值
- en: '[PRE167]'
  id: totrans-1364
  prefs: []
  type: TYPE_PRE
  zh: '[PRE167]'
- en: mysql> SET GLOBAL event_scheduler = ON;
  id: totrans-1365
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 设置全局事件调度程序=开；
- en: '[PRE168]'
  id: totrans-1366
  prefs: []
  type: TYPE_PRE
  zh: '[PRE168]'
- en: mysql> DROP EVENT IF EXISTS purge_salary_audit;
  id: totrans-1367
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 如果存在清除工资审计事件；
- en: DELIMITER $$
  id: totrans-1368
  prefs: []
  type: TYPE_NORMAL
  zh: DELIMITER $$
- en: CREATE EVENT IF NOT EXISTS purge_salary_audit
  id: totrans-1369
  prefs: []
  type: TYPE_NORMAL
  zh: 创建事件如果不存在清除工资审计
- en: ON SCHEDULE
  id: totrans-1370
  prefs: []
  type: TYPE_NORMAL
  zh: 按计划
- en: EVERY 1 WEEK
  id: totrans-1371
  prefs: []
  type: TYPE_NORMAL
  zh: 每1周
- en: STARTS CURRENT_DATE
  id: totrans-1372
  prefs: []
  type: TYPE_NORMAL
  zh: 开始日期
- en: DO BEGIN
  id: totrans-1373
  prefs: []
  type: TYPE_NORMAL
  zh: DO BEGIN
- en: DELETE FROM salary_audit WHERE date_modified < DATE_ADD(CURDATE(), INTERVAL
    -7 day);
  id: totrans-1374
  prefs: []
  type: TYPE_NORMAL
  zh: 删除工资审计，其中修改日期<DATE_ADD（CURDATE（），INTERVAL -7天）；
- en: END $$
  id: totrans-1375
  prefs: []
  type: TYPE_NORMAL
  zh: END $$
- en: DELIMITER ;
  id: totrans-1376
  prefs: []
  type: TYPE_NORMAL
  zh: DELIMITER；
- en: '[PRE169]'
  id: totrans-1377
  prefs: []
  type: TYPE_PRE
  zh: '[PRE169]'
- en: mysql> SHOW EVENTS\G
  id: totrans-1378
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 显示事件\G
- en: '*************************** 1\. row ***************************'
  id: totrans-1379
  prefs: []
  type: TYPE_NORMAL
  zh: '*************************** 1\. 行 ***************************'
- en: 'Db: employees'
  id: totrans-1380
  prefs: []
  type: TYPE_NORMAL
  zh: 数据库：员工
- en: 'Name: purge_salary_audit'
  id: totrans-1381
  prefs: []
  type: TYPE_NORMAL
  zh: 名称：清除工资审计
- en: 'Definer: root@localhost'
  id: totrans-1382
  prefs: []
  type: TYPE_NORMAL
  zh: 定义者：root@localhost
- en: 'Time zone: SYSTEM'
  id: totrans-1383
  prefs: []
  type: TYPE_NORMAL
  zh: 时区：系统
- en: 'Type: RECURRING'
  id: totrans-1384
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：循环
- en: 'Execute at: NULL'
  id: totrans-1385
  prefs: []
  type: TYPE_NORMAL
  zh: 在NULL处执行
- en: 'Interval value: 1'
  id: totrans-1386
  prefs: []
  type: TYPE_NORMAL
  zh: 间隔值：1
- en: 'Interval field: MINUTE'
  id: totrans-1387
  prefs: []
  type: TYPE_NORMAL
  zh: 间隔字段：分钟
- en: 'Starts: 2017-06-18 00:00:00'
  id: totrans-1388
  prefs: []
  type: TYPE_NORMAL
  zh: 开始日期：2017-06-18 00:00:00
- en: 'Ends: NULL'
  id: totrans-1389
  prefs: []
  type: TYPE_NORMAL
  zh: 结束：NULL
- en: 'Status: ENABLED'
  id: totrans-1390
  prefs: []
  type: TYPE_NORMAL
  zh: 状态：已启用
- en: 'Originator: 0'
  id: totrans-1391
  prefs: []
  type: TYPE_NORMAL
  zh: 发起者：0
- en: 'character_set_client: utf8'
  id: totrans-1392
  prefs: []
  type: TYPE_NORMAL
  zh: 客户端字符集：utf8
- en: 'collation_connection: utf8_general_ci'
  id: totrans-1393
  prefs: []
  type: TYPE_NORMAL
  zh: 连接排序：utf8_general_ci
- en: 'Database Collation: utf8mb4_0900_ai_ci'
  id: totrans-1394
  prefs: []
  type: TYPE_NORMAL
  zh: 数据库排序：utf8mb4_0900_ai_ci
- en: 1 row in set (0.00 sec)
  id: totrans-1395
  prefs: []
  type: TYPE_NORMAL
  zh: 1行设置（0.00秒）
- en: '[PRE170]'
  id: totrans-1396
  prefs: []
  type: TYPE_PRE
  zh: '[PRE170]'
- en: mysql> SHOW CREATE EVENT purge_salary_audit\G
  id: totrans-1397
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 显示创建事件清除工资审计\G
- en: '[PRE171]'
  id: totrans-1398
  prefs: []
  type: TYPE_PRE
  zh: '[PRE171]'
- en: mysql> ALTER EVENT purge_salary_audit DISABLE;
  id: totrans-1399
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> ALTER EVENT purge_salary_audit DISABLE；
- en: mysql> ALTER EVENT purge_salary_audit ENABLE;
  id: totrans-1400
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> ALTER EVENT purge_salary_audit ENABLE；
- en: '[PRE172]'
  id: totrans-1401
  prefs: []
  type: TYPE_PRE
  zh: '[PRE172]'
- en: mysql> USE INFORMATION_SCHEMA;
  id: totrans-1402
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 使用信息模式;
- en: mysql> SHOW TABLES;
  id: totrans-1403
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 显示表；
- en: '[PRE173]'
  id: totrans-1404
  prefs: []
  type: TYPE_PRE
  zh: '[PRE173]'
- en: mysql> DESC INFORMATION_SCHEMA.TABLES;
  id: totrans-1405
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> DESC信息模式。表；
- en: +-----------------+--------------------------------------------------------------------+------+-----+-------------------+-----------------------------+
  id: totrans-1406
  prefs: []
  type: TYPE_NORMAL
  zh: +-----------------+--------------------------------------------------------------------+------+-----+-------------------+-----------------------------+
- en: '| Field           | Type                                                               |
    Null | Key | Default           | Extra                       |'
  id: totrans-1407
  prefs: []
  type: TYPE_TB
  zh: '|字段|类型|空|键|默认|额外|'
- en: +-----------------+--------------------------------------------------------------------+------+-----+-------------------+-----------------------------+
  id: totrans-1408
  prefs: []
  type: TYPE_NORMAL
  zh: +-----------------+--------------------------------------------------------------------+------+-----+-------------------+-----------------------------+
- en: '| TABLE_CATALOG   | varchar(64)                                                        |
    NO   |     | NULL              |                             |'
  id: totrans-1409
  prefs: []
  type: TYPE_TB
  zh: '|表目录|varchar(64)|否| |空| |'
- en: '| TABLE_SCHEMA    | varchar(64)                                                        |
    NO   |     | NULL              |                             |'
  id: totrans-1410
  prefs: []
  type: TYPE_TB
  zh: '|表模式|varchar(64)|否| |空| |'
- en: '| TABLE_NAME      | varchar(64)                                                        |
    NO   |     | NULL              |                             |'
  id: totrans-1411
  prefs: []
  type: TYPE_TB
  zh: '|表名称|varchar(64)|否| |空| |'
- en: '| TABLE_TYPE      | enum(''BASE TABLE'',''VIEW'',''SYSTEM VIEW'')                            |
    NO   |     | NULL              |                             |'
  id: totrans-1412
  prefs: []
  type: TYPE_TB
  zh: '| 表类型           | enum(''BASE TABLE'',''VIEW'',''SYSTEM VIEW'')                            |
    否   |     | NULL              |                             |'
- en: '| ENGINE          | varchar(64)                                                        |
    YES  |     | NULL              |                             |'
  id: totrans-1413
  prefs: []
  type: TYPE_TB
  zh: '| 引擎            | varchar(64)                                                        |
    是   |     | NULL              |                             |'
- en: '| VERSION         | int(2)                                                             |
    YES  |     | NULL              |                             |'
  id: totrans-1414
  prefs: []
  type: TYPE_TB
  zh: '| 版本            | int(2)                                                             |
    是   |     | NULL              |                             |'
- en: '| ROW_FORMAT      | enum(''Fixed'',''Dynamic'',''Compressed'',''Redundant'',''Compact'',''Paged'')
    | YES  |     | NULL              |                             |'
  id: totrans-1415
  prefs: []
  type: TYPE_TB
  zh: '| 行格式           | enum(''Fixed'',''Dynamic'',''Compressed'',''Redundant'',''Compact'',''Paged'')
    | 是   |     | NULL              |                             |'
- en: '| TABLE_ROWS      | bigint(20) unsigned                                                |
    YES  |     | NULL              |                             |'
  id: totrans-1416
  prefs: []
  type: TYPE_TB
  zh: '| 表行数           | bigint(20) unsigned                                                |
    是   |     | NULL              |                             |'
- en: '| AVG_ROW_LENGTH  | bigint(20) unsigned                                                |
    YES  |     | NULL              |                             |'
  id: totrans-1417
  prefs: []
  type: TYPE_TB
  zh: '| 平均行长度       | bigint(20) unsigned                                                |
    是   |     | NULL              |                             |'
- en: '| DATA_LENGTH     | bigint(20) unsigned                                                |
    YES  |     | NULL              |                             |'
  id: totrans-1418
  prefs: []
  type: TYPE_TB
  zh: '| 数据长度         | bigint(20) unsigned                                                |
    是   |     | NULL              |                             |'
- en: '| MAX_DATA_LENGTH | bigint(20) unsigned                                                |
    YES  |     | NULL              |                             |'
  id: totrans-1419
  prefs: []
  type: TYPE_TB
  zh: '| 最大数据长度     | bigint(20) unsigned                                                |
    是   |     | NULL              |                             |'
- en: '| INDEX_LENGTH    | bigint(20) unsigned                                                |
    YES  |     | NULL              |                             |'
  id: totrans-1420
  prefs: []
  type: TYPE_TB
  zh: '| 索引长度         | bigint(20) unsigned                                                |
    是   |     | NULL              |                             |'
- en: '| DATA_FREE       | bigint(20) unsigned                                                |
    YES  |     | NULL              |                             |'
  id: totrans-1421
  prefs: []
  type: TYPE_TB
  zh: '| 空闲数据         | bigint(20) unsigned                                                |
    是   |     | NULL              |                             |'
- en: '| AUTO_INCREMENT  | bigint(20) unsigned                                                |
    YES  |     | NULL              |                             |'
  id: totrans-1422
  prefs: []
  type: TYPE_TB
  zh: '| 自动增量         | bigint(20) unsigned                                                |
    是   |     | NULL              |                             |'
- en: '| CREATE_TIME     | timestamp                                                          |
    NO   |     | CURRENT_TIMESTAMP | on update CURRENT_TIMESTAMP |'
  id: totrans-1423
  prefs: []
  type: TYPE_TB
  zh: '| 创建时间         | timestamp                                                          |
    否   |     | CURRENT_TIMESTAMP | on update CURRENT_TIMESTAMP |'
- en: '| UPDATE_TIME     | timestamp                                                          |
    YES  |     | NULL              |                             |'
  id: totrans-1424
  prefs: []
  type: TYPE_TB
  zh: '| 更新时间         | timestamp                                                          |
    是   |     | NULL              |                             |'
- en: '| CHECK_TIME      | timestamp                                                          |
    YES  |     | NULL              |                             |'
  id: totrans-1425
  prefs: []
  type: TYPE_TB
  zh: '| 校验时间         | timestamp                                                          |
    是   |     | NULL              |                             |'
- en: '| TABLE_COLLATION | varchar(64)                                                        |
    YES  |     | NULL              |                             |'
  id: totrans-1426
  prefs: []
  type: TYPE_TB
  zh: '| 表排序规则       | varchar(64)                                                        |
    是   |     | NULL              |                             |'
- en: '| CHECKSUM        | bigint(20) unsigned                                                |
    YES  |     | NULL              |                             |'
  id: totrans-1427
  prefs: []
  type: TYPE_TB
  zh: '| 校验和           | bigint(20) unsigned                                                |
    是   |     | NULL              |                             |'
- en: '| CREATE_OPTIONS  | varchar(256)                                                       |
    YES  |     | NULL              |                             |'
  id: totrans-1428
  prefs: []
  type: TYPE_TB
  zh: '| 创建选项         | varchar(256)                                                       |
    是   |     | NULL              |                             |'
- en: '| TABLE_COMMENT   | varchar(256)                                                       |
    YES  |     | NULL              |                             |'
  id: totrans-1429
  prefs: []
  type: TYPE_TB
  zh: '| 表注释           | varchar(256)                                                       |
    是   |     | NULL              |                             |'
- en: +-----------------+--------------------------------------------------------------------+------+-----+-------------------+-----------------------------+
  id: totrans-1430
  prefs: []
  type: TYPE_NORMAL
  zh: +-----------------+--------------------------------------------------------------------+------+-----+-------------------+-----------------------------+
- en: 21 rows in set (0.00 sec)
  id: totrans-1431
  prefs: []
  type: TYPE_NORMAL
  zh: 21 行 (0.00 秒)
- en: '[PRE174]'
  id: totrans-1432
  prefs: []
  type: TYPE_PRE
  zh: '[PRE174]'
- en: mysql> SELECT SUM(DATA_LENGTH)/1024/1024 AS DATA_SIZE_MB, SUM(INDEX_LENGTH)/1024/1024
    AS INDEX_SIZE_MB, SUM(DATA_FREE)/1024/1024 AS DATA_FREE_MB FROM INFORMATION_SCHEMA.TABLES
    WHERE TABLE_SCHEMA='employees';
  id: totrans-1433
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SELECT SUM(DATA_LENGTH)/1024/1024 AS DATA_SIZE_MB, SUM(INDEX_LENGTH)/1024/1024
    AS INDEX_SIZE_MB, SUM(DATA_FREE)/1024/1024 AS DATA_FREE_MB FROM INFORMATION_SCHEMA.TABLES
    WHERE TABLE_SCHEMA='employees';
- en: +--------------+---------------+--------------+
  id: totrans-1434
  prefs: []
  type: TYPE_NORMAL
  zh: +--------------+---------------+--------------+
- en: '| DATA_SIZE_MB | INDEX_SIZE_MB | DATA_FREE_MB |'
  id: totrans-1435
  prefs: []
  type: TYPE_TB
  zh: '| 数据大小(MB) | 索引大小(MB) | 空闲数据(MB) |'
- en: +--------------+---------------+--------------+
  id: totrans-1436
  prefs: []
  type: TYPE_NORMAL
  zh: +--------------+---------------+--------------+
- en: '|  17.39062500 |   14.62500000 |  11.00000000 |'
  id: totrans-1437
  prefs: []
  type: TYPE_TB
  zh: '|  17.39062500 |   14.62500000 |  11.00000000 |'
- en: +--------------+---------------+--------------+
  id: totrans-1438
  prefs: []
  type: TYPE_NORMAL
  zh: +--------------+---------------+--------------+
- en: 1 row in set (0.01 sec)
  id: totrans-1439
  prefs: []
  type: TYPE_NORMAL
  zh: 1 行 (0.01 秒)
- en: '[PRE175]'
  id: totrans-1440
  prefs: []
  type: TYPE_PRE
  zh: '[PRE175]'
- en: mysql> SELECT * FROM COLUMNS WHERE TABLE_NAME='employees'\G
  id: totrans-1441
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SELECT * FROM COLUMNS WHERE TABLE_NAME='employees'\G
- en: '[PRE176]'
  id: totrans-1442
  prefs: []
  type: TYPE_PRE
  zh: '[PRE176]'
- en: mysql> SELECT * FROM FILES WHERE FILE_NAME LIKE './employees/employees.ibd'\G
  id: totrans-1443
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SELECT * FROM FILES WHERE FILE_NAME LIKE './employees/employees.ibd'\G
- en: ~~~
  id: totrans-1444
  prefs: []
  type: TYPE_NORMAL
  zh: ~~~
- en: 'EXTENT_SIZE: 1048576'
  id: totrans-1445
  prefs: []
  type: TYPE_NORMAL
  zh: 'EXTENT_SIZE: 1048576'
- en: 'AUTOEXTEND_SIZE: 4194304'
  id: totrans-1446
  prefs: []
  type: TYPE_NORMAL
  zh: 'AUTOEXTEND_SIZE: 4194304'
- en: 'DATA_FREE: 13631488'
  id: totrans-1447
  prefs: []
  type: TYPE_NORMAL
  zh: 'DATA_FREE: 13631488'
- en: ~~~
  id: totrans-1448
  prefs: []
  type: TYPE_NORMAL
  zh: ~~~
- en: '[PRE177]'
  id: totrans-1449
  prefs: []
  type: TYPE_PRE
  zh: '[PRE177]'
- en: mysql> SELECT * FROM INNODB_TABLESPACES WHERE NAME='employees/employees'\G
  id: totrans-1450
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> SELECT * FROM INNODB_TABLESPACES WHERE NAME='employees/employees'\G
- en: '*************************** 1\. row ***************************'
  id: totrans-1451
  prefs: []
  type: TYPE_NORMAL
  zh: '*************************** 1\. 行 ***************************'
- en: 'SPACE: 118'
  id: totrans-1452
  prefs: []
  type: TYPE_NORMAL
  zh: 'SPACE: 118'
- en: 'NAME: employees/employees'
  id: totrans-1453
  prefs: []
  type: TYPE_NORMAL
  zh: '名称: employees/employees'
- en: 'FLAG: 16417'
  id: totrans-1454
  prefs: []
  type: TYPE_NORMAL
  zh: '标志: 16417'
- en: 'ROW_FORMAT: Dynamic'
  id: totrans-1455
  prefs: []
  type: TYPE_NORMAL
  zh: '行格式: Dynamic'
- en: 'PAGE_SIZE: 16384'
  id: totrans-1456
  prefs: []
  type: TYPE_NORMAL
  zh: 'PAGE_SIZE: 16384'
- en: 'ZIP_PAGE_SIZE: 0'
  id: totrans-1457
  prefs: []
  type: TYPE_NORMAL
  zh: 'ZIP_PAGE_SIZE: 0'
- en: 'SPACE_TYPE: Single'
  id: totrans-1458
  prefs: []
  type: TYPE_NORMAL
  zh: 'SPACE_TYPE: Single'
- en: 'FS_BLOCK_SIZE: 4096'
  id: totrans-1459
  prefs: []
  type: TYPE_NORMAL
  zh: 'FS_BLOCK_SIZE: 4096'
- en: 'FILE_SIZE: 32505856'
  id: totrans-1460
  prefs: []
  type: TYPE_NORMAL
  zh: '文件大小: 32505856'
- en: 'ALLOCATED_SIZE: 32509952'
  id: totrans-1461
  prefs: []
  type: TYPE_NORMAL
  zh: 'ALLOCATED_SIZE: 32509952'
- en: 1 row in set (0.00 sec)
  id: totrans-1462
  prefs: []
  type: TYPE_NORMAL
  zh: 1 行 (0.00 秒)
- en: '[PRE178]'
  id: totrans-1463
  prefs: []
  type: TYPE_PRE
  zh: '[PRE178]'
- en: shell> sudo ls -ltr /var/lib/mysql/employees/employees.ibd
  id: totrans-1464
  prefs: []
  type: TYPE_NORMAL
  zh: shell> sudo ls -ltr /var/lib/mysql/employees/employees.ibd
- en: -rw-r----- 1 mysql mysql 32505856 Jun 20 16:50 /var/lib/mysql/employees/employees.ibd
  id: totrans-1465
  prefs: []
  type: TYPE_NORMAL
  zh: -rw-r----- 1 mysql mysql 32505856 Jun 20 16:50 /var/lib/mysql/employees/employees.ibd
- en: '[PRE179]'
  id: totrans-1466
  prefs: []
  type: TYPE_PRE
  zh: '[PRE179]'
- en: mysql> SELECT * FROM INNODB_TABLESTATS WHERE NAME='employees/employees'\G
  id: totrans-1467
  prefs: []
  type: TYPE_NORMAL
  zh: mysql> 从INNODB_TABLESTATS中选择* WHERE NAME='employees/employees'\G
- en: '*************************** 1\. row ***************************'
  id: totrans-1468
  prefs: []
  type: TYPE_NORMAL
  zh: '*************************** 1\. 行 ***************************'
- en: 'TABLE_ID: 128'
  id: totrans-1469
  prefs: []
  type: TYPE_NORMAL
  zh: 'TABLE_ID: 128'
- en: 'NAME: employees/employees'
  id: totrans-1470
  prefs: []
  type: TYPE_NORMAL
  zh: 名称：employees/employees
- en: 'STATS_INITIALIZED: Initialized'
  id: totrans-1471
  prefs: []
  type: TYPE_NORMAL
  zh: 'STATS_INITIALIZED: 已初始化'
- en: 'NUM_ROWS: 299468'
  id: totrans-1472
  prefs: []
  type: TYPE_NORMAL
  zh: 'NUM_ROWS: 299468'
- en: 'CLUST_INDEX_SIZE: 1057'
  id: totrans-1473
  prefs: []
  type: TYPE_NORMAL
  zh: 'CLUST_INDEX_SIZE: 1057'
- en: 'OTHER_INDEX_SIZE: 545'
  id: totrans-1474
  prefs: []
  type: TYPE_NORMAL
  zh: 'OTHER_INDEX_SIZE: 545'
- en: 'MODIFIED_COUNTER: 0'
  id: totrans-1475
  prefs: []
  type: TYPE_NORMAL
  zh: 'MODIFIED_COUNTER: 0'
- en: 'AUTOINC: 0'
  id: totrans-1476
  prefs: []
  type: TYPE_NORMAL
  zh: 'AUTOINC: 0'
- en: 'REF_COUNT: 1'
  id: totrans-1477
  prefs: []
  type: TYPE_NORMAL
  zh: 'REF_COUNT: 1'
- en: 1 row in set (0.00 sec)
  id: totrans-1478
  prefs: []
  type: TYPE_NORMAL
  zh: 1行（0.00秒）
- en: '[PRE180]'
  id: totrans-1479
  prefs: []
  type: TYPE_PRE
  zh: '[PRE180]'
- en: mysql> SELECT * FROM PROCESSLIST\G
  id: totrans-1480
  prefs: []
  type: TYPE_NORMAL
  zh: 'mysql> 从PROCESSLIST\G中选择* '
- en: '*************************** 1\. row ***************************'
  id: totrans-1481
  prefs: []
  type: TYPE_NORMAL
  zh: '*************************** 1\. 行 ***************************'
- en: 'ID: 85'
  id: totrans-1482
  prefs: []
  type: TYPE_NORMAL
  zh: 'ID: 85'
- en: 'USER: event_scheduler'
  id: totrans-1483
  prefs: []
  type: TYPE_NORMAL
  zh: 用户：event_scheduler
- en: 'HOST: localhost'
  id: totrans-1484
  prefs: []
  type: TYPE_NORMAL
  zh: 主机：localhost
- en: 'DB: NULL'
  id: totrans-1485
  prefs: []
  type: TYPE_NORMAL
  zh: 数据库：NULL
- en: 'COMMAND: Daemon'
  id: totrans-1486
  prefs: []
  type: TYPE_NORMAL
  zh: 命令：守护进程
- en: 'TIME: 44'
  id: totrans-1487
  prefs: []
  type: TYPE_NORMAL
  zh: 时间：44
- en: 'STATE: Waiting for next activation'
  id: totrans-1488
  prefs: []
  type: TYPE_NORMAL
  zh: 状态：等待下一次激活
- en: 'INFO: NULL'
  id: totrans-1489
  prefs: []
  type: TYPE_NORMAL
  zh: 'INFO: NULL'
- en: '*************************** 2\. row ***************************'
  id: totrans-1490
  prefs: []
  type: TYPE_NORMAL
  zh: '*************************** 2\. 行 ***************************'
- en: 'ID: 26231'
  id: totrans-1491
  prefs: []
  type: TYPE_NORMAL
  zh: 'ID: 26231'
- en: 'USER: root'
  id: totrans-1492
  prefs: []
  type: TYPE_NORMAL
  zh: 用户：root
- en: 'HOST: localhost'
  id: totrans-1493
  prefs: []
  type: TYPE_NORMAL
  zh: 主机：localhost
- en: 'DB: information_schema'
  id: totrans-1494
  prefs: []
  type: TYPE_NORMAL
  zh: 数据库：information_schema
- en: 'COMMAND: Query'
  id: totrans-1495
  prefs: []
  type: TYPE_NORMAL
  zh: 命令：查询
- en: 'TIME: 0'
  id: totrans-1496
  prefs: []
  type: TYPE_NORMAL
  zh: 时间：0
- en: 'STATE: executing'
  id: totrans-1497
  prefs: []
  type: TYPE_NORMAL
  zh: 状态：执行中
- en: 'INFO: SELECT * FROM PROCESSLIST'
  id: totrans-1498
  prefs: []
  type: TYPE_NORMAL
  zh: 'INFO: 从PROCESSLIST中选择* '
- en: 2 rows in set (0.00 sec
  id: totrans-1499
  prefs: []
  type: TYPE_NORMAL
  zh: 2行（0.00秒）
- en: '```'
  id: totrans-1500
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: Or you can execute `SHOW PROCESSLIST;` to get the same output.
  id: totrans-1501
  prefs: []
  type: TYPE_NORMAL
  zh: 或者您可以执行`SHOW PROCESSLIST;`以获得相同的输出。
- en: '**Other tables**: `ROUTINES` contains the definition of functions and stored
    routines. `TRIGGERS` contains the definition of triggers. `VIEWS` contains the
    definition of views.'
  id: totrans-1502
  prefs: []
  type: TYPE_NORMAL
  zh: '**其他表**：`ROUTINES`包含函数和存储过程的定义。`TRIGGERS`包含触发器的定义。`VIEWS`包含视图的定义。'
- en: See also
  id: totrans-1503
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 另请参阅
- en: To learn about the improvements in `INFORMATION_SCHEMA`, refer to [http://mysqlserverteam.com/mysql-8-0-improvements-to-information_schema/](http://mysqlserverteam.com/mysql-8-0-improvements-to-information_schema/).
  id: totrans-1504
  prefs: []
  type: TYPE_NORMAL
  zh: 要了解`INFORMATION_SCHEMA`的改进，请参阅[http://mysqlserverteam.com/mysql-8-0-improvements-to-information_schema/](http://mysqlserverteam.com/mysql-8-0-improvements-to-information_schema/)。
