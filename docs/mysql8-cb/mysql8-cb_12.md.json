["```go\nmysql> SELECT @@global.log_error_services;\n+----------------------------------------+\n| @@global.log_error_services            |\n+----------------------------------------+\n| log_filter_internal; log_sink_internal |\n+----------------------------------------+\n```", "```go\nshell> sudo mkdir /var/log/mysql\nshell> sudo chown -R mysql:mysql /var/log/mysql\n\nshell> sudo vi /etc/my.cnf\n[mysqld]\nlog-error=/var/log/mysql/mysqld.log\n\nshell> sudo systemctl restart mysql\n```", "```go\nmysql> SHOW VARIABLES LIKE 'log_error';\n+---------------+---------------------------+\n| Variable_name | Value                     |\n+---------------+---------------------------+\n| log_error     | /var/log/mysql/mysqld.log |\n+---------------+---------------------------+\n1 row in set (0.00 sec)\n```", "```go\nmysql> SET @@GLOBAL.log_error_verbosity=2;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> SELECT @@GLOBAL.log_error_verbosity;\n+------------------------------+\n| @@GLOBAL.log_error_verbosity |\n+------------------------------+\n|                            2 |\n+------------------------------+\n1 row in set (0.00 sec)\n```", "```go\nshell> sudo mv /var/log/mysql/mysqld.log /var/log/mysql/mysqld.log.0; \n\nshell> mysqladmin -u root -p<password> flush-logs\nmysqladmin: [Warning] Using a password on the command line interface can be insecure.\n\nshell> ls -lhtr /var/log/mysql/mysqld.log\n-rw-r-----. 1 mysql mysql 0 Oct 10 14:03 /var/log/mysql/mysqld.log\n\nshell> ls -lhtr /var/log/mysql/mysqld.log.0 \n-rw-r-----. 1 mysql mysql 3.4K Oct 10 14:03 /var/log/mysql/mysqld.log.0\n```", "```go\nshell> sudo mv /var/log/mysqld.log /var/log/mysqld.log.0 && mysqladmin flush-logs -u root -p<password>\nmysqladmin: [Warning] Using a password on the command line interface can be insecure.\nmysqladmin: refresh failed; error: 'Unknown error'\n```", "```go\nmysql> INSTALL COMPONENT 'file://component_log_sink_syseventlog';\nQuery OK, 0 rows affected (0.43 sec)\n```", "```go\nmysql> SET PERSIST log_error_services = 'log_filter_internal; log_sink_syseventlog';\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> SHOW VARIABLES LIKE 'log_error_services';\n+--------------------+-------------------------------------------+\n| Variable_name      | Value                                     |\n+--------------------+-------------------------------------------+\n| log_error_services | log_filter_internal; log_sink_syseventlog |\n+--------------------+-------------------------------------------+\n1 row in set (0.00 sec)\n```", "```go\nshell> sudo grep mysqld /var/log/messages | tail\nOct 10 14:50:31 centos7 mysqld[20953]: InnoDB: Buffer pool(s) dump completed at 171010 14:50:31\nOct 10 14:50:32 centos7 mysqld[20953]: InnoDB: Shutdown completed; log sequence number 350327631\nOct 10 14:50:32 centos7 mysqld[20953]: InnoDB: Removed temporary tablespace data file: \"ibtmp1\"\nOct 10 14:50:32 centos7 mysqld[20953]: Shutting down plugin 'MEMORY'\nOct 10 14:50:32 centos7 mysqld[20953]: Shutting down plugin 'CSV'\nOct 10 14:50:32 centos7 mysqld[20953]: Shutting down plugin 'sha256_password'\nOct 10 14:50:32 centos7 mysqld[20953]: Shutting down plugin 'mysql_native_password'\nOct 10 14:50:32 centos7 mysqld[20953]: Shutting down plugin 'binlog'\nOct 10 14:50:32 centos7 mysqld[20953]: /usr/sbin/mysqld: Shutdown complete\nOct 10 14:50:33 centos7 mysqld[21220]: /usr/sbin/mysqld: ready for connections. Version: '8.0.3-rc-log'  socket: '/var/lib/mysql/mysql.sock'  port: 3306  MySQL Community Server (GPL)\n```", "```go\nmysql> SELECT @@GLOBAL.log_syslog_tag;\n+-------------------------+\n| @@GLOBAL.log_syslog_tag |\n+-------------------------+\n|                         |\n+-------------------------+\n1 row in set (0.00 sec)\n\nmysql> SET @@GLOBAL.log_syslog_tag='instance1';\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> SELECT @@GLOBAL.log_syslog_tag;\n+-------------------------+\n| @@GLOBAL.log_syslog_tag |\n+-------------------------+\n| instance1               |\n+-------------------------+\n1 row in set (0.01 sec)\n\nshell> sudo systemctl restart mysqld\n\nshell> sudo grep mysqld /var/log/messages | tail\nOct 10 14:59:20 centos7 mysqld-instance1[21220]: InnoDB: Buffer pool(s) dump completed at 171010 14:59:20\nOct 10 14:59:21 centos7 mysqld-instance1[21220]: InnoDB: Shutdown completed; log sequence number 350355306\nOct 10 14:59:21 centos7 mysqld-instance1[21220]: InnoDB: Removed temporary tablespace data file: \"ibtmp1\"\nOct 10 14:59:21 centos7 mysqld-instance1[21220]: Shutting down plugin 'MEMORY'\nOct 10 14:59:21 centos7 mysqld-instance1[21220]: Shutting down plugin 'CSV'\nOct 10 14:59:21 centos7 mysqld-instance1[21220]: Shutting down plugin 'sha256_password'\nOct 10 14:59:21 centos7 mysqld-instance1[21220]: Shutting down plugin 'mysql_native_password'\nOct 10 14:59:21 centos7 mysqld-instance1[21220]: Shutting down plugin 'binlog'\nOct 10 14:59:21 centos7 mysqld-instance1[21220]: /usr/sbin/mysqld: Shutdown complete\nOct 10 14:59:22 centos7 mysqld[21309]: /usr/sbin/mysqld: ready for connections. Version: '8.0.3-rc-log'  socket: '/var/lib/mysql/mysql.sock'  port: 3306  MySQL Community Server (GPL)\n```", "```go\nmysql> SET @@global.log_error_services='log_filter_internal; log_sink_internal';\nQuery OK, 0 rows affected (0.00 sec)\n```", "```go\nmysql> INSTALL COMPONENT 'file://component_log_sink_json';\nQuery OK, 0 rows affected (0.05 sec)\n```", "```go\nmysql> SET PERSIST log_error_services = 'log_filter_internal; log_sink_json';\nQuery OK, 0 rows affected (0.00 sec)\n```", "```go\nmysql> SHOW VARIABLES LIKE 'log_error';\n+---------------+---------------------------+\n| Variable_name | Value                     |\n+---------------+---------------------------+\n| log_error     | /var/log/mysql/mysqld.log |\n+---------------+---------------------------+\n1 row in set (0.00 sec)\n```", "```go\nshell> sudo less /var/log/mysql/mysqld.log.00.json\n{ \"prio\" : 2, \"err_code\" : 4356, \"subsystem\" : \"\", \"SQL_state\" : \"HY000\", \"source_file\" : \"sql_plugin.cc\", \"function\" : \"reap_plugins\", \"msg\" : \"Shutting down plugin 'sha256_password'\", \"time\" : \"2017-10-15T12:29:08.862969Z\", \"err_symbol\" : \"ER_PLUGIN_SHUTTING_DOWN_PLUGIN\", \"label\" : \"Note\" }\n{ \"prio\" : 2, \"err_code\" : 4356, \"subsystem\" : \"\", \"SQL_state\" : \"HY000\", \"source_file\" : \"sql_plugin.cc\", \"function\" : \"reap_plugins\", \"msg\" : \"Shutting down plugin 'mysql_native_password'\", \"time\" : \"2017-10-15T12:29:08.862975Z\", \"err_symbol\" : \"ER_PLUGIN_SHUTTING_DOWN_PLUGIN\", \"label\" : \"Note\" }\n{ \"prio\" : 2, \"err_code\" : 4356, \"subsystem\" : \"\", \"SQL_state\" : \"HY000\", \"source_file\" : \"sql_plugin.cc\", \"function\" : \"reap_plugins\", \"msg\" : \"Shutting down plugin 'binlog'\", \"time\" : \"2017-10-15T12:29:08.863758Z\",  \"err_symbol\" : \"ER_PLUGIN_SHUTTING_DOWN_PLUGIN\", \"label\" : \"Note\" }\n{  \"prio\" : 2, \"err_code\" : 1079, \"subsystem\" : \"\", \"SQL_state\" : \"HY000\",  \"source_file\" : \"mysqld.cc\", \"function\" : \"clean_up\", \"msg\" : \"/usr/sbin/mysqld: Shutdown complete\\u000a\", \"time\" : \"2017-10-15T12:29:08.867077Z\", \"err_symbol\" : \"ER_SHUTDOWN_COMPLETE\", \"label\" : \"Note\" }\n{ \"log_type\" : 1, \"prio\" : 0, \"err_code\" : 1408, \"msg\" : \"/usr/sbin/mysqld: ready for connections. Version: '8.0.3-rc-log'  socket: '/var/lib/mysql/mysql.sock'  port: 3306  MySQL Community Server (GPL)\", \"time\" : \"2017-10-15T12:29:10.952502Z\", \"err_symbol\" : \"ER_STARTUP\", \"SQL_state\" : \"HY000\", \"label\" : \"Note\" }\n```", "```go\nmysql> SET @@global.log_error_services='log_filter_internal; log_sink_internal';\nQuery OK, 0 rows affected (0.00 sec)\n```", "```go\nmysql> SET @@GLOBAL.general_log_file='/var/log/mysql/general_query_log';\nQuery OK, 0 rows affected (0.04 sec)\n```", "```go\nmysql> SET GLOBAL general_log = 'ON';\nQuery OK, 0 rows affected (0.00 sec)\n```", "```go\nshell> sudo cat /var/log/mysql/general_query_log\n/usr/sbin/mysqld, Version: 8.0.3-rc-log (MySQL Community Server (GPL)). started with:\nTcp port: 3306  Unix socket: /var/lib/mysql/mysql.sock\nTime                 Id Command    Argument\n2017-10-11T04:21:00.118944Z      220 Connect    root@localhost on  using Socket\n2017-10-11T04:21:00.119212Z      220 Query    select @@version_comment limit 1\n2017-10-11T04:21:03.217603Z      220 Query    SELECT DATABASE()\n2017-10-11T04:21:03.218275Z      220 Init DB    employees\n2017-10-11T04:21:03.219339Z      220 Query    show databases\n2017-10-11T04:21:03.220189Z      220 Query    show tables\n2017-10-11T04:21:03.227635Z      220 Field List    current_dept_emp\n2017-10-11T04:21:03.233820Z      220 Field List    departments \n2017-10-11T04:21:03.235937Z      220 Field List    dept_emp \n2017-10-11T04:21:03.236089Z      220 Field List    dept_emp_latest_date \n2017-10-11T04:21:03.236337Z      220 Field List    dept_manager \n2017-10-11T04:21:03.237291Z      220 Field List    employee_names \n2017-10-11T04:21:03.237999Z      220 Field List    employees \n2017-10-11T04:21:03.247921Z      220 Field List    titles \n2017-10-11T04:21:03.248217Z      220 Field List    titles_only \n~\n~\n2017-10-11T04:21:09.483117Z      220 Query    select count(*) from employees\n2017-10-11T04:21:10.523421Z      220 Quit\n```", "```go\nmysql> SELECT @@GLOBAL.LONG_QUERY_TIME;\n+--------------------------+\n| @@GLOBAL.LONG_QUERY_TIME |\n+--------------------------+\n|                10.000000 |\n+--------------------------+\n1 row in set (0.00 sec)\n\nmysql> SET @@GLOBAL.LONG_QUERY_TIME=1;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> SELECT @@GLOBAL.LONG_QUERY_TIME;\n+--------------------------+\n| @@GLOBAL.LONG_QUERY_TIME |\n+--------------------------+\n|                 1.000000 |\n+--------------------------+\n1 row in set (0.00 sec)\n```", "```go\nmysql> SELECT @@GLOBAL.slow_query_log_file;\n+---------------------------------+\n| @@GLOBAL.slow_query_log_file    |\n+---------------------------------+\n| /var/lib/mysql/server1-slow.log |\n+---------------------------------+\n1 row in set (0.00 sec)\n\nmysql> SET @@GLOBAL.slow_query_log_file='/var/log/mysql/mysql_slow.log';                                                                         Query OK, 0 rows affected (0.00 sec)\n\nmysql> SELECT @@GLOBAL.slow_query_log_file;\n+-------------------------------+\n| @@GLOBAL.slow_query_log_file  |\n+-------------------------------+\n| /var/log/mysql/mysql_slow.log |\n+-------------------------------+\n1 row in set (0.00 sec)\n\nmysql> FLUSH LOGS;\nQuery OK, 0 rows affected (0.03 sec)\n```", "```go\nmysql> SELECT @@GLOBAL.slow_query_log;\n+-------------------------+\n| @@GLOBAL.slow_query_log |\n+-------------------------+\n|                       0 |\n+-------------------------+\n1 row in set (0.00 sec)\n\nmysql> SET @@GLOBAL.slow_query_log=1;\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql> SELECT @@GLOBAL.slow_query_log;\n+-------------------------+\n| @@GLOBAL.slow_query_log |\n+-------------------------+\n|                       1 |\n+-------------------------+\n1 row in set (0.00 sec)\n```", "```go\nmysql> SELECT SLEEP(2);\n+----------+\n| SLEEP(2) |\n+----------+\n|        0 |\n+----------+\n1 row in set (2.00 sec)\n\nshell> sudo less /var/log/mysql/mysql_slow.log \n/usr/sbin/mysqld, Version: 8.0.3-rc-log (MySQL Community Server (GPL)). started with:\nTcp port: 3306  Unix socket: /var/lib/mysql/mysql.sock\nTime                 Id Command    Argument\n# Time: 2017-10-15T12:43:55.038601Z\n# User@Host: root[root] @ localhost []  Id:     7\n# Query_time: 2.000845  Lock_time: 0.000000 Rows_sent: 1  Rows_examined: 0\nSET timestamp=1508071435;\nSELECT SLEEP(2);\n```", "```go\nmysql> SET @@GLOBAL.log_output='TABLE';\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> SET @@GLOBAL.general_log='ON';\nQuery OK, 0 rows affected (0.02 sec)\n```", "```go\nmysql> SELECT * FROM mysql.general_log WHERE command_type='Query' \\G\n~\n~\n*************************** 3\\. row ***************************\n  event_time: 2017-10-25 10:56:56.416746\n   user_host: root[root] @ localhost []\n   thread_id: 2421\n   server_id: 32\ncommand_type: Query\n    argument: show databases\n*************************** 4\\. row ***************************\n  event_time: 2017-10-25 10:56:56.418896\n   user_host: root[root] @ localhost []\n   thread_id: 2421\n   server_id: 32\ncommand_type: Query\n    argument: show tables\n*************************** 5\\. row ***************************\n  event_time: 2017-10-25 10:57:08.207964\n   user_host: root[root] @ localhost []\n   thread_id: 2421\n   server_id: 32\ncommand_type: Query\n    argument: select * from salaries limit 1\n*************************** 6\\. row ***************************\n  event_time: 2017-10-25 10:57:47.041475\n   user_host: root[root] @ localhost []\n   thread_id: 2421\n   server_id: 32\ncommand_type: Query\n    argument: SELECT * FROM mysql.general_log WHERE command_type='Query'\n```", "```go\nmysql> SET @@GLOBAL.slow_query_log=1;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> SET @@GLOBAL.long_query_time=1;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> SELECT SLEEP(2);\n+----------+\n| SLEEP(2) |\n+----------+\n|        0 |\n+----------+\n1 row in set (2.00 sec)\n\nmysql> SELECT * FROM mysql.slow_log \\G\n*************************** 1\\. row ***************************\n    start_time: 2017-10-25 11:01:44.817421\n     user_host: root[root] @ localhost []\n    query_time: 00:00:02.000530\n     lock_time: 00:00:00.000000\n     rows_sent: 1\n rows_examined: 0\n            db: employees\nlast_insert_id: 0\n     insert_id: 0\n     server_id: 32\n      sql_text: SELECT SLEEP(2)\n     thread_id: 2421\n1 row in set (0.00 sec)\n```", "```go\nmysql> DROP TABLE IF EXISTS mysql.general_log_new;\nQuery OK, 0 rows affected, 1 warning (0.19 sec)\n\nmysql> CREATE TABLE mysql.general_log_new LIKE mysql.general_log;\nQuery OK, 0 rows affected (0.10 sec)\n```", "```go\nmysql> RENAME TABLE mysql.general_log TO mysql.general_log_1, mysql.general_log_new TO mysql.general_log;\nQuery OK, 0 rows affected (0.00 sec)\n```", "```go\nshell> mysqlbinlogpurge --master=dbadmin:<pass>@master:3306 --slaves=dbadmin:<pass>@slave1:3306,dbadmin:<pass>@slave2:3306\n```", "```go\nmysql> SHOW BINARY LOGS;\n+--------------------+-----------+\n| Log_name           | File_size |\n+--------------------+-----------+\n| master-bin.000001  |       177 |\n~\n| master-bin.000018  |     47785 |\n| master-bin.000019  |       203 |\n| master-bin.000020  |       203 |\n| master-bin.000021  |       177 |\n| master-bin.000022  |       203 |\n| master-bin.000023  |  57739432 |\n+--------------------+-----------+\n23 rows in set (0.00 sec)\n\nshell> mysqlbinlogpurge --master=dbadmin:<pass>@master:3306 --slaves=dbadmin:<pass>@slave1:3306,dbadmin:<pass>@slave2:3306\n\n# Latest binlog file replicated by all slaves: master-bin.000022\n# Purging binary logs prior to 'master-bin.000023'\n```", "```go\nshell> sudo vi /etc/my.cnf\n[mysqld]\nreport-host     = slave1\nreport-port     = 3306\n\nshell> sudo systemctl restart mysql\n\nmysql> SHOW VARIABLES LIKE 'report%';\n+-----------------+---------------+\n| Variable_name   | Value         |\n+-----------------+---------------+\n| report_host     | slave1        |\n| report_password |               |\n| report_port     | 3306          |\n| report_user     |               |\n+-----------------+---------------+\n4 rows in set (0.00 sec)\n```", "```go\nmysql> SHOW BINARY LOGS;\n+--------------------+-----------+\n| Log_name           | File_size |\n+--------------------+-----------+\n| centos7-bin.000025 |       203 |\n| centos7-bin.000026 |       203 |\n| centos7-bin.000027 |       203 |\n| centos7-bin.000028 |       154 |\n+--------------------+-----------+\n4 rows in set (0.00 sec)\n\nshell> mysqlbinlogpurge --master=dbadmin:<pass>@master --discover-slaves-login=dbadmin:<pass>\n# Discovering slaves for master at master:3306\n# Discovering slave at slave1:3306\n# Found slave: slave1:3306\n# Discovering slave at slave2:3306\n# Found slave: slave2:3306\n# Latest binlog file replicated by all slaves: master-bin.000027\n# Purging binary logs prior to 'master-bin.000028'\n```"]